"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@blocknote";
exports.ids = ["vendor-chunks/@blocknote"];
exports.modules = {

/***/ "(ssr)/./node_modules/@blocknote/mantine/dist/style.css":
/*!********************************************************!*\
  !*** ./node_modules/@blocknote/mantine/dist/style.css ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"d2416877e0e3\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9tYW50aW5lL2Rpc3Qvc3R5bGUuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGQvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9tYW50aW5lL2Rpc3Qvc3R5bGUuY3NzP2Q2YTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCJkMjQxNjg3N2UwZTNcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@blocknote/mantine/dist/style.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@blocknote/core/dist/blocknote.js":
/*!********************************************************!*\
  !*** ./node_modules/@blocknote/core/dist/blocknote.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioBlock: () => (/* binding */ li),\n/* harmony export */   BlockNoteEditor: () => (/* binding */ _t),\n/* harmony export */   BlockNoteSchema: () => (/* binding */ Te),\n/* harmony export */   FileBlock: () => (/* binding */ Go),\n/* harmony export */   FilePanelProsemirrorPlugin: () => (/* binding */ Xi),\n/* harmony export */   FilePanelView: () => (/* binding */ qi),\n/* harmony export */   FormattingToolbarProsemirrorPlugin: () => (/* binding */ Yi),\n/* harmony export */   FormattingToolbarView: () => (/* binding */ Zi),\n/* harmony export */   ImageBlock: () => (/* binding */ Zo),\n/* harmony export */   LinkToolbarProsemirrorPlugin: () => (/* binding */ tn),\n/* harmony export */   SideMenuProsemirrorPlugin: () => (/* binding */ un),\n/* harmony export */   SideMenuView: () => (/* binding */ dn),\n/* harmony export */   SuggestionMenuProseMirrorPlugin: () => (/* binding */ rn),\n/* harmony export */   TableHandlesProsemirrorPlugin: () => (/* binding */ gn),\n/* harmony export */   TableHandlesView: () => (/* binding */ fn),\n/* harmony export */   UniqueID: () => (/* binding */ J),\n/* harmony export */   UnreachableCaseError: () => (/* binding */ I),\n/* harmony export */   VideoBlock: () => (/* binding */ oi),\n/* harmony export */   addIdsToBlock: () => (/* binding */ Vn),\n/* harmony export */   addIdsToBlocks: () => (/* binding */ jn),\n/* harmony export */   addInlineContentAttributes: () => (/* binding */ Io),\n/* harmony export */   addInlineContentKeyboardShortcuts: () => (/* binding */ Ao),\n/* harmony export */   addStyleAttributes: () => (/* binding */ Do),\n/* harmony export */   assertEmpty: () => (/* binding */ xr),\n/* harmony export */   audioBlockConfig: () => (/* binding */ ni),\n/* harmony export */   audioParse: () => (/* binding */ ai),\n/* harmony export */   audioPropSchema: () => (/* binding */ ii),\n/* harmony export */   audioRender: () => (/* binding */ ri),\n/* harmony export */   audioToExternalHTML: () => (/* binding */ si),\n/* harmony export */   blockToNode: () => (/* binding */ N),\n/* harmony export */   camelToDataKebab: () => (/* binding */ oe),\n/* harmony export */   checkBlockHasDefaultProp: () => (/* binding */ Hr),\n/* harmony export */   checkBlockIsDefaultType: () => (/* binding */ Ir),\n/* harmony export */   checkBlockIsFileBlock: () => (/* binding */ Ar),\n/* harmony export */   checkBlockIsFileBlockWithPlaceholder: () => (/* binding */ Pr),\n/* harmony export */   checkBlockIsFileBlockWithPreview: () => (/* binding */ Nr),\n/* harmony export */   checkBlockTypeHasDefaultProp: () => (/* binding */ Ni),\n/* harmony export */   checkDefaultBlockTypeInSchema: () => (/* binding */ S),\n/* harmony export */   contentNodeToInlineContent: () => (/* binding */ ve),\n/* harmony export */   createAddFileButton: () => (/* binding */ se),\n/* harmony export */   createBlockSpec: () => (/* binding */ re),\n/* harmony export */   createBlockSpecFromStronglyTypedTiptapNode: () => (/* binding */ Q),\n/* harmony export */   createDefaultFilePreview: () => (/* binding */ ae),\n/* harmony export */   createExternalHTMLExporter: () => (/* binding */ ne),\n/* harmony export */   createFigureWithCaption: () => (/* binding */ xe),\n/* harmony export */   createFileAndCaptionWrapper: () => (/* binding */ O),\n/* harmony export */   createInlineContentSpec: () => (/* binding */ Sr),\n/* harmony export */   createInlineContentSpecFromTipTapNode: () => (/* binding */ Po),\n/* harmony export */   createInternalBlockSpec: () => (/* binding */ st),\n/* harmony export */   createInternalHTMLSerializer: () => (/* binding */ nt),\n/* harmony export */   createInternalInlineContentSpec: () => (/* binding */ No),\n/* harmony export */   createInternalStyleSpec: () => (/* binding */ ct),\n/* harmony export */   createLinkWithCaption: () => (/* binding */ de),\n/* harmony export */   createResizeHandlesWrapper: () => (/* binding */ pt),\n/* harmony export */   createStronglyTypedTiptapNode: () => (/* binding */ G),\n/* harmony export */   createStyleSpec: () => (/* binding */ Mr),\n/* harmony export */   createStyleSpecFromTipTapMark: () => (/* binding */ P),\n/* harmony export */   createSuggestionMenu: () => (/* binding */ Ur),\n/* harmony export */   defaultBlockSchema: () => (/* binding */ Ai),\n/* harmony export */   defaultBlockSpecs: () => (/* binding */ ht),\n/* harmony export */   defaultInlineContentSchema: () => (/* binding */ Lr),\n/* harmony export */   defaultInlineContentSpecs: () => (/* binding */ ft),\n/* harmony export */   defaultProps: () => (/* binding */ k),\n/* harmony export */   defaultStyleSchema: () => (/* binding */ Br),\n/* harmony export */   defaultStyleSpecs: () => (/* binding */ mt),\n/* harmony export */   fileBlockConfig: () => (/* binding */ Vo),\n/* harmony export */   fileParse: () => (/* binding */ zo),\n/* harmony export */   filePropSchema: () => (/* binding */ Ro),\n/* harmony export */   fileRender: () => (/* binding */ jo),\n/* harmony export */   fileToExternalHTML: () => (/* binding */ Fo),\n/* harmony export */   filenameFromURL: () => (/* binding */ Cr),\n/* harmony export */   filterSuggestionItems: () => (/* binding */ Or),\n/* harmony export */   formatKeyboardShortcut: () => (/* binding */ R),\n/* harmony export */   formattingToolbarPluginKey: () => (/* binding */ Ji),\n/* harmony export */   getBlockFromPos: () => (/* binding */ Bo),\n/* harmony export */   getBlockNoteExtensions: () => (/* binding */ An),\n/* harmony export */   getBlockSchemaFromSpecs: () => (/* binding */ lt),\n/* harmony export */   getDefaultSlashMenuItems: () => (/* binding */ Dr),\n/* harmony export */   getDraggableBlockFromCoords: () => (/* binding */ Me),\n/* harmony export */   getInlineContentParseRules: () => (/* binding */ Ho),\n/* harmony export */   getInlineContentSchemaFromSpecs: () => (/* binding */ dt),\n/* harmony export */   getParseRules: () => (/* binding */ Lo),\n/* harmony export */   getStyleParseRules: () => (/* binding */ Oo),\n/* harmony export */   getStyleSchemaFromSpecs: () => (/* binding */ ut),\n/* harmony export */   imageBlockConfig: () => (/* binding */ $o),\n/* harmony export */   imageParse: () => (/* binding */ qo),\n/* harmony export */   imagePropSchema: () => (/* binding */ Wo),\n/* harmony export */   imageRender: () => (/* binding */ Ko),\n/* harmony export */   imageToExternalHTML: () => (/* binding */ Xo),\n/* harmony export */   inheritedProps: () => (/* binding */ rt),\n/* harmony export */   inlineContentToNodes: () => (/* binding */ ie),\n/* harmony export */   insertOrUpdateBlock: () => (/* binding */ C),\n/* harmony export */   isAppleOS: () => (/* binding */ To),\n/* harmony export */   isLinkInlineContent: () => (/* binding */ He),\n/* harmony export */   isPartialLinkInlineContent: () => (/* binding */ Ye),\n/* harmony export */   isSafari: () => (/* binding */ Er),\n/* harmony export */   isStyledTextInlineContent: () => (/* binding */ Z),\n/* harmony export */   linkToolbarPluginKey: () => (/* binding */ en),\n/* harmony export */   locales: () => (/* binding */ vr),\n/* harmony export */   mergeCSSClasses: () => (/* binding */ D),\n/* harmony export */   nodeToBlock: () => (/* binding */ _),\n/* harmony export */   nodeToCustomInlineContent: () => (/* binding */ tt),\n/* harmony export */   parseEmbedElement: () => (/* binding */ Oe),\n/* harmony export */   parseFigureElement: () => (/* binding */ le),\n/* harmony export */   parseImageElement: () => (/* binding */ Re),\n/* harmony export */   partialBlockToBlockForTesting: () => (/* binding */ vt),\n/* harmony export */   partialBlocksToBlocksForTesting: () => (/* binding */ Rr),\n/* harmony export */   propsToAttributes: () => (/* binding */ at),\n/* harmony export */   sideMenuPluginKey: () => (/* binding */ cn),\n/* harmony export */   stylePropsToAttributes: () => (/* binding */ Uo),\n/* harmony export */   suggestionMenuPluginKey: () => (/* binding */ U),\n/* harmony export */   tableContentToNodes: () => (/* binding */ Qe),\n/* harmony export */   tableHandlesPluginKey: () => (/* binding */ X),\n/* harmony export */   uploadToTmpFilesDotOrg_DEV_ONLY: () => (/* binding */ Tr),\n/* harmony export */   videoBlockConfig: () => (/* binding */ Yo),\n/* harmony export */   videoParse: () => (/* binding */ ei),\n/* harmony export */   videoPropSchema: () => (/* binding */ Jo),\n/* harmony export */   videoRender: () => (/* binding */ Qo),\n/* harmony export */   videoToExternalHTML: () => (/* binding */ ti),\n/* harmony export */   wrapInBlockStructure: () => (/* binding */ pe)\n/* harmony export */ });\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! prosemirror-model */ \"(ssr)/./node_modules/prosemirror-model/dist/index.js\");\n/* harmony import */ var rehype_parse__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rehype-parse */ \"(ssr)/./node_modules/rehype-parse/lib/index.js\");\n/* harmony import */ var rehype_stringify__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rehype-stringify */ \"(ssr)/./node_modules/rehype-stringify/lib/index.js\");\n/* harmony import */ var unified__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! unified */ \"(ssr)/./node_modules/unified/lib/index.js\");\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! prosemirror-state */ \"(ssr)/./node_modules/prosemirror-state/dist/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var hast_util_from_dom__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! hast-util-from-dom */ \"(ssr)/./node_modules/hast-util-from-dom/lib/index.js\");\n/* harmony import */ var _tiptap_extension_bold__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/extension-bold */ \"(ssr)/./node_modules/@tiptap/extension-bold/dist/index.js\");\n/* harmony import */ var _tiptap_extension_code__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/extension-code */ \"(ssr)/./node_modules/@tiptap/extension-code/dist/index.js\");\n/* harmony import */ var _tiptap_extension_italic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/extension-italic */ \"(ssr)/./node_modules/@tiptap/extension-italic/dist/index.js\");\n/* harmony import */ var _tiptap_extension_strike__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/extension-strike */ \"(ssr)/./node_modules/@tiptap/extension-strike/dist/index.js\");\n/* harmony import */ var _tiptap_extension_underline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/extension-underline */ \"(ssr)/./node_modules/@tiptap/extension-underline/dist/index.js\");\n/* harmony import */ var _tiptap_extension_table_cell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tiptap/extension-table-cell */ \"(ssr)/./node_modules/@tiptap/extension-table-cell/dist/index.js\");\n/* harmony import */ var _tiptap_extension_table_header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/extension-table-header */ \"(ssr)/./node_modules/@tiptap/extension-table-header/dist/index.js\");\n/* harmony import */ var _tiptap_extension_table_row__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tiptap/extension-table-row */ \"(ssr)/./node_modules/@tiptap/extension-table-row/dist/index.js\");\n/* harmony import */ var prosemirror_tables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prosemirror-tables */ \"(ssr)/./node_modules/prosemirror-tables/dist/index.js\");\n/* harmony import */ var rehype_remark__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rehype-remark */ \"(ssr)/./node_modules/rehype-remark/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! remark-gfm */ \"(ssr)/./node_modules/remark-gfm/index.js\");\n/* harmony import */ var remark_stringify__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! remark-stringify */ \"(ssr)/./node_modules/remark-stringify/lib/index.js\");\n/* harmony import */ var remark_parse__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! remark-parse */ \"(ssr)/./node_modules/remark-parse/lib/index.js\");\n/* harmony import */ var remark_rehype__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! remark-rehype */ \"(ssr)/./node_modules/remark-rehype/lib/index.js\");\n/* harmony import */ var remark_rehype__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! remark-rehype */ \"(ssr)/./node_modules/mdast-util-to-hast/lib/handlers/index.js\");\n/* harmony import */ var prosemirror_view__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! prosemirror-view */ \"(ssr)/./node_modules/prosemirror-view/dist/index.js\");\n/* harmony import */ var _tiptap_extension_collaboration__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @tiptap/extension-collaboration */ \"(ssr)/./node_modules/@tiptap/extension-collaboration/dist/index.js\");\n/* harmony import */ var _tiptap_extension_collaboration_cursor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tiptap/extension-collaboration-cursor */ \"(ssr)/./node_modules/@tiptap/extension-collaboration-cursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_dropcursor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tiptap/extension-dropcursor */ \"(ssr)/./node_modules/@tiptap/extension-dropcursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_gapcursor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tiptap/extension-gapcursor */ \"(ssr)/./node_modules/@tiptap/extension-gapcursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_hard_break__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @tiptap/extension-hard-break */ \"(ssr)/./node_modules/@tiptap/extension-hard-break/dist/index.js\");\n/* harmony import */ var _tiptap_extension_history__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @tiptap/extension-history */ \"(ssr)/./node_modules/@tiptap/extension-history/dist/index.js\");\n/* harmony import */ var _tiptap_extension_link__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @tiptap/extension-link */ \"(ssr)/./node_modules/@tiptap/extension-link/dist/index.js\");\n/* harmony import */ var _tiptap_extension_text__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @tiptap/extension-text */ \"(ssr)/./node_modules/@tiptap/extension-text/dist/index.js\");\nvar Et = Object.defineProperty;\nvar Ct = (t, e, o) => e in t ? Et(t, e, { enumerable: !0, configurable: !0, writable: !0, value: o }) : t[e] = o;\nvar c = (t, e, o) => (Ct(t, typeof e != \"symbol\" ? e + \"\" : e, o), o);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Ze = {\n  slash_menu: {\n    heading: {\n      title: \"Heading 1\",\n      subtext: \"Used for a top-level heading\",\n      aliases: [\"h\", \"heading1\", \"h1\"],\n      group: \"Headings\"\n    },\n    heading_2: {\n      title: \"Heading 2\",\n      subtext: \"Used for key sections\",\n      aliases: [\"h2\", \"heading2\", \"subheading\"],\n      group: \"Headings\"\n    },\n    heading_3: {\n      title: \"Heading 3\",\n      subtext: \"Used for subsections and group headings\",\n      aliases: [\"h3\", \"heading3\", \"subheading\"],\n      group: \"Headings\"\n    },\n    numbered_list: {\n      title: \"Numbered List\",\n      subtext: \"Used to display a numbered list\",\n      aliases: [\"ol\", \"li\", \"list\", \"numberedlist\", \"numbered list\"],\n      group: \"Basic blocks\"\n    },\n    bullet_list: {\n      title: \"Bullet List\",\n      subtext: \"Used to display an unordered list\",\n      aliases: [\"ul\", \"li\", \"list\", \"bulletlist\", \"bullet list\"],\n      group: \"Basic blocks\"\n    },\n    paragraph: {\n      title: \"Paragraph\",\n      subtext: \"Used for the body of your document\",\n      aliases: [\"p\", \"paragraph\"],\n      group: \"Basic blocks\"\n    },\n    table: {\n      title: \"Table\",\n      subtext: \"Used for tables\",\n      aliases: [\"table\"],\n      group: \"Advanced\"\n    },\n    image: {\n      title: \"Image\",\n      subtext: \"Insert an image\",\n      aliases: [\n        \"image\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"picture\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    video: {\n      title: \"Video\",\n      subtext: \"Insert a video\",\n      aliases: [\n        \"video\",\n        \"videoUpload\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Insert audio\",\n      aliases: [\n        \"audio\",\n        \"audioUpload\",\n        \"upload\",\n        \"mp3\",\n        \"sound\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    file: {\n      title: \"File\",\n      subtext: \"Insert a file\",\n      aliases: [\"file\", \"upload\", \"embed\", \"media\", \"url\"],\n      group: \"Media\"\n    }\n  },\n  placeholders: {\n    default: \"Enter text or type '/' for commands\",\n    heading: \"Heading\",\n    bulletListItem: \"List\",\n    numberedListItem: \"List\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Add image\"\n    },\n    video: {\n      add_button_text: \"Add video\"\n    },\n    audio: {\n      add_button_text: \"Add audio\"\n    },\n    file: {\n      add_button_text: \"Add file\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Add block\",\n    drag_handle_label: \"Open block menu\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Delete\",\n    colors_menuitem: \"Colors\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Delete column\",\n    delete_row_menuitem: \"Delete row\",\n    add_left_menuitem: \"Add column left\",\n    add_right_menuitem: \"Add column right\",\n    add_above_menuitem: \"Add row above\",\n    add_below_menuitem: \"Add row below\"\n  },\n  suggestion_menu: {\n    no_items_title: \"No items found\",\n    loading: \"Loading…\"\n  },\n  color_picker: {\n    text_title: \"Text\",\n    background_title: \"Background\",\n    colors: {\n      default: \"Default\",\n      gray: \"Gray\",\n      brown: \"Brown\",\n      red: \"Red\",\n      orange: \"Orange\",\n      yellow: \"Yellow\",\n      green: \"Green\",\n      blue: \"Blue\",\n      purple: \"Purple\",\n      pink: \"Pink\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Bold\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Italic\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Underline\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Strike\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Colors\"\n    },\n    link: {\n      tooltip: \"Create link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Edit caption\",\n      input_placeholder: \"Edit caption\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Replace image\",\n        video: \"Replace video\",\n        audio: \"Replace audio\",\n        file: \"Replace file\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Rename image\",\n        video: \"Rename video\",\n        audio: \"Rename audio\",\n        file: \"Rename file\"\n      },\n      input_placeholder: {\n        image: \"Rename image\",\n        video: \"Rename video\",\n        audio: \"Rename audio\",\n        file: \"Rename file\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Download image\",\n        video: \"Download video\",\n        audio: \"Download audio\",\n        file: \"Download file\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Delete image\",\n        video: \"Delete video\",\n        audio: \"Delete audio\",\n        file: \"Delete file\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Toggle preview\"\n    },\n    nest: {\n      tooltip: \"Nest block\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Unnest block\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Align text left\"\n    },\n    align_center: {\n      tooltip: \"Align text center\"\n    },\n    align_right: {\n      tooltip: \"Align text right\"\n    },\n    align_justify: {\n      tooltip: \"Justify text\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Upload\",\n      file_placeholder: {\n        image: \"Upload image\",\n        video: \"Upload video\",\n        audio: \"Upload audio\",\n        file: \"Upload file\"\n      },\n      upload_error: \"Error: Upload failed\"\n    },\n    embed: {\n      title: \"Embed\",\n      embed_button: {\n        image: \"Embed image\",\n        video: \"Embed video\",\n        audio: \"Embed audio\",\n        file: \"Embed file\"\n      },\n      url_placeholder: \"Enter URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Remove link\"\n    },\n    edit: {\n      text: \"Edit link\",\n      tooltip: \"Edit\"\n    },\n    open: {\n      tooltip: \"Open in new tab\"\n    },\n    form: {\n      title_placeholder: \"Edit title\",\n      url_placeholder: \"Edit URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, ho = {\n  slash_menu: {\n    heading: {\n      title: \"Titre 1\",\n      subtext: \"Utilisé pour un titre de premier niveau\",\n      aliases: [\"h\", \"titre1\", \"h1\"],\n      group: \"Titres\"\n    },\n    heading_2: {\n      title: \"Titre 2\",\n      subtext: \"Utilisé pour les sections clés\",\n      aliases: [\"h2\", \"titre2\", \"sous-titre\"],\n      group: \"Titres\"\n    },\n    heading_3: {\n      title: \"Titre 3\",\n      subtext: \"Utilisé pour les sous-sections et les titres de groupe\",\n      aliases: [\"h3\", \"titre3\", \"sous-titre\"],\n      group: \"Titres\"\n    },\n    numbered_list: {\n      title: \"Liste Numérotée\",\n      subtext: \"Utilisé pour afficher une liste numérotée\",\n      aliases: [\"ol\", \"li\", \"liste\", \"listenumérotée\", \"liste numérotée\"],\n      group: \"Blocs de base\"\n    },\n    bullet_list: {\n      title: \"Liste à Puces\",\n      subtext: \"Utilisé pour afficher une liste non ordonnée\",\n      aliases: [\"ul\", \"li\", \"liste\", \"listeàpuces\", \"liste à puces\"],\n      group: \"Blocs de base\"\n    },\n    paragraph: {\n      title: \"Paragraphe\",\n      subtext: \"Utilisé pour le corps de votre document\",\n      aliases: [\"p\", \"paragraphe\"],\n      group: \"Blocs de base\"\n    },\n    table: {\n      title: \"Tableau\",\n      subtext: \"Utilisé pour les tableaux\",\n      aliases: [\"tableau\"],\n      group: \"Avancé\"\n    },\n    image: {\n      title: \"Image\",\n      subtext: \"Insérer une image\",\n      aliases: [\n        \"image\",\n        \"uploadImage\",\n        \"télécharger\",\n        \"img\",\n        \"photo\",\n        \"média\",\n        \"url\"\n      ],\n      group: \"Médias\"\n    },\n    video: {\n      title: \"Vidéo\",\n      subtext: \"Insérer une vidéo\",\n      aliases: [\n        \"vidéo\",\n        \"téléchargerVidéo\",\n        \"téléverser\",\n        \"mp4\",\n        \"film\",\n        \"média\",\n        \"url\"\n      ],\n      group: \"Média\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Insérer un audio\",\n      aliases: [\n        \"audio\",\n        \"téléchargerAudio\",\n        \"téléverser\",\n        \"mp3\",\n        \"son\",\n        \"média\",\n        \"url\"\n      ],\n      group: \"Média\"\n    },\n    file: {\n      title: \"Fichier\",\n      subtext: \"Insérer un fichier\",\n      aliases: [\"fichier\", \"téléverser\", \"intégrer\", \"média\", \"url\"],\n      group: \"Média\"\n    }\n  },\n  placeholders: {\n    default: \"Entrez du texte ou tapez '/' pour les commandes\",\n    heading: \"Titre\",\n    bulletListItem: \"Liste\",\n    numberedListItem: \"Liste\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Ajouter une image\"\n    },\n    video: {\n      add_button_text: \"Ajouter une vidéo\"\n    },\n    audio: {\n      add_button_text: \"Ajouter un audio\"\n    },\n    file: {\n      add_button_text: \"Ajouter un fichier\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Ajouter un bloc\",\n    drag_handle_label: \"Ouvrir le menu du bloc\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Supprimer\",\n    colors_menuitem: \"Couleurs\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Supprimer la colonne\",\n    delete_row_menuitem: \"Supprimer la ligne\",\n    add_left_menuitem: \"Ajouter une colonne à gauche\",\n    add_right_menuitem: \"Ajouter une colonne à droite\",\n    add_above_menuitem: \"Ajouter une ligne au-dessus\",\n    add_below_menuitem: \"Ajouter une ligne en dessous\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Aucun élément trouvé\",\n    loading: \"Chargement…\"\n  },\n  color_picker: {\n    text_title: \"Texte\",\n    background_title: \"Fond\",\n    colors: {\n      default: \"Défaut\",\n      gray: \"Gris\",\n      brown: \"Marron\",\n      red: \"Rouge\",\n      orange: \"Orange\",\n      yellow: \"Jaune\",\n      green: \"Vert\",\n      blue: \"Bleu\",\n      purple: \"Violet\",\n      pink: \"Rose\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Gras\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Italique\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Souligner\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Barré\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Couleurs\"\n    },\n    link: {\n      tooltip: \"Créer un lien\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Modifier la légende\",\n      input_placeholder: \"Modifier la légende\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Remplacer l'image\",\n        video: \"Remplacer la vidéo\",\n        audio: \"Remplacer l'audio\",\n        file: \"Remplacer le fichier\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Renommer l'image\",\n        video: \"Renommer la vidéo\",\n        audio: \"Renommer l'audio\",\n        file: \"Renommer le fichier\"\n      },\n      input_placeholder: {\n        image: \"Renommer l'image\",\n        video: \"Renommer la vidéo\",\n        audio: \"Renommer l'audio\",\n        file: \"Renommer le fichier\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Télécharger l'image\",\n        video: \"Télécharger la vidéo\",\n        audio: \"Télécharger l'audio\",\n        file: \"Télécharger le fichier\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Supprimer l'image\",\n        video: \"Supprimer la vidéo\",\n        audio: \"Supprimer l'audio\",\n        file: \"Supprimer le fichier\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Basculer l'aperçu\"\n    },\n    nest: {\n      tooltip: \"Emboîter le bloc\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Démboîter le bloc\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Aligner le texte à gauche\"\n    },\n    align_center: {\n      tooltip: \"Aligner le texte au centre\"\n    },\n    align_right: {\n      tooltip: \"Aligner le texte à droite\"\n    },\n    align_justify: {\n      tooltip: \"Justifier le texte\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Télécharger\",\n      file_placeholder: {\n        image: \"Télécharger une image\",\n        video: \"Télécharger une vidéo\",\n        audio: \"Télécharger un fichier audio\",\n        file: \"Télécharger un fichier\"\n      },\n      upload_error: \"Erreur : Échec du téléchargement\"\n    },\n    embed: {\n      title: \"Intégrer\",\n      embed_button: {\n        image: \"Intégrer une image\",\n        video: \"Intégrer une vidéo\",\n        audio: \"Intégrer un fichier audio\",\n        file: \"Intégrer un fichier\"\n      },\n      url_placeholder: \"Entrez l'URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Supprimer le lien\"\n    },\n    edit: {\n      text: \"Modifier le lien\",\n      tooltip: \"Modifier\"\n    },\n    open: {\n      tooltip: \"Ouvrir dans un nouvel onglet\"\n    },\n    form: {\n      title_placeholder: \"Modifier le titre\",\n      url_placeholder: \"Modifier l'URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, mo = {\n  slash_menu: {\n    heading: {\n      title: \"Fyrirsögn 1\",\n      subtext: \"Notað fyrir efstu fyrirsögn\",\n      aliases: [\"h\", \"fyrirsogn1\", \"h1\"],\n      group: \"Fyrirsagnir\"\n    },\n    heading_2: {\n      title: \"Fyrirsögn 2\",\n      subtext: \"Notað fyrir lykilhluta\",\n      aliases: [\"h2\", \"fyrirsogn2\", \"undirfyrirsogn\"],\n      group: \"Fyrirsagnir\"\n    },\n    heading_3: {\n      title: \"Fyrirsögn 3\",\n      subtext: \"Notað fyrir undirhluta og hópfyrirsagnir\",\n      aliases: [\"h3\", \"fyrirsogn3\", \"undirfyrirsogn\"],\n      group: \"Fyrirsagnir\"\n    },\n    numbered_list: {\n      title: \"Númeruð listi\",\n      subtext: \"Notað til að birta númeraðan lista\",\n      aliases: [\"ol\", \"li\", \"listi\", \"numeradurlisti\"],\n      group: \"Grunnblokkar\"\n    },\n    bullet_list: {\n      title: \"Punktalisti\",\n      subtext: \"Notað til að birta óraðaðan lista\",\n      aliases: [\"ul\", \"li\", \"listi\", \"punktalisti\"],\n      group: \"Grunnblokkar\"\n    },\n    paragraph: {\n      title: \"Málsgrein\",\n      subtext: \"Notað fyrir meginmál skjalsins\",\n      aliases: [\"p\", \"malsgrein\"],\n      group: \"Grunnblokkar\"\n    },\n    table: {\n      title: \"Tafla\",\n      subtext: \"Notað fyrir töflur\",\n      aliases: [\"tafla\"],\n      group: \"Ítarlegt\"\n    },\n    image: {\n      title: \"Mynd\",\n      subtext: \"Settu inn mynd\",\n      aliases: [\n        \"mynd\",\n        \"myndaupphlaed\",\n        \"upphlaed\",\n        \"img\",\n        \"mynd\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Miðlar\"\n    },\n    video: {\n      title: \"Myndband\",\n      subtext: \"Setja inn myndband\",\n      aliases: [\n        \"myndband\",\n        \"videoUpphala\",\n        \"hlaða upp\",\n        \"mp4\",\n        \"kvikmynd\",\n        \"miðill\",\n        \"url\"\n      ],\n      group: \"Miðill\"\n    },\n    audio: {\n      title: \"Hljóð\",\n      subtext: \"Setja inn hljóð\",\n      aliases: [\n        \"hljóð\",\n        \"audioUpphala\",\n        \"hlaða upp\",\n        \"mp3\",\n        \"hljóð\",\n        \"miðill\",\n        \"url\"\n      ],\n      group: \"Miðlar\"\n    },\n    file: {\n      title: \"Skrá\",\n      subtext: \"Setja inn skrá\",\n      aliases: [\"skrá\", \"hlaða upp\", \"fella inn\", \"miðill\", \"url\"],\n      group: \"Miðlar\"\n    }\n  },\n  placeholders: {\n    default: \"Sláðu inn texta eða skrifaðu '/' fyrir skipanir\",\n    heading: \"Fyrirsögn\",\n    bulletListItem: \"Listi\",\n    numberedListItem: \"Listi\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Bæta við mynd\"\n    },\n    video: {\n      add_button_text: \"Bæta við myndbandi\"\n    },\n    audio: {\n      add_button_text: \"Bæta við hljóði\"\n    },\n    file: {\n      add_button_text: \"Bæta við skrá\"\n    }\n  },\n  side_menu: {\n    add_block_label: \"Bæta við blokki\",\n    drag_handle_label: \"Opna blokkarvalmynd\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Eyða\",\n    colors_menuitem: \"Litir\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Eyða dálki\",\n    delete_row_menuitem: \"Eyða röð\",\n    add_left_menuitem: \"Bæta dálki við til vinstri\",\n    add_right_menuitem: \"Bæta dálki við til hægri\",\n    add_above_menuitem: \"Bæta röð við fyrir ofan\",\n    add_below_menuitem: \"Bæta röð við fyrir neðan\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Engir hlutir fundust\",\n    loading: \"Hleður…\"\n  },\n  color_picker: {\n    text_title: \"Texti\",\n    background_title: \"Bakgrunnur\",\n    colors: {\n      default: \"Sjálfgefið\",\n      gray: \"Grár\",\n      brown: \"Brúnn\",\n      red: \"Rauður\",\n      orange: \"Appelsínugulur\",\n      yellow: \"Gulur\",\n      green: \"Grænn\",\n      blue: \"Blár\",\n      purple: \"Fjólublár\",\n      pink: \"Bleikur\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Feitletrað\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Skáletrað\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Undirstrikað\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Yfirstrikað\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Kóði\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Litir\"\n    },\n    link: {\n      tooltip: \"Búa til tengil\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Breyta myndatexta\",\n      input_placeholder: \"Breyta myndatexta\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Skipta um mynd\",\n        video: \"Skipta um myndband\",\n        audio: \"Skipta um hljóð\",\n        file: \"Skipta um skrá\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Endurnefna mynd\",\n        video: \"Endurnefna myndband\",\n        audio: \"Endurnefna hljóð\",\n        file: \"Endurnefna skrá\"\n      },\n      input_placeholder: {\n        image: \"Endurnefna mynd\",\n        video: \"Endurnefna myndband\",\n        audio: \"Endurnefna hljóð\",\n        file: \"Endurnefna skrá\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Sækja mynd\",\n        video: \"Sækja myndband\",\n        audio: \"Sækja hljóð\",\n        file: \"Sækja skrá\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Eyða mynd\",\n        video: \"Eyða myndbandi\",\n        audio: \"Eyða hljóði\",\n        file: \"Eyða skrá\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Skipta um forskoðun\"\n    },\n    nest: {\n      tooltip: \"Fella blokk saman\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Afþýða blokk\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Vinstrijafna texta\"\n    },\n    align_center: {\n      tooltip: \"Miðjustilla texta\"\n    },\n    align_right: {\n      tooltip: \"Hægrijafna texta\"\n    },\n    align_justify: {\n      tooltip: \"Jafna texta\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Hlaða upp\",\n      file_placeholder: {\n        image: \"Hlaða upp mynd\",\n        video: \"Hlaða upp myndband\",\n        audio: \"Hlaða upp hljóð\",\n        file: \"Hlaða upp skrá\"\n      },\n      upload_error: \"Villa: Upphleðsla mistókst\"\n    },\n    embed: {\n      title: \"Innsetja\",\n      embed_button: {\n        image: \"Innsetja mynd\",\n        video: \"Innsetja myndband\",\n        audio: \"Innsetja hljóð\",\n        file: \"Innsetja skrá\"\n      },\n      url_placeholder: \"Sláðu inn URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Fjarlægja tengil\"\n    },\n    edit: {\n      text: \"Breyta tengli\",\n      tooltip: \"Breyta\"\n    },\n    open: {\n      tooltip: \"Opna í nýjum flipa\"\n    },\n    form: {\n      title_placeholder: \"Breyta titli\",\n      url_placeholder: \"Breyta URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, fo = {\n  slash_menu: {\n    heading: {\n      title: \"見出し１\",\n      subtext: \"トップレベルの見出しに使用\",\n      aliases: [\"h\", \"見出し１\", \"h1\", \"大見出し\"],\n      group: \"見出し\"\n    },\n    heading_2: {\n      title: \"見出し２\",\n      subtext: \"重要なセクションに使用\",\n      aliases: [\"h2\", \"見出し2\", \"subheading\", \"中見出し\"],\n      group: \"見出し\"\n    },\n    heading_3: {\n      title: \"見出し３\",\n      subtext: \"セクションやグループの見出しに使用\",\n      aliases: [\"h3\", \"見出し3\", \"subheading\", \"小見出し\"],\n      group: \"見出し\"\n    },\n    numbered_list: {\n      title: \"番号付リスト\",\n      subtext: \"番号付リストを表示するために使用\",\n      aliases: [\n        \"ol\",\n        \"li\",\n        \"numberedlist\",\n        \"numbered list\",\n        \"リスト\",\n        \"番号付リスト\",\n        \"番号 リスト\"\n      ],\n      group: \"基本ブロック\"\n    },\n    bullet_list: {\n      title: \"箇条書き\",\n      subtext: \"箇条書きを表示するために使用\",\n      aliases: [\"ul\", \"li\", \"リスト\", \"箇条書きリスト\"],\n      group: \"基本ブロック\"\n    },\n    paragraph: {\n      title: \"標準テキスト\",\n      subtext: \"本文に使用\",\n      aliases: [\"p\", \"paragraph\", \"標準テキスト\"],\n      group: \"基本ブロック\"\n    },\n    table: {\n      title: \"表\",\n      subtext: \"表に使用\",\n      aliases: [\"table\", \"表\", \"テーブル\"],\n      group: \"高度なブロック\"\n    },\n    image: {\n      title: \"画像\",\n      subtext: \"画像を挿入\",\n      aliases: [\n        \"image\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"picture\",\n        \"media\",\n        \"url\",\n        \"画像\"\n      ],\n      group: \"メディア\"\n    },\n    video: {\n      title: \"ビデオ\",\n      subtext: \"ビデオを挿入\",\n      aliases: [\n        \"video\",\n        \"videoUpload\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"url\",\n        \"ビデオ\"\n      ],\n      group: \"メディア\"\n    },\n    audio: {\n      title: \"オーディオ\",\n      subtext: \"オーディオを挿入\",\n      aliases: [\n        \"audio\",\n        \"audioUpload\",\n        \"upload\",\n        \"mp3\",\n        \"sound\",\n        \"media\",\n        \"url\",\n        \"オーディオ\"\n      ],\n      group: \"メディア\"\n    },\n    file: {\n      title: \"ファイル\",\n      subtext: \"ファイルを挿入\",\n      aliases: [\"file\", \"upload\", \"embed\", \"media\", \"url\", \"ファイル\"],\n      group: \"メディア\"\n    }\n  },\n  placeholders: {\n    default: \"テキストを入力するか'/' を入力してコマンド選択\",\n    heading: \"見出し\",\n    bulletListItem: \"リストを追加\",\n    numberedListItem: \"リストを追加\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"画像を追加\"\n    },\n    video: {\n      add_button_text: \"ビデオを追加\"\n    },\n    audio: {\n      add_button_text: \"オーディオを追加\"\n    },\n    file: {\n      add_button_text: \"ファイルを追加\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"ブロックを追加\",\n    drag_handle_label: \"ブロックメニュー\"\n  },\n  drag_handle: {\n    delete_menuitem: \"削除\",\n    colors_menuitem: \"色を変更\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"列を削除\",\n    delete_row_menuitem: \"行を削除\",\n    add_left_menuitem: \"左に列を追加\",\n    add_right_menuitem: \"右に列を追加\",\n    add_above_menuitem: \"上に行を追加\",\n    add_below_menuitem: \"下に行を追加\"\n  },\n  suggestion_menu: {\n    no_items_title: \"アイテムが見つかりません\",\n    loading: \"読込中…\"\n  },\n  color_picker: {\n    text_title: \"文字色\",\n    background_title: \"背景色\",\n    colors: {\n      default: \"デフォルト\",\n      gray: \"グレー\",\n      brown: \"茶色\",\n      red: \"赤\",\n      orange: \"オレンジ\",\n      yellow: \"黄色\",\n      green: \"緑\",\n      blue: \"青\",\n      purple: \"紫\",\n      pink: \"ピンク\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"太字\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"斜体\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"下線\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"打ち消し\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"コード\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"色\"\n    },\n    link: {\n      tooltip: \"リンク\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"キャプションを編集\",\n      input_placeholder: \"キャプションを編集\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"画像を置換\",\n        video: \"ビデオを置換\",\n        audio: \"オーディオを置換\",\n        file: \"ファイルを置換\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"画像の名前を変更\",\n        video: \"ビデオの名前を変更\",\n        audio: \"オーディオの名前を変更\",\n        file: \"ファイルの名前を変更\"\n      },\n      input_placeholder: {\n        image: \"画像の名前を変更\",\n        video: \"ビデオの名前を変更\",\n        audio: \"オーディオの名前を変更\",\n        file: \"ファイルの名前を変更\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"画像をダウンロード\",\n        video: \"ビデオをダウンロード\",\n        audio: \"オーディオをダウンロード\",\n        file: \"ファイルをダウンロード\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"画像を削除\",\n        video: \"ビデオを削除\",\n        audio: \"オーディオを削除\",\n        file: \"ファイルを削除\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"プレビューの切り替え\"\n    },\n    nest: {\n      tooltip: \"インデント増\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"インデント減\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"左揃え\"\n    },\n    align_center: {\n      tooltip: \"中央揃え\"\n    },\n    align_right: {\n      tooltip: \"右揃え\"\n    },\n    align_justify: {\n      tooltip: \"両端揃え\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"アップロード\",\n      file_placeholder: {\n        image: \"画像をアップロード\",\n        video: \"ビデオをアップロード\",\n        audio: \"オーディオをアップロード\",\n        file: \"ファイルをアップロード\"\n      },\n      upload_error: \"エラー: アップロードが失敗しました\"\n    },\n    embed: {\n      title: \"埋め込み\",\n      embed_button: {\n        image: \"画像を埋め込む\",\n        video: \"ビデオを埋め込む\",\n        audio: \"オーディオを埋め込む\",\n        file: \"ファイルを埋め込む\"\n      },\n      url_placeholder: \"URLを入力\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"リンクを解除\"\n    },\n    edit: {\n      text: \"リンクを編集\",\n      tooltip: \"編集\"\n    },\n    open: {\n      tooltip: \"新しいタブでリンクを開く\"\n    },\n    form: {\n      title_placeholder: \"タイトルを編集\",\n      url_placeholder: \"URLを編集\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, go = {\n  slash_menu: {\n    heading: {\n      title: \"제목1\",\n      subtext: \"섹션 제목(대)\",\n      aliases: [\"h\", \"제목1\", \"h1\", \"대제목\"],\n      group: \"제목\"\n    },\n    heading_2: {\n      title: \"제목2\",\n      subtext: \"섹션 제목(중)\",\n      aliases: [\"h2\", \"제목2\", \"중제목\"],\n      group: \"제목\"\n    },\n    heading_3: {\n      title: \"제목3\",\n      subtext: \"섹션 제목(소)\",\n      aliases: [\"h3\", \"제목3\", \"subheading\"],\n      group: \"제목\"\n    },\n    numbered_list: {\n      title: \"번호 매기기 목록\",\n      subtext: \"번호가 매겨진 목록을 추가합니다.\",\n      aliases: [\"ol\", \"li\", \"목록\", \"번호 매기기 목록\", \"번호 목록\"],\n      group: \"기본 블록\"\n    },\n    bullet_list: {\n      title: \"글머리 기호 목록\",\n      subtext: \"간단한 글머리 기호를 추가합니다.\",\n      aliases: [\"ul\", \"li\", \"목록\", \"글머리 기호 목록\", \"글머리 목록\"],\n      group: \"기본 블록\"\n    },\n    paragraph: {\n      title: \"본문\",\n      subtext: \"일반 텍스트\",\n      aliases: [\"p\", \"paragraph\", \"본문\"],\n      group: \"기본 블록\"\n    },\n    table: {\n      title: \"표\",\n      subtext: \"간단한 표를 추가합니다.\",\n      aliases: [\"표\"],\n      group: \"고급\"\n    },\n    image: {\n      title: \"이미지\",\n      subtext: \"이미지 파일을 업로드합니다.\",\n      aliases: [\n        \"image\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"picture\",\n        \"media\",\n        \"이미지\",\n        \"url\"\n      ],\n      group: \"미디어\"\n    },\n    video: {\n      title: \"비디오\",\n      subtext: \"비디오 삽입\",\n      aliases: [\n        \"video\",\n        \"videoUpload\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"동영상\",\n        \"url\"\n      ],\n      group: \"미디어\"\n    },\n    audio: {\n      title: \"오디오\",\n      subtext: \"오디오 삽입\",\n      aliases: [\n        \"audio\",\n        \"audioUpload\",\n        \"upload\",\n        \"mp3\",\n        \"sound\",\n        \"media\",\n        \"오디오\",\n        \"url\"\n      ],\n      group: \"미디어\"\n    },\n    file: {\n      title: \"파일\",\n      subtext: \"파일 삽입\",\n      aliases: [\"file\", \"upload\", \"embed\", \"media\", \"파일\", \"url\"],\n      group: \"미디어\"\n    }\n  },\n  placeholders: {\n    default: \"텍스트를 입력하거나 /를 입력하여 명령을 입력하세요.\",\n    heading: \"제목\",\n    bulletListItem: \"목록\",\n    numberedListItem: \"목록\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"이미지 추가\"\n    },\n    video: {\n      add_button_text: \"비디오 추가\"\n    },\n    audio: {\n      add_button_text: \"오디오 추가\"\n    },\n    file: {\n      add_button_text: \"파일 추가\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"블록 추가\",\n    drag_handle_label: \"블록 메뉴 열기\"\n  },\n  drag_handle: {\n    delete_menuitem: \"삭제\",\n    colors_menuitem: \"색깔\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"열 1개 삭제\",\n    delete_row_menuitem: \"행 삭제\",\n    add_left_menuitem: \"왼쪽에 열 1개 추가\",\n    add_right_menuitem: \"오른쪽에 열 1개 추가\",\n    add_above_menuitem: \"위에 행 1개 추가\",\n    add_below_menuitem: \"아래에 행 1개 추가\"\n  },\n  suggestion_menu: {\n    no_items_title: \"항목을 찾을 수 없음\",\n    loading: \"로딩 중…\"\n  },\n  color_picker: {\n    text_title: \"텍스트\",\n    background_title: \"배경\",\n    colors: {\n      default: \"기본\",\n      gray: \"회색\",\n      brown: \"갈색\",\n      red: \"빨간색\",\n      orange: \"주황색\",\n      yellow: \"노란색\",\n      green: \"녹색\",\n      blue: \"파란색\",\n      purple: \"보라색\",\n      pink: \"분홍색\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"진하게\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"기울임\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"밑줄\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"취소선\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"코드\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"색깔\"\n    },\n    link: {\n      tooltip: \"링크 만들기\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"이미지 캡션 수정\",\n      input_placeholder: \"이미지 캡션 수정\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"이미지 교체\",\n        video: \"비디오 교체\",\n        audio: \"오디오 교체\",\n        file: \"파일 교체\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"이미지 이름 변경\",\n        video: \"비디오 이름 변경\",\n        audio: \"오디오 이름 변경\",\n        file: \"파일 이름 변경\"\n      },\n      input_placeholder: {\n        image: \"이미지 이름 변경\",\n        video: \"비디오 이름 변경\",\n        audio: \"오디오 이름 변경\",\n        file: \"파일 이름 변경\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"이미지 다운로드\",\n        video: \"비디오 다운로드\",\n        audio: \"오디오 다운로드\",\n        file: \"파일 다운로드\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"이미지 삭제\",\n        video: \"비디오 삭제\",\n        audio: \"오디오 삭제\",\n        file: \"파일 삭제\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"미리보기 전환\"\n    },\n    nest: {\n      tooltip: \"중첩 블록\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"비중첩 블록\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"텍스트 왼쪽 맞춤\"\n    },\n    align_center: {\n      tooltip: \"텍스트 가운데 맞춤\"\n    },\n    align_right: {\n      tooltip: \"텍스트 오른쪽 맞춤\"\n    },\n    align_justify: {\n      tooltip: \"텍스트 양쪽 맞춤\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"업로드\",\n      file_placeholder: {\n        image: \"이미지 업로드\",\n        video: \"비디오 업로드\",\n        audio: \"오디오 업로드\",\n        file: \"파일 업로드\"\n      },\n      upload_error: \"오류: 업로드 실패\"\n    },\n    embed: {\n      title: \"임베드\",\n      embed_button: {\n        image: \"이미지 삽입\",\n        video: \"비디오 삽입\",\n        audio: \"오디오 삽입\",\n        file: \"파일 삽입\"\n      },\n      url_placeholder: \"URL을 입력하세요.\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"링크 삭제\"\n    },\n    edit: {\n      text: \"링크 수정\",\n      tooltip: \"수정\"\n    },\n    open: {\n      tooltip: \"새 탭으로 열기\"\n    },\n    form: {\n      title_placeholder: \"제목 수정\",\n      url_placeholder: \"URL 수정\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, bo = {\n  slash_menu: {\n    heading: {\n      title: \"Kop 1\",\n      subtext: \"Gebruikt voor een hoofdkop\",\n      aliases: [\"h\", \"kop1\", \"h1\"],\n      group: \"Koppen\"\n    },\n    heading_2: {\n      title: \"Kop 2\",\n      subtext: \"Gebruikt voor belangrijke secties\",\n      aliases: [\"h2\", \"kop2\", \"subkop\"],\n      group: \"Koppen\"\n    },\n    heading_3: {\n      title: \"Kop 3\",\n      subtext: \"Gebruikt voor subsecties en groepskoppen\",\n      aliases: [\"h3\", \"kop3\", \"subkop\"],\n      group: \"Koppen\"\n    },\n    numbered_list: {\n      title: \"Genummerde Lijst\",\n      subtext: \"Gebruikt om een genummerde lijst weer te geven\",\n      aliases: [\"ol\", \"li\", \"lijst\", \"genummerdelijst\", \"genummerde lijst\"],\n      group: \"Basisblokken\"\n    },\n    bullet_list: {\n      title: \"Puntenlijst\",\n      subtext: \"Gebruikt om een ongeordende lijst weer te geven\",\n      aliases: [\"ul\", \"li\", \"lijst\", \"puntenlijst\", \"punten lijst\"],\n      group: \"Basisblokken\"\n    },\n    paragraph: {\n      title: \"Paragraaf\",\n      subtext: \"Gebruikt voor de hoofdtekst van uw document\",\n      aliases: [\"p\", \"paragraaf\"],\n      group: \"Basisblokken\"\n    },\n    table: {\n      title: \"Tabel\",\n      subtext: \"Gebruikt voor tabellen\",\n      aliases: [\"tabel\"],\n      group: \"Geavanceerd\"\n    },\n    image: {\n      title: \"Afbeelding\",\n      subtext: \"Voeg een afbeelding in\",\n      aliases: [\n        \"afbeelding\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"foto\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    video: {\n      title: \"Video\",\n      subtext: \"Voeg een video in\",\n      aliases: [\n        \"video\",\n        \"videoUploaden\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"url\",\n        \"drive\",\n        \"dropbox\"\n      ],\n      group: \"Media\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Voeg audio in\",\n      aliases: [\n        \"audio\",\n        \"audioUploaden\",\n        \"upload\",\n        \"mp3\",\n        \"geluid\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    file: {\n      title: \"Bestand\",\n      subtext: \"Voeg een bestand in\",\n      aliases: [\"bestand\", \"upload\", \"insluiten\", \"media\", \"url\"],\n      group: \"Media\"\n    }\n  },\n  placeholders: {\n    default: \"Voer tekst in of type '/' voor commando's\",\n    heading: \"Kop\",\n    bulletListItem: \"Lijst\",\n    numberedListItem: \"Lijst\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Afbeelding toevoegen\"\n    },\n    video: {\n      add_button_text: \"Video toevoegen\"\n    },\n    audio: {\n      add_button_text: \"Audio toevoegen\"\n    },\n    file: {\n      add_button_text: \"Bestand toevoegen\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Nieuw blok\",\n    drag_handle_label: \"Open blok menu\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Verwijder\",\n    colors_menuitem: \"Kleuren\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Verwijder kolom\",\n    delete_row_menuitem: \"Verwijder rij\",\n    add_left_menuitem: \"Voeg kolom links toe\",\n    add_right_menuitem: \"Voeg kolom rechts toe\",\n    add_above_menuitem: \"Voeg rij boven toe\",\n    add_below_menuitem: \"Voeg rij onder toe\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Geen items gevonden\",\n    loading: \"Laden…\"\n  },\n  color_picker: {\n    text_title: \"Tekst\",\n    background_title: \"Achtergrond\",\n    colors: {\n      default: \"Standaard\",\n      gray: \"Grijs\",\n      brown: \"Bruin\",\n      red: \"Rood\",\n      orange: \"Oranje\",\n      yellow: \"Geel\",\n      green: \"Groen\",\n      blue: \"Blauw\",\n      purple: \"Paars\",\n      pink: \"Roze\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Vet\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Cursief\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Onderstrepen\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Doorstrepen\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Kleuren\"\n    },\n    link: {\n      tooltip: \"Maak link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Bewerk onderschrift\",\n      input_placeholder: \"Bewerk onderschrift\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Afbeelding vervangen\",\n        video: \"Video vervangen\",\n        audio: \"Audio vervangen\",\n        file: \"Bestand vervangen\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Afbeelding hernoemen\",\n        video: \"Video hernoemen\",\n        audio: \"Audio hernoemen\",\n        file: \"Bestand hernoemen\"\n      },\n      input_placeholder: {\n        image: \"Afbeelding hernoemen\",\n        video: \"Video hernoemen\",\n        audio: \"Audio hernoemen\",\n        file: \"Bestand hernoemen\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Afbeelding downloaden\",\n        video: \"Video downloaden\",\n        audio: \"Audio downloaden\",\n        file: \"Bestand downloaden\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Afbeelding verwijderen\",\n        video: \"Video verwijderen\",\n        audio: \"Audio verwijderen\",\n        file: \"Bestand verwijderen\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Voorbeeldschakelaar\"\n    },\n    nest: {\n      tooltip: \"Nest blok\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Ontnest blok\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Tekst links uitlijnen\"\n    },\n    align_center: {\n      tooltip: \"Tekst centreren\"\n    },\n    align_right: {\n      tooltip: \"Tekst rechts uitlijnen\"\n    },\n    align_justify: {\n      tooltip: \"Tekst uitvullen\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Upload\",\n      file_placeholder: {\n        image: \"Afbeelding uploaden\",\n        video: \"Video uploaden\",\n        audio: \"Audio uploaden\",\n        file: \"Bestand uploaden\"\n      },\n      upload_error: \"Fout: Upload mislukt\"\n    },\n    embed: {\n      title: \"Insluiten\",\n      embed_button: {\n        image: \"Afbeelding insluiten\",\n        video: \"Video insluiten\",\n        audio: \"Audio insluiten\",\n        file: \"Bestand insluiten\"\n      },\n      url_placeholder: \"Voer URL in\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Verwijder link\"\n    },\n    edit: {\n      text: \"Bewerk link\",\n      tooltip: \"Bewerk\"\n    },\n    open: {\n      tooltip: \"Open in nieuw tabblad\"\n    },\n    form: {\n      title_placeholder: \"Bewerk titel\",\n      url_placeholder: \"Bewerk URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, ko = {\n  slash_menu: {\n    heading: {\n      title: \"Nagłówek 1\",\n      subtext: \"Używany dla nagłówka najwyższego poziomu\",\n      aliases: [\"h\", \"naglowek1\", \"h1\"],\n      group: \"Nagłówki\"\n    },\n    heading_2: {\n      title: \"Nagłówek 2\",\n      subtext: \"Używany dla kluczowych sekcji\",\n      aliases: [\"h2\", \"naglowek2\", \"podnaglowek\"],\n      group: \"Nagłówki\"\n    },\n    heading_3: {\n      title: \"Nagłówek 3\",\n      subtext: \"Używany dla podsekcji i grup nagłówków\",\n      aliases: [\"h3\", \"naglowek3\", \"podnaglowek\"],\n      group: \"Nagłówki\"\n    },\n    numbered_list: {\n      title: \"Lista numerowana\",\n      subtext: \"Używana do wyświetlania listy numerowanej\",\n      aliases: [\"ol\", \"li\", \"lista\", \"numerowana lista\"],\n      group: \"Podstawowe bloki\"\n    },\n    bullet_list: {\n      title: \"Lista punktowana\",\n      subtext: \"Używana do wyświetlania listy bez numeracji\",\n      aliases: [\"ul\", \"li\", \"lista\", \"punktowana lista\"],\n      group: \"Podstawowe bloki\"\n    },\n    paragraph: {\n      title: \"Akapit\",\n      subtext: \"Używany dla treści dokumentu\",\n      aliases: [\"p\", \"akapit\"],\n      group: \"Podstawowe bloki\"\n    },\n    table: {\n      title: \"Tabela\",\n      subtext: \"Używana do tworzenia tabel\",\n      aliases: [\"tabela\"],\n      group: \"Zaawansowane\"\n    },\n    image: {\n      title: \"Zdjęcie\",\n      subtext: \"Wstaw zdjęcie\",\n      aliases: [\n        \"obraz\",\n        \"wrzućZdjęcie\",\n        \"wrzuć\",\n        \"img\",\n        \"zdjęcie\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    video: {\n      title: \"Wideo\",\n      subtext: \"Wstaw wideo\",\n      aliases: [\"wideo\", \"wrzućWideo\", \"wrzuć\", \"mp4\", \"film\", \"media\", \"url\"],\n      group: \"Media\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Wstaw audio\",\n      aliases: [\n        \"audio\",\n        \"wrzućAudio\",\n        \"wrzuć\",\n        \"mp3\",\n        \"dźwięk\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    file: {\n      title: \"Plik\",\n      subtext: \"Wstaw plik\",\n      aliases: [\"plik\", \"wrzuć\", \"wstaw\", \"media\", \"url\"],\n      group: \"Media\"\n    }\n  },\n  placeholders: {\n    default: \"Wprowadź tekst lub wpisz '/' aby użyć poleceń\",\n    heading: \"Nagłówek\",\n    bulletListItem: \"Lista\",\n    numberedListItem: \"Lista\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Dodaj zdjęcie\"\n    },\n    video: {\n      add_button_text: \"Dodaj wideo\"\n    },\n    audio: {\n      add_button_text: \"Dodaj audio\"\n    },\n    file: {\n      add_button_text: \"Dodaj plik\"\n    }\n  },\n  side_menu: {\n    add_block_label: \"Dodaj blok\",\n    drag_handle_label: \"Otwórz menu bloków\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Usuń\",\n    colors_menuitem: \"Kolory\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Usuń kolumnę\",\n    delete_row_menuitem: \"Usuń wiersz\",\n    add_left_menuitem: \"Dodaj kolumnę po lewej\",\n    add_right_menuitem: \"Dodaj kolumnę po prawej\",\n    add_above_menuitem: \"Dodaj wiersz powyżej\",\n    add_below_menuitem: \"Dodaj wiersz poniżej\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Nie znaleziono elementów\",\n    loading: \"Ładowanie…\"\n  },\n  color_picker: {\n    text_title: \"Tekst\",\n    background_title: \"Tło\",\n    colors: {\n      default: \"Domyślny\",\n      gray: \"Szary\",\n      brown: \"Brązowy\",\n      red: \"Czerwony\",\n      orange: \"Pomarańczowy\",\n      yellow: \"Żółty\",\n      green: \"Zielony\",\n      blue: \"Niebieski\",\n      purple: \"Fioletowy\",\n      pink: \"Różowy\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Pogrubienie\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Kursywa\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Podkreślenie\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Przekreślenie\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Kod\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Kolory\"\n    },\n    link: {\n      tooltip: \"Utwórz link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Zmień podpis\",\n      input_placeholder: \"Zmień podpis\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Zmień obraz\",\n        video: \"Zmień wideo\",\n        audio: \"Zmień audio\",\n        file: \"Zmień plik\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Zmień nazwę zdjęcia\",\n        video: \"Zmień nazwę wideo\",\n        audio: \"Zmień nazwę audio\",\n        file: \"Zmień nazwę pliku\"\n      },\n      input_placeholder: {\n        image: \"Zmień nazwę zdjęcia\",\n        video: \"Zmień nazwę wideo\",\n        audio: \"Zmień nazwę audio\",\n        file: \"Zmień nazwę pliku\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Pobierz zdjęcie\",\n        video: \"Pobierz wideo\",\n        audio: \"Pobierz audio\",\n        file: \"Pobierz plik\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Usuń zdjęcie\",\n        video: \"Usuń wideo\",\n        audio: \"Usuń audio\",\n        file: \"Usuń plik\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Przełącz podgląd\"\n    },\n    nest: {\n      tooltip: \"Zagnieźdź blok\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Odgagnieźdź blok\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Wyrównaj tekst do lewej\"\n    },\n    align_center: {\n      tooltip: \"Wyśrodkuj tekst\"\n    },\n    align_right: {\n      tooltip: \"Wyrównaj tekst do prawej\"\n    },\n    align_justify: {\n      tooltip: \"Wyjustuj tekst\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Wrzuć\",\n      file_placeholder: {\n        image: \"Wrzuć zdjęcie\",\n        video: \"Wrzuć wideo\",\n        audio: \"Wrzuć audio\",\n        file: \"Wrzuć plik\"\n      },\n      upload_error: \"Błąd: Przesyłanie nie powiodło się\"\n    },\n    embed: {\n      title: \"Wstaw\",\n      embed_button: {\n        image: \"Wstaw zdjęice\",\n        video: \"Wstaw wideo\",\n        audio: \"Wstaw audio\",\n        file: \"Wstaw plik\"\n      },\n      url_placeholder: \"Wprowadź URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Usuń link\"\n    },\n    edit: {\n      text: \"Edytuj link\",\n      tooltip: \"Edytuj\"\n    },\n    open: {\n      tooltip: \"Otwórz w nowej karcie\"\n    },\n    form: {\n      title_placeholder: \"Edytuj tytuł\",\n      url_placeholder: \"Edytuj URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, yo = {\n  slash_menu: {\n    heading: {\n      title: \"Título\",\n      subtext: \"Usado para um título de nível superior\",\n      aliases: [\"h\", \"titulo1\", \"h1\"],\n      group: \"Títulos\"\n    },\n    heading_2: {\n      title: \"Título 2\",\n      subtext: \"Usado para seções principais\",\n      aliases: [\"h2\", \"titulo2\", \"subtitulo\"],\n      group: \"Títulos\"\n    },\n    heading_3: {\n      title: \"Título 3\",\n      subtext: \"Usado para subseções e títulos de grupo\",\n      aliases: [\"h3\", \"titulo3\", \"subtitulo\"],\n      group: \"Títulos\"\n    },\n    numbered_list: {\n      title: \"Lista Numerada\",\n      subtext: \"Usado para exibir uma lista numerada\",\n      aliases: [\"ol\", \"li\", \"lista\", \"listanumerada\", \"lista numerada\"],\n      group: \"Blocos Básicos\"\n    },\n    bullet_list: {\n      title: \"Lista com Marcadores\",\n      subtext: \"Usado para exibir uma lista não ordenada\",\n      aliases: [\"ul\", \"li\", \"lista\", \"listamarcadores\", \"lista com marcadores\"],\n      group: \"Blocos Básicos\"\n    },\n    paragraph: {\n      title: \"Parágrafo\",\n      subtext: \"Usado para o corpo do seu documento\",\n      aliases: [\"p\", \"paragrafo\"],\n      group: \"Blocos Básicos\"\n    },\n    table: {\n      title: \"Tabela\",\n      subtext: \"Usado para tabelas\",\n      aliases: [\"tabela\"],\n      group: \"Avançado\"\n    },\n    image: {\n      title: \"Imagem\",\n      subtext: \"Inserir uma imagem\",\n      aliases: [\n        \"imagem\",\n        \"uploadImagem\",\n        \"upload\",\n        \"img\",\n        \"foto\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Mídia\"\n    },\n    video: {\n      title: \"Vídeo\",\n      subtext: \"Inserir um vídeo\",\n      aliases: [\n        \"vídeo\",\n        \"uploadVídeo\",\n        \"upload\",\n        \"mp4\",\n        \"filme\",\n        \"mídia\",\n        \"url\"\n      ],\n      group: \"Mídia\"\n    },\n    audio: {\n      title: \"Áudio\",\n      subtext: \"Inserir um áudio\",\n      aliases: [\"áudio\", \"uploadÁudio\", \"upload\", \"mp3\", \"som\", \"mídia\", \"url\"],\n      group: \"Mídia\"\n    },\n    file: {\n      title: \"Arquivo\",\n      subtext: \"Inserir um arquivo\",\n      aliases: [\"arquivo\", \"upload\", \"incorporar\", \"mídia\", \"url\"],\n      group: \"Mídia\"\n    }\n  },\n  placeholders: {\n    default: \"Digite texto ou use '/' para comandos\",\n    heading: \"Título\",\n    bulletListItem: \"Lista\",\n    numberedListItem: \"Lista\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Adicionar imagem\"\n    },\n    video: {\n      add_button_text: \"Adicionar vídeo\"\n    },\n    audio: {\n      add_button_text: \"Adicionar áudio\"\n    },\n    file: {\n      add_button_text: \"Adicionar arquivo\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Adicionar bloco\",\n    drag_handle_label: \"Abrir menu do bloco\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Excluir\",\n    colors_menuitem: \"Cores\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Excluir coluna\",\n    delete_row_menuitem: \"Excluir linha\",\n    add_left_menuitem: \"Adicionar coluna à esquerda\",\n    add_right_menuitem: \"Adicionar coluna à direita\",\n    add_above_menuitem: \"Adicionar linha acima\",\n    add_below_menuitem: \"Adicionar linha abaixo\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Nenhum item encontrado\",\n    loading: \"Carregando…\"\n  },\n  color_picker: {\n    text_title: \"Texto\",\n    background_title: \"Fundo\",\n    colors: {\n      default: \"Padrão\",\n      gray: \"Cinza\",\n      brown: \"Marrom\",\n      red: \"Vermelho\",\n      orange: \"Laranja\",\n      yellow: \"Amarelo\",\n      green: \"Verde\",\n      blue: \"Azul\",\n      purple: \"Roxo\",\n      pink: \"Rosa\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Negrito\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Itálico\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Sublinhado\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Riscado\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Código\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Cores\"\n    },\n    link: {\n      tooltip: \"Criar link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Editar legenda\",\n      input_placeholder: \"Editar legenda\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Substituir imagem\",\n        video: \"Substituir vídeo\",\n        audio: \"Substituir áudio\",\n        file: \"Substituir arquivo\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Renomear imagem\",\n        video: \"Renomear vídeo\",\n        audio: \"Renomear áudio\",\n        file: \"Renomear arquivo\"\n      },\n      input_placeholder: {\n        image: \"Renomear imagem\",\n        video: \"Renomear vídeo\",\n        audio: \"Renomear áudio\",\n        file: \"Renomear arquivo\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Baixar imagem\",\n        video: \"Baixar vídeo\",\n        audio: \"Baixar áudio\",\n        file: \"Baixar arquivo\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Excluir imagem\",\n        video: \"Excluir vídeo\",\n        audio: \"Excluir áudio\",\n        file: \"Excluir arquivo\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Alternar visualização\"\n    },\n    nest: {\n      tooltip: \"Aninhar bloco\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Desaninhar bloco\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Alinhar à esquerda\"\n    },\n    align_center: {\n      tooltip: \"Alinhar ao centro\"\n    },\n    align_right: {\n      tooltip: \"Alinhar à direita\"\n    },\n    align_justify: {\n      tooltip: \"Justificar texto\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Upload\",\n      file_placeholder: {\n        image: \"Upload de imagem\",\n        video: \"Upload de vídeo\",\n        audio: \"Upload de áudio\",\n        file: \"Upload de arquivo\"\n      },\n      upload_error: \"Erro: Falha no upload\"\n    },\n    embed: {\n      title: \"Incorporar\",\n      embed_button: {\n        image: \"Incorporar imagem\",\n        video: \"Incorporar vídeo\",\n        audio: \"Incorporar áudio\",\n        file: \"Incorporar arquivo\"\n      },\n      url_placeholder: \"Insira a URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Remover link\"\n    },\n    edit: {\n      text: \"Editar link\",\n      tooltip: \"Editar\"\n    },\n    open: {\n      tooltip: \"Abrir em nova aba\"\n    },\n    form: {\n      title_placeholder: \"Editar título\",\n      url_placeholder: \"Editar URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, _o = {\n  slash_menu: {\n    heading: {\n      title: \"Tiêu đề H1\",\n      subtext: \"Sử dụng cho tiêu đề cấp cao nhất\",\n      aliases: [\"h\", \"tieude1\", \"dd1\"],\n      group: \"Tiêu đề\"\n    },\n    heading_2: {\n      title: \"Tiêu đề H2\",\n      subtext: \"Sử dụng cho các phần chính\",\n      aliases: [\"h2\", \"tieude2\", \"tieudephu\"],\n      group: \"Tiêu đề\"\n    },\n    heading_3: {\n      title: \"Tiêu đề H3\",\n      subtext: \"Sử dụng cho phụ đề và tiêu đề nhóm\",\n      aliases: [\"h3\", \"tieude3\", \"tieudephu\"],\n      group: \"Tiêu đề\"\n    },\n    numbered_list: {\n      title: \"Danh sách đánh số\",\n      subtext: \"Sử dụng để hiển thị danh sách có đánh số\",\n      aliases: [\"ol\", \"li\", \"ds\", \"danhsachdso\", \"danh sách đánh số\"],\n      group: \"Khối cơ bản\"\n    },\n    bullet_list: {\n      title: \"Danh sách\",\n      subtext: \"Sử dụng để hiển thị danh sách không đánh số\",\n      aliases: [\"ul\", \"li\", \"ds\", \"danhsach\", \"danh sách\"],\n      group: \"Khối cơ bản\"\n    },\n    paragraph: {\n      title: \"Đoạn văn\",\n      subtext: \"Sử dụng cho nội dung chính của tài liệu\",\n      aliases: [\"p\", \"doanvan\"],\n      group: \"Khối cơ bản\"\n    },\n    table: {\n      title: \"Bảng\",\n      subtext: \"Sử dụng để tạo bảng\",\n      aliases: [\"bang\"],\n      group: \"Nâng cao\"\n    },\n    image: {\n      title: \"Hình ảnh\",\n      subtext: \"Chèn hình ảnh\",\n      aliases: [\"anh\", \"tai-len-anh\", \"tai-len\", \"img\", \"hinh\", \"media\", \"url\"],\n      group: \"Phương tiện\"\n    },\n    video: {\n      title: \"Video\",\n      subtext: \"Chèn video\",\n      aliases: [\n        \"video\",\n        \"tai-len-video\",\n        \"tai-len\",\n        \"mp4\",\n        \"phim\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Phương tiện\"\n    },\n    audio: {\n      title: \"Âm thanh\",\n      subtext: \"Chèn âm thanh\",\n      aliases: [\n        \"âm thanh\",\n        \"tai-len-am-thanh\",\n        \"tai-len\",\n        \"mp3\",\n        \"am thanh\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Phương tiện\"\n    },\n    file: {\n      title: \"Tệp\",\n      subtext: \"Chèn tệp\",\n      aliases: [\"tep\", \"tai-len\", \"nhung\", \"media\", \"url\"],\n      group: \"Phương tiện\"\n    }\n  },\n  placeholders: {\n    default: \"Nhập văn bản hoặc gõ '/' để thêm định dạng\",\n    heading: \"Tiêu đề\",\n    bulletListItem: \"Danh sách\",\n    numberedListItem: \"Danh sách\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Thêm ảnh\"\n    },\n    video: {\n      add_button_text: \"Thêm video\"\n    },\n    audio: {\n      add_button_text: \"Thêm âm thanh\"\n    },\n    file: {\n      add_button_text: \"Thêm tệp\"\n    }\n  },\n  // từ gói phản ứng:\n  side_menu: {\n    add_block_label: \"Thêm khối\",\n    drag_handle_label: \"Mở trình đơn khối\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Xóa\",\n    colors_menuitem: \"Màu sắc\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Xóa cột\",\n    delete_row_menuitem: \"Xóa hàng\",\n    add_left_menuitem: \"Thêm cột bên trái\",\n    add_right_menuitem: \"Thêm cột bên phải\",\n    add_above_menuitem: \"Thêm hàng phía trên\",\n    add_below_menuitem: \"Thêm hàng phía dưới\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Không tìm thấy mục nào\",\n    loading: \"Đang tải...\"\n  },\n  color_picker: {\n    text_title: \"Văn bản\",\n    background_title: \"Nền\",\n    colors: {\n      default: \"Mặc định\",\n      gray: \"Xám\",\n      brown: \"Nâu\",\n      red: \"Đỏ\",\n      orange: \"Cam\",\n      yellow: \"Vàng\",\n      green: \"Xanh lá\",\n      blue: \"Xanh dương\",\n      purple: \"Tím\",\n      pink: \"Hồng\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"In đậm\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"In nghiêng\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Gạch dưới\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Gạch ngang\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Màu sắc\"\n    },\n    link: {\n      tooltip: \"Tạo liên kết\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Chỉnh sửa chú thích\",\n      input_placeholder: \"Chỉnh sửa chú thích\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Thay thế hình ảnh\",\n        video: \"Thay thế video\",\n        audio: \"Thay thế âm thanh\",\n        file: \"Thay thế tệp\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Đổi tên hình ảnh\",\n        video: \"Đổi tên video\",\n        audio: \"Đổi tên âm thanh\",\n        file: \"Đổi tên tệp\"\n      },\n      input_placeholder: {\n        image: \"Đổi tên hình ảnh\",\n        video: \"Đổi tên video\",\n        audio: \"Đổi tên âm thanh\",\n        file: \"Đổi tên tệp\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Tải xuống hình ảnh\",\n        video: \"Tải xuống video\",\n        audio: \"Tải xuống âm thanh\",\n        file: \"Tải xuống tệp\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Xóa hình ảnh\",\n        video: \"Xóa video\",\n        audio: \"Xóa âm thanh\",\n        file: \"Xóa tệp\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Chuyển đổi xem trước\"\n    },\n    nest: {\n      tooltip: \"Lồng khối\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Bỏ lồng khối\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Căn trái văn bản\"\n    },\n    align_center: {\n      tooltip: \"Căn giữa văn bản\"\n    },\n    align_right: {\n      tooltip: \"Căn phải văn bản\"\n    },\n    align_justify: {\n      tooltip: \"Căn đều văn bản\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Tải lên\",\n      file_placeholder: {\n        image: \"Tải lên hình ảnh\",\n        video: \"Tải lên video\",\n        audio: \"Tải lên âm thanh\",\n        file: \"Tải lên tệp\"\n      },\n      upload_error: \"Lỗi: Tải lên thất bại\"\n    },\n    embed: {\n      title: \"Nhúng\",\n      embed_button: {\n        image: \"Nhúng hình ảnh\",\n        video: \"Nhúng video\",\n        audio: \"Nhúng âm thanh\",\n        file: \"Nhúng tệp\"\n      },\n      url_placeholder: \"Nhập URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Xóa liên kết\"\n    },\n    edit: {\n      text: \"Chỉnh sửa liên kết\",\n      tooltip: \"Chỉnh sửa\"\n    },\n    open: {\n      tooltip: \"Mở trong tab mới\"\n    },\n    form: {\n      title_placeholder: \"Chỉnh sửa tiêu đề\",\n      url_placeholder: \"Chỉnh sửa URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, wo = {\n  slash_menu: {\n    heading: {\n      title: \"一级标题\",\n      subtext: \"用于顶级标题\",\n      aliases: [\"h\", \"heading1\", \"h1\", \"标题\", \"一级标题\"],\n      group: \"标题\"\n    },\n    heading_2: {\n      title: \"二级标题\",\n      subtext: \"用于关键部分\",\n      aliases: [\"h2\", \"heading2\", \"subheading\", \"标题\", \"二级标题\", \"副标题\"],\n      group: \"标题\"\n    },\n    heading_3: {\n      title: \"三级标题\",\n      subtext: \"用于小节和分组标题\",\n      aliases: [\"h3\", \"heading3\", \"subheading\", \"标题\", \"三级标题\"],\n      group: \"标题\"\n    },\n    numbered_list: {\n      title: \"有序列表\",\n      subtext: \"用于显示有序列表\",\n      aliases: [\n        \"ol\",\n        \"li\",\n        \"list\",\n        \"numberedlist\",\n        \"numbered list\",\n        \"列表\",\n        \"有序列表\"\n      ],\n      group: \"基础\"\n    },\n    bullet_list: {\n      title: \"无序列表\",\n      subtext: \"用于显示无序列表\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"list\",\n        \"bulletlist\",\n        \"bullet list\",\n        \"列表\",\n        \"无序列表\"\n      ],\n      group: \"基础\"\n    },\n    paragraph: {\n      title: \"段落\",\n      subtext: \"用于文档正文\",\n      aliases: [\"p\", \"paragraph\", \"text\", \"正文\"],\n      group: \"基础\"\n    },\n    table: {\n      title: \"表格\",\n      subtext: \"使用表格\",\n      aliases: [\"table\", \"表格\"],\n      group: \"高级功能\"\n    },\n    image: {\n      title: \"图片\",\n      subtext: \"插入图片\",\n      aliases: [\n        \"图片\",\n        \"上传图片\",\n        \"上传\",\n        \"image\",\n        \"img\",\n        \"相册\",\n        \"媒体\",\n        \"url\"\n      ],\n      group: \"媒体\"\n    },\n    video: {\n      title: \"视频\",\n      subtext: \"插入视频\",\n      aliases: [\n        \"视频\",\n        \"视频上传\",\n        \"上传\",\n        \"video\",\n        \"mp4\",\n        \"电影\",\n        \"媒体\",\n        \"url\",\n        \"驱动\",\n        \"dropbox\"\n      ],\n      group: \"媒体\"\n    },\n    audio: {\n      title: \"音频\",\n      subtext: \"插入音频\",\n      aliases: [\n        \"音频\",\n        \"音频上传\",\n        \"上传\",\n        \"audio\",\n        \"mp3\",\n        \"声音\",\n        \"媒体\",\n        \"url\",\n        \"驱动\",\n        \"dropbox\"\n      ],\n      group: \"媒体\"\n    },\n    file: {\n      title: \"文件\",\n      subtext: \"插入文件\",\n      aliases: [\"文件\", \"上传\", \"file\", \"嵌入\", \"媒体\", \"url\"],\n      group: \"媒体\"\n    }\n  },\n  placeholders: {\n    default: \"输入 '/' 以使用命令\",\n    heading: \"标题\",\n    bulletListItem: \"列表\",\n    numberedListItem: \"列表\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"添加图片\"\n    },\n    video: {\n      add_button_text: \"添加视频\"\n    },\n    audio: {\n      add_button_text: \"添加音频\"\n    },\n    file: {\n      add_button_text: \"添加文件\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"添加块\",\n    drag_handle_label: \"打开菜单\"\n  },\n  drag_handle: {\n    delete_menuitem: \"删除\",\n    colors_menuitem: \"颜色\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"删除列\",\n    delete_row_menuitem: \"删除行\",\n    add_left_menuitem: \"左侧添加列\",\n    add_right_menuitem: \"右侧添加列\",\n    add_above_menuitem: \"上方添加行\",\n    add_below_menuitem: \"下方添加行\"\n  },\n  suggestion_menu: {\n    no_items_title: \"无匹配项\",\n    loading: \"加载中…\"\n  },\n  color_picker: {\n    text_title: \"文本\",\n    background_title: \"背景色\",\n    colors: {\n      default: \"默认\",\n      gray: \"灰色\",\n      brown: \"棕色\",\n      red: \"红色\",\n      orange: \"橙色\",\n      yellow: \"黄色\",\n      green: \"绿色\",\n      blue: \"蓝色\",\n      purple: \"紫色\",\n      pink: \"粉色\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"加粗\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"斜体\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"下划线\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"删除线\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"代码标记\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"颜色\"\n    },\n    link: {\n      tooltip: \"添加链接\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"编辑标题\",\n      input_placeholder: \"编辑标题\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"替换图片\",\n        video: \"替换视频\",\n        audio: \"替换音频\",\n        file: \"替换文件\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"重命名图片\",\n        video: \"重命名视频\",\n        audio: \"重命名音频\",\n        file: \"重命名文件\"\n      },\n      input_placeholder: {\n        image: \"重命名图片\",\n        video: \"重命名视频\",\n        audio: \"重命名音频\",\n        file: \"重命名文件\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"下载图片\",\n        video: \"下载视频\",\n        audio: \"下载音频\",\n        file: \"下载文件\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"删除图片\",\n        video: \"删除视频\",\n        audio: \"删除音频\",\n        file: \"删除文件\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"切换预览\"\n    },\n    nest: {\n      tooltip: \"嵌套\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"取消嵌套\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"左对齐\"\n    },\n    align_center: {\n      tooltip: \"居中\"\n    },\n    align_right: {\n      tooltip: \"右对齐\"\n    },\n    align_justify: {\n      tooltip: \"文本对齐\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"上传\",\n      file_placeholder: {\n        image: \"上传图片\",\n        video: \"上传视频\",\n        audio: \"上传音频\",\n        file: \"上传文件\"\n      },\n      upload_error: \"Error：上传失败\"\n    },\n    embed: {\n      title: \"嵌入\",\n      embed_button: {\n        image: \"嵌入图片\",\n        video: \"嵌入视频\",\n        audio: \"嵌入音频\",\n        file: \"嵌入文件\"\n      },\n      url_placeholder: \"输入图片地址\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"清除链接\"\n    },\n    edit: {\n      text: \"编辑链接\",\n      tooltip: \"编辑\"\n    },\n    open: {\n      tooltip: \"新窗口打开\"\n    },\n    form: {\n      title_placeholder: \"编辑标题\",\n      url_placeholder: \"编辑链接地址\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, vr = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  en: Ze,\n  fr: ho,\n  is: mo,\n  ja: fo,\n  ko: go,\n  nl: bo,\n  pl: ko,\n  pt: yo,\n  vi: _o,\n  zh: wo\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction vo(t, e = JSON.stringify) {\n  const o = {};\n  return t.filter((i) => {\n    const n = e(i);\n    return Object.prototype.hasOwnProperty.call(o, n) ? !1 : o[n] = !0;\n  });\n}\nfunction xo(t) {\n  const e = t.filter(\n    (i, n) => t.indexOf(i) !== n\n  );\n  return vo(e);\n}\nconst J = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"uniqueID\",\n  // we’ll set a very high priority to make sure this runs first\n  // and is compatible with `appendTransaction` hooks of other extensions\n  priority: 1e4,\n  addOptions() {\n    return {\n      attributeName: \"id\",\n      types: [],\n      generateID: () => {\n        if (typeof window < \"u\" && window.__TEST_OPTIONS) {\n          const t = window.__TEST_OPTIONS;\n          return t.mockID === void 0 ? t.mockID = 0 : t.mockID++, t.mockID.toString();\n        }\n        return (0,uuid__WEBPACK_IMPORTED_MODULE_18__[\"default\"])();\n      },\n      filterTransaction: null\n    };\n  },\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          [this.options.attributeName]: {\n            default: null,\n            parseHTML: (t) => t.getAttribute(`data-${this.options.attributeName}`),\n            renderHTML: (t) => ({\n              [`data-${this.options.attributeName}`]: t[this.options.attributeName]\n            })\n          }\n        }\n      }\n    ];\n  },\n  // check initial content for missing ids\n  // onCreate() {\n  //   // Don’t do this when the collaboration extension is active\n  //   // because this may update the content, so Y.js tries to merge these changes.\n  //   // This leads to empty block nodes.\n  //   // See: https://github.com/ueberdosis/tiptap/issues/2400\n  //   if (\n  //     this.editor.extensionManager.extensions.find(\n  //       (extension) => extension.name === \"collaboration\"\n  //     )\n  //   ) {\n  //     return;\n  //   }\n  //   const { view, state } = this.editor;\n  //   const { tr, doc } = state;\n  //   const { types, attributeName, generateID } = this.options;\n  //   const nodesWithoutId = findChildren(doc, (node) => {\n  //     return (\n  //       types.includes(node.type.name) && node.attrs[attributeName] === null\n  //     );\n  //   });\n  //   nodesWithoutId.forEach(({ node, pos }) => {\n  //     tr.setNodeMarkup(pos, undefined, {\n  //       ...node.attrs,\n  //       [attributeName]: generateID(),\n  //     });\n  //   });\n  //   tr.setMeta(\"addToHistory\", false);\n  //   view.dispatch(tr);\n  // },\n  addProseMirrorPlugins() {\n    let t = null, e = !1;\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        key: new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"uniqueID\"),\n        appendTransaction: (o, i, n) => {\n          const r = o.some((m) => m.docChanged) && !i.doc.eq(n.doc), a = this.options.filterTransaction && o.some((m) => {\n            let g, y;\n            return !(!((y = (g = this.options).filterTransaction) === null || y === void 0) && y.call(g, m));\n          });\n          if (!r || a)\n            return;\n          const { tr: s } = n, { types: l, attributeName: d, generateID: u } = this.options, p = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.combineTransactionSteps)(\n            i.doc,\n            o\n          ), { mapping: h } = p;\n          if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getChangedRanges)(p).forEach(({ newRange: m }) => {\n            const g = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findChildrenInRange)(\n              n.doc,\n              m,\n              (E) => l.includes(E.type.name)\n            ), y = g.map(({ node: E }) => E.attrs[d]).filter((E) => E !== null), B = xo(y);\n            g.forEach(({ node: E, pos: $ }) => {\n              let ce;\n              const Be = (ce = s.doc.nodeAt($)) === null || ce === void 0 ? void 0 : ce.attrs[d];\n              if (Be === null) {\n                const Le = i.doc.type.createAndFill().content;\n                if (i.doc.content.findDiffStart(Le) === null) {\n                  const Ie = JSON.parse(\n                    JSON.stringify(n.doc.toJSON())\n                  );\n                  if (Ie.content[0].content[0].attrs.id = \"initialBlockId\", JSON.stringify(Ie.content) === JSON.stringify(Le.toJSON())) {\n                    s.setNodeMarkup($, void 0, {\n                      ...E.attrs,\n                      [d]: \"initialBlockId\"\n                    });\n                    return;\n                  }\n                }\n                s.setNodeMarkup($, void 0, {\n                  ...E.attrs,\n                  [d]: u()\n                });\n                return;\n              }\n              const { deleted: xt } = h.invert().mapResult($);\n              xt && B.includes(Be) && s.setNodeMarkup($, void 0, {\n                ...E.attrs,\n                [d]: u()\n              });\n            });\n          }), !!s.steps.length)\n            return s;\n        },\n        // we register a global drag handler to track the current drag source element\n        view(o) {\n          const i = (n) => {\n            let r;\n            t = !((r = o.dom.parentElement) === null || r === void 0) && r.contains(n.target) ? o.dom.parentElement : null;\n          };\n          return window.addEventListener(\"dragstart\", i), {\n            destroy() {\n              window.removeEventListener(\"dragstart\", i);\n            }\n          };\n        },\n        props: {\n          // `handleDOMEvents` is called before `transformPasted`\n          // so we can do some checks before\n          handleDOMEvents: {\n            // only create new ids for dropped content while holding `alt`\n            // or content is dragged from another editor\n            drop: (o, i) => {\n              let n;\n              return (t !== o.dom.parentElement || ((n = i.dataTransfer) === null || n === void 0 ? void 0 : n.effectAllowed) === \"copy\") && (t = null, e = !0), !1;\n            },\n            // always create new ids on pasted content\n            paste: () => (e = !0, !1)\n          },\n          // we’ll remove ids for every pasted node\n          // so we can create a new one within `appendTransaction`\n          transformPasted: (o) => {\n            if (!e)\n              return o;\n            const { types: i, attributeName: n } = this.options, r = (a) => {\n              const s = [];\n              return a.forEach((l) => {\n                if (l.isText) {\n                  s.push(l);\n                  return;\n                }\n                if (!i.includes(l.type.name)) {\n                  s.push(l.copy(r(l.content)));\n                  return;\n                }\n                const d = l.type.create(\n                  {\n                    ...l.attrs,\n                    [n]: null\n                  },\n                  r(l.content),\n                  l.marks\n                );\n                s.push(d);\n              }), prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(s);\n            };\n            return e = !1, new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(\n              r(o.content),\n              o.openStart,\n              o.openEnd\n            );\n          }\n        }\n      })\n    ];\n  }\n});\nfunction Je(t) {\n  const e = t.attrs.id, o = t.firstChild, i = o.type, n = t.childCount === 2 ? t.lastChild.childCount : 0;\n  return {\n    id: e,\n    node: t,\n    contentNode: o,\n    contentType: i,\n    numChildBlocks: n\n  };\n}\nfunction b(t, e) {\n  const i = t.nodeSize - 2;\n  if (e <= 1)\n    for (e = 1 + 1; t.resolve(e).parent.type.name !== \"blockContainer\" && e < i; )\n      e++;\n  else if (e >= i)\n    for (e = i - 1; t.resolve(e).parent.type.name !== \"blockContainer\" && e > 1; )\n      e--;\n  t.resolve(e).parent.type.name === \"blockGroup\" && e++;\n  const n = t.resolve(e), r = n.depth;\n  let a = n.node(r), s = r;\n  for (; ; ) {\n    if (s < 0)\n      throw new Error(\n        \"Could not find blockContainer node. This can only happen if the underlying BlockNote schema has been edited.\"\n      );\n    if (a.type.name === \"blockContainer\")\n      break;\n    s -= 1, a = n.node(s);\n  }\n  const { id: l, contentNode: d, contentType: u, numChildBlocks: p } = Je(a), h = n.start(s), f = n.end(s);\n  return {\n    id: l,\n    node: a,\n    contentNode: d,\n    contentType: u,\n    numChildBlocks: p,\n    startPos: h,\n    endPos: f,\n    depth: s\n  };\n}\nfunction He(t) {\n  return t.type === \"link\";\n}\nfunction Ye(t) {\n  return typeof t != \"string\" && t.type === \"link\";\n}\nfunction Z(t) {\n  return typeof t != \"string\" && t.type === \"text\";\n}\nclass I extends Error {\n  constructor(e) {\n    super(`Unreachable case: ${e}`);\n  }\n}\nfunction xr(t, e = !0) {\n  const { \"data-test\": o, ...i } = t;\n  if (Object.keys(i).length > 0 && e)\n    throw new Error(\"Object must be empty \" + JSON.stringify(t));\n}\nfunction Ue(t, e, o) {\n  const i = [];\n  for (const [n, r] of Object.entries(t.styles)) {\n    const a = o[n];\n    if (!a)\n      throw new Error(`style ${n} not found in styleSchema`);\n    if (a.propSchema === \"boolean\")\n      i.push(e.mark(n));\n    else if (a.propSchema === \"string\")\n      i.push(e.mark(n, { stringValue: r }));\n    else\n      throw new I(a.propSchema);\n  }\n  return t.text.split(/(\\n)/g).filter((n) => n.length > 0).map((n) => n === `\n` ? e.nodes.hardBreak.create() : e.text(n, i));\n}\nfunction Eo(t, e, o) {\n  const i = e.marks.link.create({\n    href: t.href\n  });\n  return be(t.content, e, o).map(\n    (n) => {\n      if (n.type.name === \"text\")\n        return n.mark([...n.marks, i]);\n      if (n.type.name === \"hardBreak\")\n        return n;\n      throw new Error(\"unexpected node type\");\n    }\n  );\n}\nfunction be(t, e, o) {\n  const i = [];\n  if (typeof t == \"string\")\n    return i.push(\n      ...Ue(\n        { type: \"text\", text: t, styles: {} },\n        e,\n        o\n      )\n    ), i;\n  for (const n of t)\n    i.push(...Ue(n, e, o));\n  return i;\n}\nfunction ie(t, e, o) {\n  const i = [];\n  for (const n of t)\n    typeof n == \"string\" ? i.push(...be(n, e, o)) : Ye(n) ? i.push(...Eo(n, e, o)) : Z(n) ? i.push(...be([n], e, o)) : i.push(\n      et(n, e, o)\n    );\n  return i;\n}\nfunction Qe(t, e, o) {\n  const i = [];\n  for (const n of t.rows) {\n    const r = [];\n    for (const s of n.cells) {\n      let l;\n      if (!s)\n        l = e.nodes.tableParagraph.create({});\n      else if (typeof s == \"string\")\n        l = e.nodes.tableParagraph.create({}, e.text(s));\n      else {\n        const u = ie(s, e, o);\n        l = e.nodes.tableParagraph.create({}, u);\n      }\n      const d = e.nodes.tableCell.create({}, l);\n      r.push(d);\n    }\n    const a = e.nodes.tableRow.create({}, r);\n    i.push(a);\n  }\n  return i;\n}\nfunction et(t, e, o) {\n  let i, n = t.type;\n  if (n === void 0 && (n = \"paragraph\"), !e.nodes[n])\n    throw new Error(`node type ${n} not found in schema`);\n  if (!t.content)\n    i = e.nodes[n].create(t.props);\n  else if (typeof t.content == \"string\")\n    i = e.nodes[n].create(\n      t.props,\n      e.text(t.content)\n    );\n  else if (Array.isArray(t.content)) {\n    const r = ie(t.content, e, o);\n    i = e.nodes[n].create(t.props, r);\n  } else if (t.content.type === \"tableContent\") {\n    const r = Qe(t.content, e, o);\n    i = e.nodes[n].create(t.props, r);\n  } else\n    throw new I(t.content.type);\n  return i;\n}\nfunction N(t, e, o) {\n  let i = t.id;\n  i === void 0 && (i = J.options.generateID());\n  const n = et(\n    t,\n    e,\n    o\n  ), r = [];\n  if (t.children)\n    for (const s of t.children)\n      r.push(N(s, e, o));\n  const a = e.nodes.blockGroup.create({}, r);\n  return e.nodes.blockContainer.create(\n    {\n      id: i,\n      ...t.props\n    },\n    r.length > 0 ? [n, a] : n\n  );\n}\nfunction Co(t, e, o) {\n  const i = {\n    type: \"tableContent\",\n    rows: []\n  };\n  return t.content.forEach((n) => {\n    const r = {\n      cells: []\n    };\n    n.content.forEach((a) => {\n      r.cells.push(\n        ve(\n          a.firstChild,\n          e,\n          o\n        )\n      );\n    }), i.rows.push(r);\n  }), i;\n}\nfunction ve(t, e, o) {\n  const i = [];\n  let n;\n  return t.content.forEach((r) => {\n    if (r.type.name === \"hardBreak\") {\n      if (n)\n        if (Z(n))\n          n.text += `\n`;\n        else if (He(n))\n          n.content[n.content.length - 1].text += `\n`;\n        else\n          throw new Error(\"unexpected\");\n      else\n        n = {\n          type: \"text\",\n          text: `\n`,\n          styles: {}\n        };\n      return;\n    }\n    if (r.type.name !== \"link\" && r.type.name !== \"text\" && e[r.type.name]) {\n      n && (i.push(n), n = void 0), i.push(\n        tt(r, e, o)\n      );\n      return;\n    }\n    const a = {};\n    let s;\n    for (const l of r.marks)\n      if (l.type.name === \"link\")\n        s = l;\n      else {\n        const d = o[l.type.name];\n        if (!d)\n          throw new Error(`style ${l.type.name} not found in styleSchema`);\n        if (d.propSchema === \"boolean\")\n          a[d.type] = !0;\n        else if (d.propSchema === \"string\")\n          a[d.type] = l.attrs.stringValue;\n        else\n          throw new I(d.propSchema);\n      }\n    n ? Z(n) ? s ? (i.push(n), n = {\n      type: \"link\",\n      href: s.attrs.href,\n      content: [\n        {\n          type: \"text\",\n          text: r.textContent,\n          styles: a\n        }\n      ]\n    }) : JSON.stringify(n.styles) === JSON.stringify(a) ? n.text += r.textContent : (i.push(n), n = {\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    }) : He(n) && (s ? n.href === s.attrs.href ? JSON.stringify(\n      n.content[n.content.length - 1].styles\n    ) === JSON.stringify(a) ? n.content[n.content.length - 1].text += r.textContent : n.content.push({\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    }) : (i.push(n), n = {\n      type: \"link\",\n      href: s.attrs.href,\n      content: [\n        {\n          type: \"text\",\n          text: r.textContent,\n          styles: a\n        }\n      ]\n    }) : (i.push(n), n = {\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    })) : s ? n = {\n      type: \"link\",\n      href: s.attrs.href,\n      content: [\n        {\n          type: \"text\",\n          text: r.textContent,\n          styles: a\n        }\n      ]\n    } : n = {\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    };\n  }), n && i.push(n), i;\n}\nfunction tt(t, e, o) {\n  if (t.type.name === \"text\" || t.type.name === \"link\")\n    throw new Error(\"unexpected\");\n  const i = {}, n = e[t.type.name];\n  for (const [s, l] of Object.entries(t.attrs)) {\n    if (!n)\n      throw Error(\"ic node is of an unrecognized type: \" + t.type.name);\n    const d = n.propSchema;\n    s in d && (i[s] = l);\n  }\n  let r;\n  return n.content === \"styled\" ? r = ve(\n    t,\n    e,\n    o\n  ) : r = void 0, {\n    type: t.type.name,\n    props: i,\n    content: r\n  };\n}\nfunction _(t, e, o, i, n) {\n  if (t.type.name !== \"blockContainer\")\n    throw Error(\n      \"Node must be of type blockContainer, but is of type\" + t.type.name + \".\"\n    );\n  const r = n == null ? void 0 : n.get(t);\n  if (r)\n    return r;\n  const a = Je(t);\n  let s = a.id;\n  s === null && (s = J.options.generateID());\n  const l = {};\n  for (const [f, m] of Object.entries({\n    ...t.attrs,\n    ...a.contentNode.attrs\n  })) {\n    const g = e[a.contentType.name];\n    if (!g)\n      throw Error(\n        \"Block is of an unrecognized type: \" + a.contentType.name\n      );\n    const y = g.propSchema;\n    f in y && (l[f] = m);\n  }\n  const d = e[a.contentType.name], u = [];\n  for (let f = 0; f < a.numChildBlocks; f++)\n    u.push(\n      _(\n        t.lastChild.child(f),\n        e,\n        o,\n        i,\n        n\n      )\n    );\n  let p;\n  if (d.content === \"inline\")\n    p = ve(\n      a.contentNode,\n      o,\n      i\n    );\n  else if (d.content === \"table\")\n    p = Co(\n      a.contentNode,\n      o,\n      i\n    );\n  else if (d.content === \"none\")\n    p = void 0;\n  else\n    throw new I(d.content);\n  const h = {\n    id: s,\n    type: d.type,\n    props: l,\n    content: p,\n    children: u\n  };\n  return n == null || n.set(t, h), h;\n}\nfunction So(t) {\n  return t.document || window.document;\n}\nconst ot = (t, e, o, i, n) => {\n  if (!o.nodes[t.type.name])\n    throw new Error(\"Serializer is missing a node type: \" + t.type.name);\n  const { dom: r, contentDOM: a } = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMSerializer.renderSpec(\n    So(e),\n    o.nodes[t.type.name](t)\n  );\n  if (a) {\n    if (t.isLeaf)\n      throw new RangeError(\"Content hole not allowed in a leaf node spec\");\n    if (t.type.name === \"blockContainer\") {\n      const s = t.childCount > 0 && t.firstChild.type.spec.group === \"blockContent\" ? t.firstChild : void 0, l = t.childCount > 0 && t.lastChild.type.spec.group === \"blockGroup\" ? t.lastChild : void 0;\n      if (s !== void 0) {\n        const d = i.blockImplementations[s.type.name].implementation, p = (n ? d.toExternalHTML : d.toInternalHTML)(\n          _(\n            t,\n            i.schema.blockSchema,\n            i.schema.inlineContentSchema,\n            i.schema.styleSchema,\n            i.blockCache\n          ),\n          i\n        );\n        if (p.contentDOM !== void 0) {\n          if (t.isLeaf)\n            throw new RangeError(\n              \"Content hole not allowed in a leaf node spec\"\n            );\n          p.contentDOM.appendChild(\n            o.serializeFragment(s.content, e)\n          );\n        }\n        a.appendChild(p.dom);\n      }\n      l !== void 0 && o.serializeFragment(\n        prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(l),\n        e,\n        a\n      );\n    } else\n      o.serializeFragment(t.content, e, a);\n  }\n  return r;\n}, it = (t, e) => {\n  const o = e.serializeFragment(t), i = document.createElement(\"div\");\n  return i.appendChild(o), i.innerHTML;\n};\nfunction Mo(t) {\n  const e = /* @__PURE__ */ new Set([\n    ...t.orderedListItemBlockTypes,\n    ...t.unorderedListItemBlockTypes\n  ]), o = (i) => {\n    var a;\n    if (i.children.length === 1 && ((a = i.children[0].properties) == null ? void 0 : a.dataNodeType) === \"blockGroup\") {\n      const s = i.children[0];\n      i.children.pop(), i.children.push(...s.children);\n    }\n    let n = i.children.length, r;\n    for (let s = 0; s < n; s++) {\n      const d = i.children[s].children[0], u = d.children[0], p = d.children.length === 2 ? d.children[1] : null, h = e.has(\n        u.properties.dataContentType\n      ), f = h ? t.orderedListItemBlockTypes.has(\n        u.properties.dataContentType\n      ) ? \"ol\" : \"ul\" : null;\n      if (p !== null && o(p), r && r.tagName !== f) {\n        i.children.splice(\n          s - r.children.length,\n          r.children.length,\n          r\n        );\n        const m = r.children.length - 1;\n        s -= m, n -= m, r = void 0;\n      }\n      if (h) {\n        r || (r = (0,hast_util_from_dom__WEBPACK_IMPORTED_MODULE_21__.fromDom)(\n          document.createElement(f)\n        ));\n        const m = (0,hast_util_from_dom__WEBPACK_IMPORTED_MODULE_21__.fromDom)(\n          document.createElement(\"li\")\n        );\n        m.children.push(u.children[0]), p !== null && m.children.push(...p.children), r.children.push(m);\n      } else if (p !== null) {\n        i.children.splice(s + 1, 0, ...p.children), i.children[s] = u.children[0];\n        const m = p.children.length;\n        s += m, n += m;\n      } else\n        i.children[s] = u.children[0];\n    }\n    r && i.children.splice(\n      n - r.children.length,\n      r.children.length,\n      r\n    );\n  };\n  return o;\n}\nconst ne = (t, e) => {\n  const o = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMSerializer.fromSchema(t);\n  return o.serializeNodeInner = (i, n) => ot(i, n, o, e, !0), o.exportProseMirrorFragment = (i) => (0,unified__WEBPACK_IMPORTED_MODULE_22__.unified)().use(rehype_parse__WEBPACK_IMPORTED_MODULE_23__[\"default\"], { fragment: !0 }).use(Mo, {\n    orderedListItemBlockTypes: /* @__PURE__ */ new Set([\"numberedListItem\"]),\n    unorderedListItemBlockTypes: /* @__PURE__ */ new Set([\"bulletListItem\"])\n  }).use(rehype_stringify__WEBPACK_IMPORTED_MODULE_24__[\"default\"]).processSync(it(i, o)).value, o.exportBlocks = (i) => {\n    const n = i.map(\n      (a) => N(a, t, e.schema.styleSchema)\n    ), r = t.nodes.blockGroup.create(null, n);\n    return o.exportProseMirrorFragment(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(r));\n  }, o;\n}, nt = (t, e) => {\n  const o = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMSerializer.fromSchema(t);\n  return o.serializeNodeInner = (i, n) => ot(i, n, o, e, !1), o.serializeProseMirrorFragment = (i) => it(i, o), o.serializeBlocks = (i) => {\n    const n = i.map(\n      (a) => N(a, t, e.schema.styleSchema)\n    ), r = t.nodes.blockGroup.create(null, n);\n    return o.serializeProseMirrorFragment(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(r));\n  }, o;\n}, To = () => typeof navigator < \"u\" && (/Mac/.test(navigator.platform) || /AppleWebKit/.test(navigator.userAgent) && /Mobile\\/\\w+/.test(navigator.userAgent));\nfunction R(t, e = \"Ctrl\") {\n  return To() ? t.replace(\"Mod\", \"⌘\") : t.replace(\"Mod\", e);\n}\nfunction D(...t) {\n  return t.filter((e) => e).join(\" \");\n}\nconst Er = () => /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nfunction Y(t, e, o, i) {\n  const n = document.createElement(\"div\");\n  n.className = D(\n    \"bn-block-content\",\n    o.class\n  ), n.setAttribute(\"data-content-type\", t);\n  for (const [a, s] of Object.entries(o))\n    a !== \"class\" && n.setAttribute(a, s);\n  const r = document.createElement(e);\n  r.className = D(\n    \"bn-inline-content\",\n    i.class\n  );\n  for (const [a, s] of Object.entries(\n    i\n  ))\n    a !== \"class\" && r.setAttribute(a, s);\n  return n.appendChild(r), {\n    dom: n,\n    contentDOM: r\n  };\n}\nconst De = (t, e) => {\n  const o = N(\n    t,\n    e._tiptapEditor.schema,\n    e.schema.styleSchema\n  ).firstChild, i = e._tiptapEditor.schema.nodes[o.type.name].spec.toDOM;\n  if (i === void 0)\n    throw new Error(\n      \"This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.\"\n    );\n  const n = i(o);\n  if (typeof n != \"object\" || !(\"dom\" in n))\n    throw new Error(\n      \"Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.\"\n    );\n  return n;\n}, k = {\n  backgroundColor: {\n    default: \"default\"\n  },\n  textColor: {\n    default: \"default\"\n  },\n  textAlignment: {\n    default: \"left\",\n    values: [\"left\", \"center\", \"right\", \"justify\"]\n  }\n}, rt = [\"backgroundColor\", \"textColor\"];\nfunction oe(t) {\n  return \"data-\" + t.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\nfunction Cr(t) {\n  const e = t.split(\"/\");\n  return !e.length || // invalid?\n  e[e.length - 1] === \"\" ? t : e[e.length - 1];\n}\nfunction at(t) {\n  const e = {};\n  return Object.entries(t).filter(([o, i]) => !rt.includes(o)).forEach(([o, i]) => {\n    e[o] = {\n      default: i.default,\n      keepOnSplit: !0,\n      // Props are displayed in kebab-case as HTML attributes. If a prop's\n      // value is the same as its default, we don't display an HTML\n      // attribute for it.\n      parseHTML: (n) => {\n        const r = n.getAttribute(oe(o));\n        if (r === null)\n          return null;\n        if (typeof i.default == \"boolean\")\n          return r === \"true\" ? !0 : r === \"false\" ? !1 : null;\n        if (typeof i.default == \"number\") {\n          const a = parseFloat(r);\n          return !Number.isNaN(a) && Number.isFinite(a) ? a : null;\n        }\n        return r;\n      },\n      renderHTML: (n) => n[o] !== i.default ? {\n        [oe(o)]: n[o]\n      } : {}\n    };\n  }), e;\n}\nfunction Bo(t, e, o, i) {\n  if (typeof t == \"boolean\")\n    throw new Error(\n      \"Cannot find node position as getPos is a boolean, not a function.\"\n    );\n  const n = t(), a = o.state.doc.resolve(n).node().attrs.id;\n  if (!a)\n    throw new Error(\"Block doesn't have id\");\n  const s = e.getBlock(a);\n  if (s.type !== i)\n    throw new Error(\"Block type does not match\");\n  return s;\n}\nfunction pe(t, e, o, i, n = !1, r) {\n  const a = document.createElement(\"div\");\n  if (r !== void 0)\n    for (const [s, l] of Object.entries(r))\n      s !== \"class\" && a.setAttribute(s, l);\n  a.className = D(\n    \"bn-block-content\",\n    (r == null ? void 0 : r.class) || \"\"\n  ), a.setAttribute(\"data-content-type\", e);\n  for (const [s, l] of Object.entries(o))\n    !rt.includes(s) && l !== i[s].default && a.setAttribute(oe(s), l);\n  return n && a.setAttribute(\"data-file-block\", \"\"), a.appendChild(t.dom), t.contentDOM !== void 0 && (t.contentDOM.className = D(\n    \"bn-inline-content\",\n    t.contentDOM.className\n  ), t.contentDOM.setAttribute(\"data-editable\", \"\")), {\n    ...t,\n    dom: a\n  };\n}\nfunction G(t) {\n  return _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create(t);\n}\nfunction st(t, e) {\n  return {\n    config: t,\n    implementation: e\n  };\n}\nfunction Q(t, e, o) {\n  return st(\n    {\n      type: t.name,\n      content: t.config.content === \"inline*\" ? \"inline\" : t.config.content === \"tableRow+\" ? \"table\" : \"none\",\n      propSchema: e\n    },\n    {\n      node: t,\n      requiredExtensions: o,\n      toInternalHTML: De,\n      toExternalHTML: De\n      // parse: () => undefined, // parse rules are in node already\n    }\n  );\n}\nfunction lt(t) {\n  return Object.fromEntries(\n    Object.entries(t).map(([e, o]) => [e, o.config])\n  );\n}\nfunction Lo(t, e) {\n  const o = [\n    {\n      tag: \"[data-content-type=\" + t.type + \"]\",\n      contentElement: \"[data-editable]\"\n    }\n  ];\n  return e && o.push({\n    tag: \"*\",\n    getAttrs(i) {\n      if (typeof i == \"string\")\n        return !1;\n      const n = e == null ? void 0 : e(i);\n      return n === void 0 ? !1 : n;\n    }\n  }), o;\n}\nfunction re(t, e) {\n  const o = G({\n    name: t.type,\n    content: t.content === \"inline\" ? \"inline*\" : \"\",\n    group: \"blockContent\",\n    selectable: !0,\n    addAttributes() {\n      return at(t.propSchema);\n    },\n    parseHTML() {\n      return Lo(t, e.parse);\n    },\n    renderHTML() {\n      const i = document.createElement(\"div\");\n      return i.setAttribute(\"data-tmp-placeholder\", \"true\"), {\n        dom: i\n      };\n    },\n    addNodeView() {\n      return ({ getPos: i }) => {\n        var l;\n        const n = this.options.editor, r = Bo(\n          i,\n          n,\n          this.editor,\n          t.type\n        ), a = ((l = this.options.domAttributes) == null ? void 0 : l.blockContent) || {}, s = e.render(r, n);\n        return pe(\n          s,\n          r.type,\n          r.props,\n          t.propSchema,\n          a\n        );\n      };\n    }\n  });\n  if (o.name !== t.type)\n    throw new Error(\n      \"Node name does not match block type. This is a bug in BlockNote.\"\n    );\n  return st(t, {\n    node: o,\n    toInternalHTML: (i, n) => {\n      var s;\n      const r = ((s = o.options.domAttributes) == null ? void 0 : s.blockContent) || {}, a = e.render(i, n);\n      return pe(\n        a,\n        i.type,\n        i.props,\n        t.propSchema,\n        t.isFileBlock,\n        r\n      );\n    },\n    toExternalHTML: (i, n) => {\n      var s, l;\n      const r = ((s = o.options.domAttributes) == null ? void 0 : s.blockContent) || {};\n      let a = (l = e.toExternalHTML) == null ? void 0 : l.call(\n        e,\n        i,\n        n\n      );\n      return a === void 0 && (a = e.render(i, n)), pe(\n        a,\n        i.type,\n        i.props,\n        t.propSchema,\n        r\n      );\n    }\n  });\n}\nfunction Io(t, e, o, i) {\n  return t.dom.setAttribute(\"data-inline-content-type\", e), Object.entries(o).filter(([n, r]) => r !== i[n].default).map(([n, r]) => [oe(n), r]).forEach(([n, r]) => t.dom.setAttribute(n, r)), t.contentDOM !== void 0 && t.contentDOM.setAttribute(\"data-editable\", \"\"), t;\n}\nfunction Ao(t) {\n  return {\n    Backspace: ({ editor: e }) => {\n      const o = e.state.selection.$from;\n      return e.state.selection.empty && o.node().type.name === t.type && o.parentOffset === 0;\n    }\n  };\n}\nfunction No(t, e) {\n  return {\n    config: t,\n    implementation: e\n  };\n}\nfunction Po(t, e) {\n  return No(\n    {\n      type: t.name,\n      propSchema: e,\n      content: t.config.content === \"inline*\" ? \"styled\" : \"none\"\n    },\n    {\n      node: t\n    }\n  );\n}\nfunction dt(t) {\n  return Object.fromEntries(\n    Object.entries(t).map(([e, o]) => [e, o.config])\n  );\n}\nfunction Ho(t) {\n  return [\n    {\n      tag: `[data-inline-content-type=\"${t.type}\"]`,\n      contentElement: (e) => {\n        const o = e;\n        return o.matches(\"[data-editable]\") ? o : o.querySelector(\"[data-editable]\") || o;\n      }\n    }\n  ];\n}\nfunction Sr(t, e) {\n  const o = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n    name: t.type,\n    inline: !0,\n    group: \"inline\",\n    selectable: t.content === \"styled\",\n    atom: t.content === \"none\",\n    content: t.content === \"styled\" ? \"inline*\" : \"\",\n    addAttributes() {\n      return at(t.propSchema);\n    },\n    addKeyboardShortcuts() {\n      return Ao(t);\n    },\n    parseHTML() {\n      return Ho(t);\n    },\n    renderHTML({ node: i }) {\n      const n = this.options.editor, r = e.render(\n        tt(\n          i,\n          n.schema.inlineContentSchema,\n          n.schema.styleSchema\n        )\n        // TODO: fix cast\n      );\n      return Io(\n        r,\n        t.type,\n        i.attrs,\n        t.propSchema\n      );\n    }\n  });\n  return Po(\n    o,\n    t.propSchema\n  );\n}\nfunction Uo(t) {\n  return t === \"boolean\" ? {} : {\n    stringValue: {\n      default: void 0,\n      keepOnSplit: !0,\n      parseHTML: (e) => e.getAttribute(\"data-value\"),\n      renderHTML: (e) => e.stringValue !== void 0 ? {\n        \"data-value\": e.stringValue\n      } : {}\n    }\n  };\n}\nfunction Do(t, e, o, i) {\n  return t.dom.setAttribute(\"data-style-type\", e), i === \"string\" && t.dom.setAttribute(\"data-value\", o), t.contentDOM !== void 0 && t.contentDOM.setAttribute(\"data-editable\", \"\"), t;\n}\nfunction ct(t, e) {\n  return {\n    config: t,\n    implementation: e\n  };\n}\nfunction P(t, e) {\n  return ct(\n    {\n      type: t.name,\n      propSchema: e\n    },\n    {\n      mark: t\n    }\n  );\n}\nfunction ut(t) {\n  return Object.fromEntries(\n    Object.entries(t).map(([e, o]) => [e, o.config])\n  );\n}\nfunction Oo(t) {\n  return [\n    {\n      tag: `[data-style-type=\"${t.type}\"]`,\n      contentElement: (e) => {\n        const o = e;\n        return o.matches(\"[data-editable]\") ? o : o.querySelector(\"[data-editable]\") || o;\n      }\n    }\n  ];\n}\nfunction Mr(t, e) {\n  const o = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Mark.create({\n    name: t.type,\n    addAttributes() {\n      return Uo(t.propSchema);\n    },\n    parseHTML() {\n      return Oo(t);\n    },\n    renderHTML({ mark: i }) {\n      let n;\n      if (t.propSchema === \"boolean\")\n        n = e.render();\n      else if (t.propSchema === \"string\")\n        n = e.render(i.attrs.stringValue);\n      else\n        throw new I(t.propSchema);\n      return Do(\n        n,\n        t.type,\n        i.attrs.stringValue,\n        t.propSchema\n      );\n    }\n  });\n  return ct(t, {\n    mark: o\n  });\n}\nconst ae = (t) => {\n  const e = document.createElement(\"div\");\n  e.className = \"bn-file-default-preview\";\n  const o = document.createElement(\"div\");\n  o.className = \"bn-file-default-preview-icon\", o.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z\"></path></svg>';\n  const i = document.createElement(\"p\");\n  return i.className = \"bn-file-default-preview-name\", i.textContent = t.props.name || \"\", e.appendChild(o), e.appendChild(i), {\n    dom: e\n  };\n}, O = (t, e) => {\n  const o = document.createElement(\"div\");\n  o.className = \"bn-file-and-caption-wrapper\";\n  const i = document.createElement(\"p\");\n  return i.className = \"bn-file-caption\", i.textContent = t.props.caption, o.appendChild(e), o.appendChild(i), {\n    dom: o\n  };\n}, se = (t, e, o, i) => {\n  const n = document.createElement(\"div\");\n  n.className = \"bn-add-file-button\";\n  const r = document.createElement(\"div\");\n  r.className = \"bn-add-file-button-icon\", i ? r.appendChild(i) : r.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z\"></path></svg>';\n  const a = document.createElement(\"p\");\n  a.className = \"bn-add-file-button-text\", a.innerHTML = o || e.dictionary.file_blocks.file.add_button_text;\n  const s = (d) => {\n    d.preventDefault();\n  }, l = () => {\n    e._tiptapEditor.view.dispatch(\n      e._tiptapEditor.state.tr.setMeta(e.filePanel.plugin, {\n        block: t\n      })\n    );\n  };\n  return n.appendChild(r), n.appendChild(a), n.addEventListener(\n    \"mousedown\",\n    s,\n    !0\n  ), n.addEventListener(\"click\", l, !0), {\n    dom: n,\n    destroy: () => {\n      n.removeEventListener(\n        \"mousedown\",\n        s,\n        !0\n      ), n.removeEventListener(\n        \"click\",\n        l,\n        !0\n      );\n    }\n  };\n}, Oe = (t) => ({ url: t.src || void 0 }), le = (t, e) => {\n  const o = t.querySelector(\n    e\n  );\n  if (!o)\n    return;\n  const i = t.querySelector(\"figcaption\"), n = (i == null ? void 0 : i.textContent) ?? void 0;\n  return { targetElement: o, caption: n };\n}, de = (t, e) => {\n  const o = document.createElement(\"div\"), i = document.createElement(\"p\");\n  return i.textContent = e, o.appendChild(t), o.appendChild(i), {\n    dom: o\n  };\n}, xe = (t, e) => {\n  const o = document.createElement(\"figure\"), i = document.createElement(\"figcaption\");\n  return i.textContent = e, o.appendChild(t), o.appendChild(i), { dom: o };\n}, pt = (t, e, o, i, n) => {\n  if (!t.props.previewWidth)\n    throw new Error(\"Block must have a `previewWidth` prop.\");\n  const r = document.createElement(\"div\");\n  r.className = \"bn-visual-media-wrapper\";\n  const a = document.createElement(\"div\");\n  a.className = \"bn-visual-media-resize-handle\", a.style.left = \"4px\";\n  const s = document.createElement(\"div\");\n  s.className = \"bn-visual-media-resize-handle\", s.style.right = \"4px\";\n  let l;\n  const d = (g) => {\n    if (!l) {\n      !e.isEditable && r.contains(a) && r.contains(s) && (r.removeChild(a), r.removeChild(s));\n      return;\n    }\n    let y;\n    t.props.textAlignment === \"center\" ? l.handleUsed === \"left\" ? y = l.initialWidth + (l.initialClientX - g.clientX) * 2 : y = l.initialWidth + (g.clientX - l.initialClientX) * 2 : l.handleUsed === \"left\" ? y = l.initialWidth + l.initialClientX - g.clientX : y = l.initialWidth + g.clientX - l.initialClientX;\n    const B = 64;\n    y < B ? n(B) : y > e.domElement.firstElementChild.clientWidth ? n(e.domElement.firstElementChild.clientWidth) : n(y);\n  }, u = (g) => {\n    (!g.target || !r.contains(g.target) || !e.isEditable) && r.contains(a) && r.contains(s) && (r.removeChild(a), r.removeChild(s)), l && (l = void 0, e.updateBlock(t, {\n      props: {\n        previewWidth: i()\n      }\n    }));\n  }, p = () => {\n    e.isEditable && (r.appendChild(a), r.appendChild(s));\n  }, h = (g) => {\n    g.relatedTarget === a || g.relatedTarget === s || l || e.isEditable && r.contains(a) && r.contains(s) && (r.removeChild(a), r.removeChild(s));\n  }, f = (g) => {\n    g.preventDefault(), r.appendChild(a), r.appendChild(s), l = {\n      handleUsed: \"left\",\n      initialWidth: t.props.previewWidth,\n      initialClientX: g.clientX\n    };\n  }, m = (g) => {\n    g.preventDefault(), r.appendChild(a), r.appendChild(s), l = {\n      handleUsed: \"right\",\n      initialWidth: t.props.previewWidth,\n      initialClientX: g.clientX\n    };\n  };\n  return r.appendChild(o), window.addEventListener(\"mousemove\", d), window.addEventListener(\"mouseup\", u), o.addEventListener(\"mouseenter\", p), o.addEventListener(\"mouseleave\", h), a.addEventListener(\n    \"mousedown\",\n    f\n  ), s.addEventListener(\n    \"mousedown\",\n    m\n  ), {\n    dom: r,\n    destroy: () => {\n      window.removeEventListener(\"mousemove\", d), window.removeEventListener(\"mouseup\", u), o.removeEventListener(\"mouseenter\", p), o.removeEventListener(\"mouseleave\", h), a.removeEventListener(\n        \"mousedown\",\n        f\n      ), s.removeEventListener(\n        \"mousedown\",\n        m\n      );\n    }\n  };\n}, Ro = {\n  backgroundColor: k.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  }\n}, Vo = {\n  type: \"file\",\n  propSchema: Ro,\n  content: \"none\",\n  isFileBlock: !0,\n  isFileBlockPlaceholder: (t) => !t.props.url\n}, jo = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = se(t, e);\n    return o.appendChild(i.dom), {\n      dom: o,\n      destroy: i.destroy\n    };\n  } else {\n    const i = ae(t).dom, n = O(t, i);\n    return o.appendChild(n.dom), {\n      dom: o\n    };\n  }\n}, zo = (t) => {\n  if (t.tagName === \"EMBED\")\n    return Oe(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = le(t, \"embed\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...Oe(o),\n      caption: i\n    };\n  }\n}, Fo = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add file\", {\n      dom: o\n    };\n  }\n  const e = document.createElement(\"a\");\n  return e.href = t.props.url, e.textContent = t.props.name || t.props.url, t.props.caption ? de(e, t.props.caption) : {\n    dom: e\n  };\n}, Go = re(Vo, {\n  render: jo,\n  parse: zo,\n  toExternalHTML: Fo\n}), Re = (t) => {\n  const e = t.src || void 0, o = t.width || void 0;\n  return { url: e, previewWidth: o };\n}, Wo = {\n  textAlignment: k.textAlignment,\n  backgroundColor: k.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  },\n  showPreview: {\n    default: !0\n  },\n  // File preview width in px.\n  previewWidth: {\n    default: 512\n  }\n}, $o = {\n  type: \"image\",\n  propSchema: Wo,\n  content: \"none\",\n  isFileBlock: !0,\n  isFileBlockPlaceholder: (t) => !t.props.url,\n  fileBlockAcceptMimeTypes: [\"image/*\"]\n}, Ko = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = document.createElement(\"div\");\n    i.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z\"></path></svg>';\n    const n = se(\n      t,\n      e,\n      e.dictionary.file_blocks.image.add_button_text,\n      i.firstElementChild\n    );\n    return o.appendChild(n.dom), {\n      dom: o,\n      destroy: () => {\n        var r;\n        (r = n == null ? void 0 : n.destroy) == null || r.call(n);\n      }\n    };\n  } else if (t.props.showPreview) {\n    const i = document.createElement(\"img\");\n    i.className = \"bn-visual-media\", i.src = t.props.url, i.alt = t.props.name || t.props.caption || \"BlockNote image\", i.contentEditable = \"false\", i.draggable = !1, i.width = Math.min(\n      t.props.previewWidth,\n      e.domElement.firstElementChild.clientWidth\n    );\n    const n = pt(\n      t,\n      e,\n      i,\n      () => i.width,\n      (a) => i.width = a\n    ), r = O(t, n.dom);\n    return o.appendChild(r.dom), {\n      dom: o,\n      destroy: n.destroy\n    };\n  } else {\n    const i = ae(t).dom;\n    return {\n      dom: O(t, i).dom\n    };\n  }\n}, qo = (t) => {\n  if (t.tagName === \"IMG\")\n    return Re(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = le(t, \"img\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...Re(o),\n      caption: i\n    };\n  }\n}, Xo = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add image\", {\n      dom: o\n    };\n  }\n  let e;\n  return t.props.showPreview ? (e = document.createElement(\"img\"), e.src = t.props.url, e.alt = t.props.name || t.props.caption || \"BlockNote image\", e.width = t.props.previewWidth) : (e = document.createElement(\"a\"), e.href = t.props.url, e.textContent = t.props.name || t.props.url), t.props.caption ? t.props.showPreview ? xe(e, t.props.caption) : de(e, t.props.caption) : {\n    dom: e\n  };\n}, Zo = re($o, {\n  render: Ko,\n  parse: qo,\n  toExternalHTML: Xo\n}), Ve = (t) => {\n  const e = t.src || void 0, o = t.width || void 0;\n  return { url: e, previewWidth: o };\n}, Jo = {\n  textAlignment: k.textAlignment,\n  backgroundColor: k.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  },\n  showPreview: {\n    default: !0\n  },\n  // File preview width in px.\n  previewWidth: {\n    default: 512\n  }\n}, Yo = {\n  type: \"video\",\n  propSchema: Jo,\n  content: \"none\",\n  isFileBlock: !0,\n  isFileBlockPlaceholder: (t) => !t.props.url,\n  fileBlockAcceptMimeTypes: [\"video/*\"]\n}, Qo = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = document.createElement(\"div\");\n    i.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z\"></path></svg>';\n    const n = se(\n      t,\n      e,\n      e.dictionary.file_blocks.video.add_button_text,\n      i.firstElementChild\n    );\n    return o.appendChild(n.dom), {\n      dom: o,\n      destroy: () => {\n        var r;\n        (r = n == null ? void 0 : n.destroy) == null || r.call(n);\n      }\n    };\n  } else if (t.props.showPreview) {\n    const i = document.createElement(\"video\");\n    i.className = \"bn-visual-media\", i.src = t.props.url, i.controls = !0, i.contentEditable = \"false\", i.draggable = !1, i.width = Math.min(\n      t.props.previewWidth,\n      e.domElement.firstElementChild.clientWidth\n    );\n    const n = pt(\n      t,\n      e,\n      i,\n      () => i.width,\n      (a) => i.width = a\n    ), r = O(t, n.dom);\n    return o.appendChild(r.dom), {\n      dom: o,\n      destroy: n.destroy\n    };\n  } else {\n    const i = ae(t).dom;\n    return {\n      dom: O(t, i).dom\n    };\n  }\n}, ei = (t) => {\n  if (t.tagName === \"VIDEO\")\n    return Ve(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = le(t, \"video\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...Ve(o),\n      caption: i\n    };\n  }\n}, ti = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add video\", {\n      dom: o\n    };\n  }\n  let e;\n  return t.props.showPreview ? (e = document.createElement(\"video\"), e.src = t.props.url, e.width = t.props.previewWidth) : (e = document.createElement(\"a\"), e.href = t.props.url, e.textContent = t.props.name || t.props.url), t.props.caption ? t.props.showPreview ? xe(e, t.props.caption) : de(e, t.props.caption) : {\n    dom: e\n  };\n}, oi = re(Yo, {\n  render: Qo,\n  parse: ei,\n  toExternalHTML: ti\n}), je = (t) => ({ url: t.src || void 0 }), ii = {\n  backgroundColor: k.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  },\n  showPreview: {\n    default: !0\n  }\n}, ni = {\n  type: \"audio\",\n  propSchema: ii,\n  content: \"none\",\n  isFileBlock: !0,\n  isFileBlockPlaceholder: (t) => !t.props.url,\n  fileBlockAcceptMimeTypes: [\"audio/*\"]\n}, ri = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = document.createElement(\"div\");\n    i.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z\"></path></svg>';\n    const n = se(\n      t,\n      e,\n      e.dictionary.file_blocks.audio.add_button_text,\n      i.firstElementChild\n    );\n    return o.appendChild(n.dom), {\n      dom: o,\n      destroy: () => {\n        var r;\n        (r = n == null ? void 0 : n.destroy) == null || r.call(n);\n      }\n    };\n  } else if (t.props.showPreview) {\n    const i = document.createElement(\"audio\");\n    i.className = \"bn-audio\", i.src = t.props.url, i.controls = !0, i.contentEditable = \"false\", i.draggable = !1;\n    const n = O(t, i);\n    return o.appendChild(n.dom), {\n      dom: o\n    };\n  } else {\n    const i = ae(t).dom;\n    return {\n      dom: O(t, i).dom\n    };\n  }\n}, ai = (t) => {\n  if (t.tagName === \"AUDIO\")\n    return je(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = le(t, \"audio\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...je(o),\n      caption: i\n    };\n  }\n}, si = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add audio\", {\n      dom: o\n    };\n  }\n  let e;\n  return t.props.showPreview ? (e = document.createElement(\"audio\"), e.src = t.props.url) : (e = document.createElement(\"a\"), e.href = t.props.url, e.textContent = t.props.name || t.props.url), t.props.caption ? t.props.showPreview ? xe(e, t.props.caption) : de(e, t.props.caption) : {\n    dom: e\n  };\n}, li = re(ni, {\n  render: ri,\n  parse: ai,\n  toExternalHTML: si\n}), Tr = async (t) => {\n  const e = new FormData();\n  return e.append(\"file\", t), (await (await fetch(\"https://tmpfiles.org/api/v1/upload\", {\n    method: \"POST\",\n    body: e\n  })).json()).data.url.replace(\n    \"tmpfiles.org/\",\n    \"tmpfiles.org/dl/\"\n  );\n}, di = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Mark.create({\n  name: \"backgroundColor\",\n  addAttributes() {\n    return {\n      stringValue: {\n        default: void 0,\n        parseHTML: (t) => t.getAttribute(\"data-background-color\"),\n        renderHTML: (t) => ({\n          \"data-background-color\": t.stringValue\n        })\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"span\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : t.hasAttribute(\"data-background-color\") ? {\n          stringValue: t.getAttribute(\"data-background-color\")\n        } : !1\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    return [\"span\", t, 0];\n  }\n}), ci = P(\n  di,\n  \"string\"\n), ui = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Mark.create({\n  name: \"textColor\",\n  addAttributes() {\n    return {\n      stringValue: {\n        default: void 0,\n        parseHTML: (t) => t.getAttribute(\"data-text-color\"),\n        renderHTML: (t) => ({\n          \"data-text-color\": t.stringValue\n        })\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"span\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : t.hasAttribute(\"data-text-color\") ? { stringValue: t.getAttribute(\"data-text-color\") } : !1\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    return [\"span\", t, 0];\n  }\n}), pi = P(ui, \"string\"), L = (t) => {\n  const { contentType: e } = b(\n    t.state.doc,\n    t.state.selection.from\n  );\n  return e.spec.content;\n}, hi = {\n  ...k,\n  level: { default: 1, values: [1, 2, 3] }\n}, mi = G({\n  name: \"heading\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  addAttributes() {\n    return {\n      level: {\n        default: 1,\n        // instead of \"level\" attributes, use \"data-level\"\n        parseHTML: (t) => {\n          const e = t.getAttribute(\"data-level\"), o = parseInt(e);\n          if (isFinite(o))\n            return o;\n        },\n        renderHTML: (t) => ({\n          \"data-level\": t.level.toString()\n        })\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      ...[1, 2, 3].map((t) => new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(`^(#{${t}})\\\\s$`),\n        handler: ({ state: e, chain: o, range: i }) => {\n          L(this.editor) === \"inline*\" && o().BNUpdateBlock(e.selection.from, {\n            type: \"heading\",\n            props: {\n              level: t\n            }\n          }).deleteRange({ from: i.from, to: i.to });\n        }\n      }))\n    ];\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Alt-1\": () => L(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"heading\",\n          props: {\n            level: 1\n          }\n        }\n      ),\n      \"Mod-Alt-2\": () => L(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"heading\",\n          props: {\n            level: 2\n          }\n        }\n      ),\n      \"Mod-Alt-3\": () => L(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"heading\",\n          props: {\n            level: 3\n          }\n        }\n      )\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"div[data-content-type=\" + this.name + \"]\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : {\n          level: t.getAttribute(\"data-level\")\n        }\n      },\n      {\n        tag: \"h1\",\n        attrs: { level: 1 },\n        node: \"heading\"\n      },\n      {\n        tag: \"h2\",\n        attrs: { level: 2 },\n        node: \"heading\"\n      },\n      {\n        tag: \"h3\",\n        attrs: { level: 3 },\n        node: \"heading\"\n      }\n    ];\n  },\n  renderHTML({ node: t, HTMLAttributes: e }) {\n    var o, i;\n    return Y(\n      this.name,\n      `h${t.attrs.level}`,\n      {\n        ...((o = this.options.domAttributes) == null ? void 0 : o.blockContent) || {},\n        ...e\n      },\n      ((i = this.options.domAttributes) == null ? void 0 : i.inlineContent) || {}\n    );\n  }\n}), fi = Q(\n  mi,\n  hi\n), Ee = (t) => {\n  const { node: e, contentType: o } = b(\n    t.state.doc,\n    t.state.selection.from\n  ), i = t.state.selection.anchor === t.state.selection.head;\n  return !(o.name === \"bulletListItem\" || o.name === \"numberedListItem\") || !i ? !1 : t.commands.first(({ state: n, chain: r, commands: a }) => [\n    () => (\n      // Changes list item block to a text block if the content is empty.\n      a.command(() => e.textContent.length === 0 ? a.BNUpdateBlock(n.selection.from, {\n        type: \"paragraph\",\n        props: {}\n      }) : !1)\n    ),\n    () => (\n      // Splits the current block, moving content inside that's after the cursor to a new block of the same type\n      // below.\n      a.command(() => e.textContent.length > 0 ? (r().deleteSelection().BNSplitBlock(n.selection.from, !0).run(), !0) : !1)\n    )\n  ]);\n}, gi = {\n  ...k\n}, bi = G({\n  name: \"bulletListItem\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  addInputRules() {\n    return [\n      // Creates an unordered list when starting with \"-\", \"+\", or \"*\".\n      new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(\"^[-+*]\\\\s$\"),\n        handler: ({ state: t, chain: e, range: o }) => {\n          L(this.editor) === \"inline*\" && e().BNUpdateBlock(t.selection.from, {\n            type: \"bulletListItem\",\n            props: {}\n          }).deleteRange({ from: o.from, to: o.to });\n        }\n      })\n    ];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => Ee(this.editor),\n      \"Mod-Shift-8\": () => L(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"bulletListItem\",\n          props: {}\n        }\n      )\n    };\n  },\n  parseHTML() {\n    return [\n      // Case for regular HTML list structure.\n      {\n        tag: \"div[data-content-type=\" + this.name + \"]\"\n        // TODO: remove if we can't come up with test case that needs this\n      },\n      {\n        tag: \"li\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.tagName === \"UL\" || e.tagName === \"DIV\" && e.parentElement.tagName === \"UL\" ? {} : !1;\n        },\n        node: \"bulletListItem\"\n      },\n      // Case for BlockNote list structure.\n      {\n        tag: \"p\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.getAttribute(\"data-content-type\") === \"bulletListItem\" ? {} : !1;\n        },\n        priority: 300,\n        node: \"bulletListItem\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return Y(\n      this.name,\n      // We use a <p> tag, because for <li> tags we'd need a <ul> element to put\n      // them in to be semantically correct, which we can't have due to the\n      // schema.\n      \"p\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), ki = Q(\n  bi,\n  gi\n), yi = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"numbered-list-indexing\"), _i = () => new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n  key: yi,\n  appendTransaction: (t, e, o) => {\n    const i = o.tr;\n    i.setMeta(\"numberedListIndexing\", !0);\n    let n = !1;\n    return o.doc.descendants((r, a) => {\n      if (r.type.name === \"blockContainer\" && r.firstChild.type.name === \"numberedListItem\") {\n        let s = \"1\";\n        const l = a === 1, d = b(i.doc, a + 1);\n        if (d === void 0)\n          return;\n        if (!l) {\n          const h = b(i.doc, a - 2);\n          if (h === void 0)\n            return;\n          if (!(d.depth !== h.depth)) {\n            const m = h.contentNode;\n            if (h.contentType.name === \"numberedListItem\") {\n              const B = m.attrs.index;\n              s = (parseInt(B) + 1).toString();\n            }\n          }\n        }\n        d.contentNode.attrs.index !== s && (n = !0, i.setNodeMarkup(a + 1, void 0, {\n          index: s\n        }));\n      }\n    }), n ? i : null;\n  }\n}), wi = {\n  ...k\n}, vi = G({\n  name: \"numberedListItem\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  addAttributes() {\n    return {\n      index: {\n        default: null,\n        parseHTML: (t) => t.getAttribute(\"data-index\"),\n        renderHTML: (t) => ({\n          \"data-index\": t.index\n        })\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      // Creates an ordered list when starting with \"1.\".\n      new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(\"^1\\\\.\\\\s$\"),\n        handler: ({ state: t, chain: e, range: o }) => {\n          L(this.editor) === \"inline*\" && e().BNUpdateBlock(t.selection.from, {\n            type: \"numberedListItem\",\n            props: {}\n          }).deleteRange({ from: o.from, to: o.to });\n        }\n      })\n    ];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => Ee(this.editor),\n      \"Mod-Shift-7\": () => L(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"numberedListItem\",\n          props: {}\n        }\n      )\n    };\n  },\n  addProseMirrorPlugins() {\n    return [_i()];\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"div[data-content-type=\" + this.name + \"]\"\n        // TODO: remove if we can't come up with test case that needs this\n      },\n      // Case for regular HTML list structure.\n      // (e.g.: when pasting from other apps)\n      {\n        tag: \"li\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.tagName === \"OL\" || e.tagName === \"DIV\" && e.parentElement.tagName === \"OL\" ? {} : !1;\n        },\n        node: \"numberedListItem\"\n      },\n      // Case for BlockNote list structure.\n      // (e.g.: when pasting from blocknote)\n      {\n        tag: \"p\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.getAttribute(\"data-content-type\") === \"numberedListItem\" ? {} : !1;\n        },\n        priority: 300,\n        node: \"numberedListItem\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return Y(\n      this.name,\n      // We use a <p> tag, because for <li> tags we'd need an <ol> element to\n      // put them in to be semantically correct, which we can't have due to the\n      // schema.\n      \"p\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), xi = Q(\n  vi,\n  wi\n), Ei = {\n  ...k\n}, Ci = G({\n  name: \"paragraph\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => Ee(this.editor),\n      \"Mod-Alt-0\": () => L(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"paragraph\",\n          props: {}\n        }\n      )\n    };\n  },\n  parseHTML() {\n    return [\n      { tag: \"div[data-content-type=\" + this.name + \"]\" },\n      {\n        tag: \"p\",\n        priority: 200,\n        node: \"paragraph\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return Y(\n      this.name,\n      \"p\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), Si = Q(\n  Ci,\n  Ei\n), Mi = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"BlockNoteTableExtension\",\n  addProseMirrorPlugins: () => [\n    (0,prosemirror_tables__WEBPACK_IMPORTED_MODULE_8__.columnResizing)({\n      cellMinWidth: 100\n    }),\n    (0,prosemirror_tables__WEBPACK_IMPORTED_MODULE_8__.tableEditing)()\n  ],\n  addKeyboardShortcuts() {\n    return {\n      // Makes enter create a new line within the cell.\n      Enter: () => this.editor.state.selection.empty && this.editor.state.selection.$head.parent.type.name === \"tableParagraph\" ? (this.editor.commands.setHardBreak(), !0) : !1,\n      // Ensures that backspace won't delete the table if the text cursor is at\n      // the start of a cell and the selection is empty.\n      Backspace: () => {\n        const t = this.editor.state.selection, e = t.empty, o = t.$head.parentOffset === 0, i = t.$head.node().type.name === \"tableParagraph\";\n        return e && o && i;\n      }\n    };\n  },\n  extendNodeSchema(t) {\n    const e = {\n      name: t.name,\n      options: t.options,\n      storage: t.storage\n    };\n    return {\n      tableRole: (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.callOrReturn)(\n        (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getExtensionField)(t, \"tableRole\", e)\n      )\n    };\n  }\n}), Ti = {\n  ...k\n}, Bi = G({\n  name: \"table\",\n  content: \"tableRow+\",\n  group: \"blockContent\",\n  tableRole: \"table\",\n  isolating: !0,\n  parseHTML() {\n    return [{ tag: \"table\" }];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return Y(\n      this.name,\n      \"table\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), Li = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"tableParagraph\",\n  group: \"tableContent\",\n  content: \"inline*\",\n  parseHTML() {\n    return [{ tag: \"p\" }];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    return [\n      \"p\",\n      (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.mergeAttributes)(this.options.HTMLAttributes, t),\n      0\n    ];\n  }\n}), Ii = Q(\n  Bi,\n  Ti,\n  [\n    Mi,\n    Li,\n    _tiptap_extension_table_header__WEBPACK_IMPORTED_MODULE_6__.TableHeader.extend({\n      content: \"tableContent\"\n    }),\n    _tiptap_extension_table_cell__WEBPACK_IMPORTED_MODULE_5__.TableCell.extend({\n      content: \"tableContent\"\n    }),\n    _tiptap_extension_table_row__WEBPACK_IMPORTED_MODULE_7__.TableRow\n  ]\n), ht = {\n  paragraph: Si,\n  heading: fi,\n  bulletListItem: ki,\n  numberedListItem: xi,\n  file: Go,\n  image: Zo,\n  video: oi,\n  audio: li,\n  table: Ii\n}, Ai = lt(ht), mt = {\n  bold: P(_tiptap_extension_bold__WEBPACK_IMPORTED_MODULE_0__[\"default\"], \"boolean\"),\n  italic: P(_tiptap_extension_italic__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"boolean\"),\n  underline: P(_tiptap_extension_underline__WEBPACK_IMPORTED_MODULE_4__[\"default\"], \"boolean\"),\n  strike: P(_tiptap_extension_strike__WEBPACK_IMPORTED_MODULE_3__[\"default\"], \"boolean\"),\n  code: P(_tiptap_extension_code__WEBPACK_IMPORTED_MODULE_1__[\"default\"], \"boolean\"),\n  textColor: pi,\n  backgroundColor: ci\n}, Br = ut(mt), ft = {\n  text: { config: \"text\", implementation: {} },\n  link: { config: \"link\", implementation: {} }\n}, Lr = dt(\n  ft\n);\nfunction S(t, e) {\n  return t in e.schema.blockSchema && e.schema.blockSchema[t] === Ai[t];\n}\nfunction Ir(t, e, o) {\n  return e.type === t && e.type in o.schema.blockSchema && S(e.type, o);\n}\nfunction Ar(t, e) {\n  return t.type in e.schema.blockSchema && e.schema.blockSchema[t.type].isFileBlock || !1;\n}\nfunction Nr(t, e) {\n  return t.type in e.schema.blockSchema && e.schema.blockSchema[t.type].isFileBlock && \"showPreview\" in e.schema.blockSchema[t.type].propSchema || !1;\n}\nfunction Pr(t, e) {\n  const o = e.schema.blockSchema[t.type];\n  return o.isFileBlock && o.isFileBlockPlaceholder(t);\n}\nfunction Ni(t, e, o) {\n  return e in o.schema.blockSchema && t in o.schema.blockSchema[e].propSchema && o.schema.blockSchema[e].propSchema[t] === k[t];\n}\nfunction Hr(t, e, o) {\n  return Ni(t, e.type, o);\n}\nfunction Ce(t, e) {\n  let o, i;\n  if (e.firstChild.descendants((n, r) => o ? !1 : n.type.name !== \"blockContainer\" || n.attrs.id !== t ? !0 : (o = n, i = r + 1, !1)), o === void 0 || i === void 0)\n    throw Error(\"Could not find block in the editor with matching ID.\");\n  return {\n    node: o,\n    posBeforeNode: i\n  };\n}\nfunction Pi(t, e, o = \"before\", i) {\n  const n = i._tiptapEditor, r = typeof e == \"string\" ? e : e.id, a = [];\n  for (const u of t)\n    a.push(\n      N(u, n.schema, i.schema.styleSchema)\n    );\n  const { node: s, posBeforeNode: l } = Ce(r, n.state.doc);\n  if (o === \"before\" && n.view.dispatch(\n    n.state.tr.insert(l, a)\n  ), o === \"after\" && n.view.dispatch(\n    n.state.tr.insert(l + s.nodeSize, a)\n  ), o === \"nested\" && s.childCount < 2) {\n    const u = n.state.schema.nodes.blockGroup.create(\n      {},\n      a\n    );\n    n.view.dispatch(\n      n.state.tr.insert(\n        l + s.firstChild.nodeSize + 1,\n        u\n      )\n    );\n  }\n  const d = [];\n  for (const u of a)\n    d.push(\n      _(\n        u,\n        i.schema.blockSchema,\n        i.schema.inlineContentSchema,\n        i.schema.styleSchema,\n        i.blockCache\n      )\n    );\n  return d;\n}\nfunction Hi(t, e, o) {\n  const i = o._tiptapEditor, n = typeof t == \"string\" ? t : t.id, { posBeforeNode: r } = Ce(n, i.state.doc);\n  i.commands.BNUpdateBlock(r + 1, e);\n  const a = i.state.doc.resolve(r + 1).node();\n  return _(\n    a,\n    o.schema.blockSchema,\n    o.schema.inlineContentSchema,\n    o.schema.styleSchema,\n    o.blockCache\n  );\n}\nfunction gt(t, e, o) {\n  const i = e._tiptapEditor, n = i.state.tr, r = new Set(\n    t.map(\n      (l) => typeof l == \"string\" ? l : l.id\n    )\n  ), a = [];\n  let s = 0;\n  if (i.state.doc.descendants((l, d) => {\n    if (r.size === 0)\n      return !1;\n    if (l.type.name !== \"blockContainer\" || !r.has(l.attrs.id))\n      return !0;\n    a.push(\n      _(\n        l,\n        e.schema.blockSchema,\n        e.schema.inlineContentSchema,\n        e.schema.styleSchema,\n        e.blockCache\n      )\n    ), r.delete(l.attrs.id), s = (o == null ? void 0 : o(l, d, n, s)) || s;\n    const u = n.doc.nodeSize;\n    n.delete(d - s - 1, d - s + l.nodeSize + 1);\n    const p = n.doc.nodeSize;\n    return s += u - p, !1;\n  }), r.size > 0) {\n    const l = [...r].join(`\n`);\n    throw Error(\n      \"Blocks with the following IDs could not be found in the editor: \" + l\n    );\n  }\n  return i.view.dispatch(n), a;\n}\nfunction Ui(t, e) {\n  return gt(t, e);\n}\nfunction Di(t, e, o) {\n  const i = o._tiptapEditor, n = [];\n  for (const l of e)\n    n.push(\n      N(l, i.schema, o.schema.styleSchema)\n    );\n  const r = typeof t[0] == \"string\" ? t[0] : t[0].id, a = gt(\n    t,\n    o,\n    (l, d, u, p) => {\n      if (l.attrs.id === r) {\n        const h = u.doc.nodeSize;\n        u.insert(d, n);\n        const f = u.doc.nodeSize;\n        return p + h - f;\n      }\n      return p;\n    }\n  ), s = [];\n  for (const l of n)\n    s.push(\n      _(\n        l,\n        o.schema.blockSchema,\n        o.schema.inlineContentSchema,\n        o.schema.styleSchema,\n        o.blockCache\n      )\n    );\n  return { insertedBlocks: s, removedBlocks: a };\n}\nfunction Oi(t, e, o, i = { updateSelection: !0 }) {\n  const n = o._tiptapEditor, r = n.state.tr;\n  let { from: a, to: s } = typeof t == \"number\" ? { from: t, to: t } : { from: t.from, to: t.to }, l = !0, d = !0, u = \"\";\n  if (e.forEach((p) => {\n    p.check(), l && p.isText && p.marks.length === 0 ? u += p.text : l = !1, d = d ? p.isBlock : !1;\n  }), a === s && d) {\n    const { parent: p } = r.doc.resolve(a);\n    p.isTextblock && !p.type.spec.code && !p.childCount && (a -= 1, s += 1);\n  }\n  return l ? r.insertText(u, a, s) : r.replaceWith(a, s, e), i.updateSelection && (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.selectionToInsertionEnd)(r, r.steps.length - 1, -1), n.view.dispatch(r), !0;\n}\nfunction Ri() {\n  const t = (e) => {\n    let o = e.children.length;\n    for (let i = 0; i < o; i++) {\n      const n = e.children[i];\n      if (n.type === \"element\" && (t(n), n.tagName === \"u\"))\n        if (n.children.length > 0) {\n          e.children.splice(i, 1, ...n.children);\n          const r = n.children.length - 1;\n          o += r, i += r;\n        } else\n          e.children.splice(i, 1), o--, i--;\n    }\n  };\n  return t;\n}\nfunction Se(t) {\n  return (0,unified__WEBPACK_IMPORTED_MODULE_22__.unified)().use(rehype_parse__WEBPACK_IMPORTED_MODULE_23__[\"default\"], { fragment: !0 }).use(Ri).use(rehype_remark__WEBPACK_IMPORTED_MODULE_25__[\"default\"]).use(remark_gfm__WEBPACK_IMPORTED_MODULE_26__[\"default\"]).use(remark_stringify__WEBPACK_IMPORTED_MODULE_27__[\"default\"]).processSync(t).value;\n}\nfunction Vi(t, e, o) {\n  const n = ne(e, o).exportBlocks(t);\n  return Se(n);\n}\nfunction ji(t) {\n  return Array.prototype.indexOf.call(t.parentElement.childNodes, t);\n}\nfunction zi(t) {\n  return t.nodeType === 3 && !/\\S/.test(t.nodeValue || \"\");\n}\nfunction Fi(t) {\n  t.querySelectorAll(\"li > ul, li > ol\").forEach((e) => {\n    const o = ji(e), i = e.parentElement, n = Array.from(i.childNodes).slice(\n      o + 1\n    );\n    e.remove(), n.forEach((r) => {\n      r.remove();\n    }), i.insertAdjacentElement(\"afterend\", e), n.reverse().forEach((r) => {\n      if (zi(r))\n        return;\n      const a = document.createElement(\"li\");\n      a.append(r), e.insertAdjacentElement(\"afterend\", a);\n    }), i.childNodes.length === 0 && i.remove();\n  });\n}\nfunction Gi(t) {\n  t.querySelectorAll(\"li + ul, li + ol\").forEach((e) => {\n    var r, a;\n    const o = e.previousElementSibling, i = document.createElement(\"div\");\n    o.insertAdjacentElement(\"afterend\", i), i.append(o);\n    const n = document.createElement(\"div\");\n    for (n.setAttribute(\"data-node-type\", \"blockGroup\"), i.append(n); ((r = i.nextElementSibling) == null ? void 0 : r.nodeName) === \"UL\" || ((a = i.nextElementSibling) == null ? void 0 : a.nodeName) === \"OL\"; )\n      n.append(i.nextElementSibling);\n  });\n}\nlet ze = null;\nfunction Wi() {\n  return ze || (ze = document.implementation.createHTMLDocument(\"title\"));\n}\nfunction bt(t) {\n  if (typeof t == \"string\") {\n    const e = Wi().createElement(\"div\");\n    e.innerHTML = t, t = e;\n  }\n  return Fi(t), Gi(t), t;\n}\nasync function kt(t, e, o, i, n) {\n  const r = bt(t), s = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMParser.fromSchema(n).parse(r, {\n    topNode: n.nodes.blockGroup.create()\n  }), l = [];\n  for (let d = 0; d < s.childCount; d++)\n    l.push(\n      _(s.child(d), e, o, i)\n    );\n  return l;\n}\nfunction $i(t, e) {\n  const o = e.value ? e.value + `\n` : \"\", i = {};\n  e.lang && (i[\"data-language\"] = e.lang);\n  let n = {\n    type: \"element\",\n    tagName: \"code\",\n    properties: i,\n    children: [{ type: \"text\", value: o }]\n  };\n  return e.meta && (n.data = { meta: e.meta }), t.patch(e, n), n = t.applyData(e, n), n = {\n    type: \"element\",\n    tagName: \"pre\",\n    properties: {},\n    children: [n]\n  }, t.patch(e, n), n;\n}\nfunction Ki(t, e, o, i, n) {\n  const r = (0,unified__WEBPACK_IMPORTED_MODULE_22__.unified)().use(remark_parse__WEBPACK_IMPORTED_MODULE_28__[\"default\"]).use(remark_gfm__WEBPACK_IMPORTED_MODULE_26__[\"default\"]).use(remark_rehype__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n    handlers: {\n      ...remark_rehype__WEBPACK_IMPORTED_MODULE_30__.handlers,\n      code: $i\n    }\n  }).use(rehype_stringify__WEBPACK_IMPORTED_MODULE_24__[\"default\"]).processSync(t);\n  return kt(\n    r.value,\n    e,\n    o,\n    i,\n    n\n  );\n}\nclass W {\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    c(this, \"callbacks\", {});\n  }\n  on(e, o) {\n    return this.callbacks[e] || (this.callbacks[e] = []), this.callbacks[e].push(o), () => this.off(e, o);\n  }\n  emit(e, ...o) {\n    const i = this.callbacks[e];\n    i && i.forEach((n) => n.apply(this, o));\n  }\n  off(e, o) {\n    const i = this.callbacks[e];\n    i && (o ? this.callbacks[e] = i.filter((n) => n !== o) : delete this.callbacks[e]);\n  }\n  removeAllListeners() {\n    this.callbacks = {};\n  }\n}\nclass qi {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"prevWasEditable\", null);\n    c(this, \"mouseDownHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    // For dragging the whole editor.\n    c(this, \"dragstartHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const o = document.querySelector(\n          `[data-node-type=\"blockContainer\"][data-id=\"${this.state.block.id}\"]`\n        );\n        this.state.referencePos = o.getBoundingClientRect(), this.emitUpdate();\n      }\n    });\n    c(this, \"closeMenu\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    this.pluginKey = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized file panel\");\n      i(this.state);\n    }, o.dom.addEventListener(\"mousedown\", this.mouseDownHandler), o.dom.addEventListener(\"dragstart\", this.dragstartHandler), document.addEventListener(\"scroll\", this.scrollHandler);\n  }\n  update(e, o) {\n    var n, r;\n    const i = this.pluginKey.getState(e.state);\n    if (!((n = this.state) != null && n.show) && i.block) {\n      const a = document.querySelector(\n        `[data-node-type=\"blockContainer\"][data-id=\"${i.block.id}\"]`\n      );\n      this.state = {\n        show: !0,\n        referencePos: a.getBoundingClientRect(),\n        block: i.block\n      }, this.emitUpdate();\n      return;\n    }\n    (!e.state.selection.eq(o.selection) || !e.state.doc.eq(o.doc)) && (r = this.state) != null && r.show && (this.state.show = !1, this.emitUpdate());\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mousedown\", this.mouseDownHandler), this.pmView.dom.removeEventListener(\"dragstart\", this.dragstartHandler), document.removeEventListener(\"scroll\", this.scrollHandler);\n  }\n}\nconst he = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"FilePanelPlugin\");\nclass Xi extends W {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: he,\n      view: (i) => (this.view = new qi(\n        // editor,\n        he,\n        i,\n        (n) => {\n          this.emit(\"update\", n);\n        }\n      ), this.view),\n      props: {\n        handleKeyDown: (i, n) => n.key === \"Escape\" && this.shown ? (this.view.closeMenu(), !0) : !1\n      },\n      state: {\n        init: () => ({\n          block: void 0\n        }),\n        apply: (i) => {\n          var r;\n          return {\n            block: (r = i.getMeta(he)) == null ? void 0 : r.block\n          };\n        }\n      }\n    });\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nclass Zi {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"preventHide\", !1);\n    c(this, \"preventShow\", !1);\n    c(this, \"prevWasEditable\", null);\n    c(this, \"shouldShow\", ({ state: e, from: o, to: i, view: n }) => {\n      const { doc: r, selection: a } = e, { empty: s } = a, l = !r.textBetween(o, i).length && (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.isTextSelection)(e.selection);\n      return !(!n.hasFocus() || s || l);\n    });\n    c(this, \"viewMousedownHandler\", () => {\n      this.preventShow = !0;\n    });\n    c(this, \"viewMouseupHandler\", () => {\n      this.preventShow = !1, setTimeout(() => this.update(this.pmView));\n    });\n    // For dragging the whole editor.\n    c(this, \"dragHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.referencePos = this.getSelectionBoundingBox(), this.emitUpdate());\n    });\n    c(this, \"closeMenu\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\n          \"Attempting to update uninitialized formatting toolbar\"\n        );\n      i(this.state);\n    }, o.dom.addEventListener(\"mousedown\", this.viewMousedownHandler), o.dom.addEventListener(\"mouseup\", this.viewMouseupHandler), o.dom.addEventListener(\"dragstart\", this.dragHandler), o.dom.addEventListener(\"dragover\", this.dragHandler), document.addEventListener(\"scroll\", this.scrollHandler);\n  }\n  update(e, o) {\n    var h, f;\n    const { state: i, composing: n } = e, { doc: r, selection: a } = i, s = o && o.doc.eq(r) && o.selection.eq(a);\n    if ((this.prevWasEditable === null || this.prevWasEditable === this.editor.isEditable) && (n || s))\n      return;\n    this.prevWasEditable = this.editor.isEditable;\n    const { ranges: l } = a, d = Math.min(...l.map((m) => m.$from.pos)), u = Math.max(...l.map((m) => m.$to.pos)), p = (h = this.shouldShow) == null ? void 0 : h.call(this, {\n      view: e,\n      state: i,\n      from: d,\n      to: u\n    });\n    if (this.editor.isEditable && !this.preventShow && (p || this.preventHide)) {\n      this.state = {\n        show: !0,\n        referencePos: this.getSelectionBoundingBox()\n      }, this.emitUpdate();\n      return;\n    }\n    if ((f = this.state) != null && f.show && !this.preventHide && (!p || this.preventShow || !this.editor.isEditable)) {\n      this.state.show = !1, this.emitUpdate();\n      return;\n    }\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mousedown\", this.viewMousedownHandler), this.pmView.dom.removeEventListener(\"mouseup\", this.viewMouseupHandler), this.pmView.dom.removeEventListener(\"dragstart\", this.dragHandler), this.pmView.dom.removeEventListener(\"dragover\", this.dragHandler), document.removeEventListener(\"scroll\", this.scrollHandler);\n  }\n  getSelectionBoundingBox() {\n    const { state: e } = this.pmView, { selection: o } = e, { ranges: i } = o, n = Math.min(...i.map((a) => a.$from.pos)), r = Math.max(...i.map((a) => a.$to.pos));\n    if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.isNodeSelection)(o)) {\n      const a = this.pmView.nodeDOM(n);\n      if (a)\n        return a.getBoundingClientRect();\n    }\n    return (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.posToDOMRect)(this.pmView, n, r);\n  }\n}\nconst Ji = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\n  \"FormattingToolbarPlugin\"\n);\nclass Yi extends W {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: Ji,\n      view: (i) => (this.view = new Zi(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view),\n      props: {\n        handleKeyDown: (i, n) => n.key === \"Escape\" && this.shown ? (this.view.closeMenu(), !0) : !1\n      }\n    });\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nclass Qi {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"menuUpdateTimer\");\n    c(this, \"startMenuUpdateTimer\");\n    c(this, \"stopMenuUpdateTimer\");\n    c(this, \"mouseHoveredLinkMark\");\n    c(this, \"mouseHoveredLinkMarkRange\");\n    c(this, \"keyboardHoveredLinkMark\");\n    c(this, \"keyboardHoveredLinkMarkRange\");\n    c(this, \"linkMark\");\n    c(this, \"linkMarkRange\");\n    c(this, \"mouseOverHandler\", (e) => {\n      if (this.mouseHoveredLinkMark = void 0, this.mouseHoveredLinkMarkRange = void 0, this.stopMenuUpdateTimer(), e.target instanceof HTMLAnchorElement && e.target.nodeName === \"A\") {\n        const o = e.target, i = this.pmView.posAtDOM(o, 0) + 1, n = this.pmView.state.doc.resolve(i), r = n.marks();\n        for (const a of r)\n          if (a.type.name === this.pmView.state.schema.mark(\"link\").type.name) {\n            this.mouseHoveredLinkMark = a, this.mouseHoveredLinkMarkRange = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getMarkRange)(n, a.type, a.attrs) || void 0;\n            break;\n          }\n      }\n      return this.startMenuUpdateTimer(), !1;\n    });\n    c(this, \"clickHandler\", (e) => {\n      var i;\n      const o = this.pmView.dom.parentElement;\n      // Toolbar is open.\n      this.linkMark && // An element is clicked.\n      e && e.target && // The clicked element is not the editor.\n      !(o === e.target || o.contains(e.target)) && (i = this.state) != null && i.show && (this.state.show = !1, this.emitUpdate());\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      this.linkMark !== void 0 && (e = this.state) != null && e.show && (this.state.referencePos = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.posToDOMRect)(\n        this.pmView,\n        this.linkMarkRange.from,\n        this.linkMarkRange.to\n      ), this.emitUpdate());\n    });\n    c(this, \"closeMenu\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized link toolbar\");\n      i(this.state);\n    }, this.startMenuUpdateTimer = () => {\n      this.menuUpdateTimer = setTimeout(() => {\n        this.update();\n      }, 250);\n    }, this.stopMenuUpdateTimer = () => (this.menuUpdateTimer && (clearTimeout(this.menuUpdateTimer), this.menuUpdateTimer = void 0), !1), this.pmView.dom.addEventListener(\"mouseover\", this.mouseOverHandler), document.addEventListener(\"click\", this.clickHandler, !0), document.addEventListener(\"scroll\", this.scrollHandler);\n  }\n  editLink(e, o) {\n    var n;\n    const i = this.pmView.state.tr.insertText(\n      o,\n      this.linkMarkRange.from,\n      this.linkMarkRange.to\n    );\n    i.addMark(\n      this.linkMarkRange.from,\n      this.linkMarkRange.from + o.length,\n      this.pmView.state.schema.mark(\"link\", { href: e })\n    ), this.pmView.dispatch(i), this.pmView.focus(), (n = this.state) != null && n.show && (this.state.show = !1, this.emitUpdate());\n  }\n  deleteLink() {\n    var e;\n    this.pmView.dispatch(\n      this.pmView.state.tr.removeMark(\n        this.linkMarkRange.from,\n        this.linkMarkRange.to,\n        this.linkMark.type\n      ).setMeta(\"preventAutolink\", !0)\n    ), this.pmView.focus(), (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n  }\n  update() {\n    var o;\n    if (!this.pmView.hasFocus())\n      return;\n    const e = this.linkMark;\n    if (this.linkMark = void 0, this.linkMarkRange = void 0, this.keyboardHoveredLinkMark = void 0, this.keyboardHoveredLinkMarkRange = void 0, this.pmView.state.selection.empty) {\n      const i = this.pmView.state.selection.$from.marks();\n      for (const n of i)\n        if (n.type.name === this.pmView.state.schema.mark(\"link\").type.name) {\n          this.keyboardHoveredLinkMark = n, this.keyboardHoveredLinkMarkRange = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getMarkRange)(\n            this.pmView.state.selection.$from,\n            n.type,\n            n.attrs\n          ) || void 0;\n          break;\n        }\n    }\n    if (this.mouseHoveredLinkMark && (this.linkMark = this.mouseHoveredLinkMark, this.linkMarkRange = this.mouseHoveredLinkMarkRange), this.keyboardHoveredLinkMark && (this.linkMark = this.keyboardHoveredLinkMark, this.linkMarkRange = this.keyboardHoveredLinkMarkRange), this.linkMark && this.editor.isEditable) {\n      this.state = {\n        show: !0,\n        referencePos: (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.posToDOMRect)(\n          this.pmView,\n          this.linkMarkRange.from,\n          this.linkMarkRange.to\n        ),\n        url: this.linkMark.attrs.href,\n        text: this.pmView.state.doc.textBetween(\n          this.linkMarkRange.from,\n          this.linkMarkRange.to\n        )\n      }, this.emitUpdate();\n      return;\n    }\n    if ((o = this.state) != null && o.show && e && (!this.linkMark || !this.editor.isEditable)) {\n      this.state.show = !1, this.emitUpdate();\n      return;\n    }\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mouseover\", this.mouseOverHandler), document.removeEventListener(\"scroll\", this.scrollHandler), document.removeEventListener(\"click\", this.clickHandler, !0);\n  }\n}\nconst en = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"LinkToolbarPlugin\");\nclass tn extends W {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    /**\n     * Edit the currently hovered link.\n     */\n    c(this, \"editLink\", (o, i) => {\n      this.view.editLink(o, i);\n    });\n    /**\n     * Delete the currently hovered link.\n     */\n    c(this, \"deleteLink\", () => {\n      this.view.deleteLink();\n    });\n    /**\n     * When hovering on/off links using the mouse cursor, the link toolbar will\n     * open & close with a delay.\n     *\n     * This function starts the delay timer, and should be used for when the mouse\n     * cursor enters the link toolbar.\n     */\n    c(this, \"startHideTimer\", () => {\n      this.view.startMenuUpdateTimer();\n    });\n    /**\n     * When hovering on/off links using the mouse cursor, the link toolbar will\n     * open & close with a delay.\n     *\n     * This function stops the delay timer, and should be used for when the mouse\n     * cursor exits the link toolbar.\n     */\n    c(this, \"stopHideTimer\", () => {\n      this.view.stopMenuUpdateTimer();\n    });\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: en,\n      view: (i) => (this.view = new Qi(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view),\n      props: {\n        handleKeyDown: (i, n) => n.key === \"Escape\" && this.shown ? (this.view.closeMenu(), !0) : !1\n      }\n    });\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n}\nconst on = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findParentNode)((t) => t.type.name === \"blockContainer\");\nclass nn {\n  constructor(e, o) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"pluginState\");\n    c(this, \"handleScroll\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const o = document.querySelector(\n          `[data-decoration-id=\"${this.pluginState.decorationId}\"]`\n        );\n        this.state.referencePos = o.getBoundingClientRect(), this.emitUpdate(this.pluginState.triggerCharacter);\n      }\n    });\n    c(this, \"closeMenu\", () => {\n      this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.view.state.tr.setMeta(\n          U,\n          null\n        )\n      );\n    });\n    c(this, \"clearQuery\", () => {\n      this.pluginState !== void 0 && this.editor._tiptapEditor.chain().focus().deleteRange({\n        from: this.pluginState.queryStartPos - (this.pluginState.fromUserInput ? this.pluginState.triggerCharacter.length : 0),\n        to: this.editor._tiptapEditor.state.selection.from\n      }).run();\n    });\n    this.editor = e, this.pluginState = void 0, this.emitUpdate = (i) => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized suggestions menu\");\n      o(i, this.state);\n    }, document.addEventListener(\"scroll\", this.handleScroll);\n  }\n  update(e, o) {\n    const i = U.getState(o), n = U.getState(\n      e.state\n    ), r = i === void 0 && n !== void 0, a = i !== void 0 && n === void 0;\n    if (!r && !(i !== void 0 && n !== void 0) && !a)\n      return;\n    if (this.pluginState = a ? i : n, a || !this.editor.isEditable) {\n      this.state.show = !1, this.emitUpdate(this.pluginState.triggerCharacter);\n      return;\n    }\n    const l = document.querySelector(\n      `[data-decoration-id=\"${this.pluginState.decorationId}\"]`\n    );\n    this.editor.isEditable && (this.state = {\n      show: !0,\n      referencePos: l.getBoundingClientRect(),\n      query: this.pluginState.query\n    }, this.emitUpdate(this.pluginState.triggerCharacter));\n  }\n  destroy() {\n    document.removeEventListener(\"scroll\", this.handleScroll);\n  }\n}\nconst U = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"SuggestionMenuPlugin\");\nclass rn extends W {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    c(this, \"triggerCharacters\", []);\n    c(this, \"addTriggerCharacter\", (o) => {\n      this.triggerCharacters.push(o);\n    });\n    // TODO: Should this be called automatically when listeners are removed?\n    c(this, \"removeTriggerCharacter\", (o) => {\n      this.triggerCharacters = this.triggerCharacters.filter(\n        (i) => i !== o\n      );\n    });\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    c(this, \"clearQuery\", () => this.view.clearQuery());\n    const i = this.triggerCharacters;\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: U,\n      view: () => (this.view = new nn(\n        o,\n        (n, r) => {\n          this.emit(`update ${n}`, r);\n        }\n      ), this.view),\n      state: {\n        // Initialize the plugin's internal state.\n        init() {\n        },\n        // Apply changes to the plugin state from an editor transaction.\n        apply(n, r, a, s) {\n          if (n.getMeta(\"orderedListIndexing\") !== void 0)\n            return r;\n          const l = n.getMeta(U);\n          if (typeof l == \"object\" && l !== null && r === void 0)\n            return {\n              triggerCharacter: l.triggerCharacter,\n              fromUserInput: l.fromUserInput !== !1,\n              queryStartPos: s.selection.from,\n              query: \"\",\n              decorationId: `id_${Math.floor(Math.random() * 4294967295)}`\n            };\n          if (r === void 0)\n            return r;\n          if (\n            // Highlighting text should hide the menu.\n            s.selection.from !== s.selection.to || // Transactions with plugin metadata should hide the menu.\n            l === null || // Certain mouse events should hide the menu.\n            // TODO: Change to global mousedown listener.\n            n.getMeta(\"focus\") || n.getMeta(\"blur\") || n.getMeta(\"pointer\") || // Moving the caret before the character which triggered the menu should hide it.\n            r.triggerCharacter !== void 0 && s.selection.from < r.queryStartPos\n          )\n            return;\n          const d = { ...r };\n          return d.query = s.doc.textBetween(\n            r.queryStartPos,\n            s.selection.from\n          ), d;\n        }\n      },\n      props: {\n        handleTextInput(n, r, a, s) {\n          const l = this.getState(n.state);\n          return i.includes(s) && l === void 0 ? (n.dispatch(\n            n.state.tr.insertText(s).scrollIntoView().setMeta(U, {\n              triggerCharacter: s\n            })\n          ), !0) : !1;\n        },\n        // Setup decorator on the currently active suggestion.\n        decorations(n) {\n          const r = this.getState(n);\n          if (r === void 0)\n            return null;\n          if (!r.fromUserInput) {\n            const a = on(n.selection);\n            if (a)\n              return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(n.doc, [\n                prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.node(\n                  a.pos,\n                  a.pos + a.node.nodeSize,\n                  {\n                    nodeName: \"span\",\n                    class: \"bn-suggestion-decorator\",\n                    \"data-decoration-id\": r.decorationId\n                  }\n                )\n              ]);\n          }\n          return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(n.doc, [\n            prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.inline(\n              r.queryStartPos - r.triggerCharacter.length,\n              r.queryStartPos,\n              {\n                nodeName: \"span\",\n                class: \"bn-suggestion-decorator\",\n                \"data-decoration-id\": r.decorationId\n              }\n            )\n          ]);\n        }\n      }\n    });\n  }\n  onUpdate(o, i) {\n    return this.triggerCharacters.includes(o) || this.addTriggerCharacter(o), this.on(`update ${o}`, i);\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n}\nfunction Ur(t, e) {\n  t.suggestionMenus.addTriggerCharacter(e);\n}\nclass V extends prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Selection {\n  constructor(o, i) {\n    super(o, i);\n    c(this, \"nodes\");\n    const n = o.node();\n    this.nodes = [], o.doc.nodesBetween(o.pos, i.pos, (r, a, s) => {\n      if (s !== null && s.eq(n))\n        return this.nodes.push(r), !1;\n    });\n  }\n  static create(o, i, n = i) {\n    return new V(o.resolve(i), o.resolve(n));\n  }\n  content() {\n    return new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(this.nodes), 0, 0);\n  }\n  eq(o) {\n    if (!(o instanceof V) || this.nodes.length !== o.nodes.length || this.from !== o.from || this.to !== o.to)\n      return !1;\n    for (let i = 0; i < this.nodes.length; i++)\n      if (!this.nodes[i].eq(o.nodes[i]))\n        return !1;\n    return !0;\n  }\n  map(o, i) {\n    const n = i.mapResult(this.from), r = i.mapResult(this.to);\n    return r.deleted ? prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Selection.near(o.resolve(n.pos)) : n.deleted ? prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Selection.near(o.resolve(r.pos)) : new V(\n      o.resolve(n.pos),\n      o.resolve(r.pos)\n    );\n  }\n  toJSON() {\n    return { type: \"node\", anchor: this.anchor, head: this.head };\n  }\n}\nlet A;\nfunction Me(t, e) {\n  var n;\n  if (!e.dom.isConnected)\n    return;\n  const o = e.posAtCoords(t);\n  if (!o)\n    return;\n  let i = e.domAtPos(o.pos).node;\n  if (i !== e.dom) {\n    for (; i && i.parentNode && i.parentNode !== e.dom && !((n = i.hasAttribute) != null && n.call(i, \"data-id\")); )\n      i = i.parentNode;\n    if (i)\n      return { node: i, id: i.getAttribute(\"data-id\") };\n  }\n}\nfunction an(t, e) {\n  const o = Me(t, e);\n  if (o && o.node.nodeType === 1) {\n    const i = e.docView, n = i.nearestDesc(o.node, !0);\n    return !n || n === i ? null : n.posBefore;\n  }\n  return null;\n}\nfunction sn(t, e) {\n  let o, i;\n  const n = e.resolve(t.from).node().type.spec.group === \"blockContent\", r = e.resolve(t.to).node().type.spec.group === \"blockContent\", a = Math.min(t.$anchor.depth, t.$head.depth);\n  if (n && r) {\n    const s = t.$from.start(a - 1), l = t.$to.end(a - 1);\n    o = e.resolve(s - 1).pos, i = e.resolve(l + 1).pos;\n  } else\n    o = t.from, i = t.to;\n  return { from: o, to: i };\n}\nfunction Fe(t, e, o = e) {\n  e === o && (o += t.state.doc.resolve(e + 1).node().nodeSize);\n  const i = t.domAtPos(e).node.cloneNode(!0), n = t.domAtPos(e).node, r = (u, p) => Array.prototype.indexOf.call(u.children, p), a = r(\n    n,\n    // Expects from position to be just before the first selected block.\n    t.domAtPos(e + 1).node.parentElement\n  ), s = r(\n    n,\n    // Expects to position to be just after the last selected block.\n    t.domAtPos(o - 1).node.parentElement\n  );\n  for (let u = n.childElementCount - 1; u >= 0; u--)\n    (u > s || u < a) && i.removeChild(i.children[u]);\n  yt(), A = i;\n  const d = t.dom.className.split(\" \").filter(\n    (u) => u !== \"ProseMirror\" && u !== \"bn-root\" && u !== \"bn-editor\"\n  ).join(\" \");\n  A.className = A.className + \" bn-drag-preview \" + d, document.body.appendChild(A);\n}\nfunction yt() {\n  A !== void 0 && (document.body.removeChild(A), A = void 0);\n}\nfunction ln(t, e) {\n  if (!t.dataTransfer)\n    return;\n  const o = e.prosemirrorView, i = o.dom.getBoundingClientRect(), n = {\n    left: i.left + i.width / 2,\n    // take middle of editor\n    top: t.clientY\n  }, r = an(n, o);\n  if (r != null) {\n    const a = o.state.selection, s = o.state.doc, { from: l, to: d } = sn(a, s), u = l <= r && r < d, p = a.$anchor.node() !== a.$head.node() || a instanceof V;\n    u && p ? (o.dispatch(\n      o.state.tr.setSelection(V.create(s, l, d))\n    ), Fe(o, l, d)) : (o.dispatch(\n      o.state.tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection.create(o.state.doc, r))\n    ), Fe(o, r));\n    const h = o.state.selection.content(), f = e._tiptapEditor.schema, g = nt(f, e).serializeProseMirrorFragment(\n      h.content\n    ), B = ne(f, e).exportProseMirrorFragment(\n      h.content\n    ), E = Se(B);\n    t.dataTransfer.clearData(), t.dataTransfer.setData(\"blocknote/html\", g), t.dataTransfer.setData(\"text/html\", B), t.dataTransfer.setData(\"text/plain\", E), t.dataTransfer.effectAllowed = \"move\", t.dataTransfer.setDragImage(A, 0, 0), o.dragging = { slice: h, move: !0 };\n  }\n}\nclass dn {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    // When true, the drag handle with be anchored at the same level as root elements\n    // When false, the drag handle with be just to the left of the element\n    // TODO: Is there any case where we want this to be false?\n    c(this, \"horizontalPosAnchoredAtRoot\");\n    c(this, \"horizontalPosAnchor\");\n    c(this, \"hoveredBlock\");\n    // Used to check if currently dragged content comes from this editor instance.\n    c(this, \"isDragging\", !1);\n    c(this, \"menuFrozen\", !1);\n    /**\n     * Sets isDragging when dragging text.\n     */\n    c(this, \"onDragStart\", () => {\n      this.isDragging = !0;\n    });\n    /**\n     * If the event is outside the editor contents,\n     * we dispatch a fake event, so that we can still drop the content\n     * when dragging / dropping to the side of the editor\n     */\n    c(this, \"onDrop\", (e) => {\n      if (this.editor._tiptapEditor.commands.blur(), e.synthetic || !this.isDragging)\n        return;\n      const o = this.pmView.posAtCoords({\n        left: e.clientX,\n        top: e.clientY\n      });\n      if (this.isDragging = !1, !o || o.inside === -1) {\n        const i = new Event(\"drop\", e), n = this.pmView.dom.firstChild.getBoundingClientRect();\n        i.clientX = n.left + n.width / 2, i.clientY = e.clientY, i.dataTransfer = e.dataTransfer, i.preventDefault = () => e.preventDefault(), i.synthetic = !0, this.pmView.dom.dispatchEvent(i);\n      }\n    });\n    /**\n     * If the event is outside the editor contents,\n     * we dispatch a fake event, so that we can still drop the content\n     * when dragging / dropping to the side of the editor\n     */\n    c(this, \"onDragOver\", (e) => {\n      if (e.synthetic || !this.isDragging)\n        return;\n      const o = this.pmView.posAtCoords({\n        left: e.clientX,\n        top: e.clientY\n      });\n      if (!o || o.inside === -1) {\n        const i = new Event(\"dragover\", e), n = this.pmView.dom.firstChild.getBoundingClientRect();\n        i.clientX = n.left + n.width / 2, i.clientY = e.clientY, i.dataTransfer = e.dataTransfer, i.preventDefault = () => e.preventDefault(), i.synthetic = !0, this.pmView.dom.dispatchEvent(i);\n      }\n    });\n    c(this, \"onKeyDown\", (e) => {\n      var o;\n      (o = this.state) != null && o.show && this.editor.isFocused() && (this.state.show = !1, this.emitUpdate(this.state), this.menuFrozen = !1);\n    });\n    c(this, \"onMouseDown\", (e) => {\n      this.state && !this.state.show && (this.state.show = !0, this.emitUpdate(this.state)), this.menuFrozen = !1;\n    });\n    c(this, \"onMouseMove\", (e) => {\n      var d, u, p, h, f;\n      if (this.menuFrozen)\n        return;\n      const o = this.pmView.dom.firstChild.getBoundingClientRect(), i = this.pmView.dom.getBoundingClientRect(), n = e.clientX >= i.left && e.clientX <= i.right && e.clientY >= i.top && e.clientY <= i.bottom, r = this.pmView.dom.parentElement;\n      if (\n        // Cursor is within the editor area\n        n && // An element is hovered\n        e && e.target && // Element is outside the editor\n        !(r === e.target || r.contains(e.target))\n      ) {\n        (d = this.state) != null && d.show && (this.state.show = !1, this.emitUpdate(this.state));\n        return;\n      }\n      this.horizontalPosAnchor = o.x;\n      const a = {\n        left: o.left + o.width / 2,\n        // take middle of editor\n        top: e.clientY\n      }, s = Me(a, this.pmView);\n      if (!s || !this.editor.isEditable) {\n        (u = this.state) != null && u.show && (this.state.show = !1, this.emitUpdate(this.state));\n        return;\n      }\n      if ((p = this.state) != null && p.show && ((h = this.hoveredBlock) != null && h.hasAttribute(\"data-id\")) && ((f = this.hoveredBlock) == null ? void 0 : f.getAttribute(\"data-id\")) === s.id)\n        return;\n      this.hoveredBlock = s.node;\n      const l = s.node.firstChild;\n      if (l && this.editor.isEditable) {\n        const m = l.getBoundingClientRect();\n        this.state = {\n          show: !0,\n          referencePos: new DOMRect(\n            this.horizontalPosAnchoredAtRoot ? this.horizontalPosAnchor : m.x,\n            m.y,\n            m.width,\n            m.height\n          ),\n          block: this.editor.getBlock(\n            this.hoveredBlock.getAttribute(\"data-id\")\n          )\n        }, this.emitUpdate(this.state);\n      }\n    });\n    c(this, \"onScroll\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const i = this.hoveredBlock.firstChild.getBoundingClientRect();\n        this.state.referencePos = new DOMRect(\n          this.horizontalPosAnchoredAtRoot ? this.horizontalPosAnchor : i.x,\n          i.y,\n          i.width,\n          i.height\n        ), this.emitUpdate(this.state);\n      }\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized side menu\");\n      i(this.state);\n    }, this.horizontalPosAnchoredAtRoot = !0, this.horizontalPosAnchor = this.pmView.dom.firstChild.getBoundingClientRect().x, document.body.addEventListener(\"drop\", this.onDrop, !0), document.body.addEventListener(\"dragover\", this.onDragOver), this.pmView.dom.addEventListener(\"dragstart\", this.onDragStart), document.body.addEventListener(\"mousemove\", this.onMouseMove, !0), document.addEventListener(\"scroll\", this.onScroll), document.body.addEventListener(\"mousedown\", this.onMouseDown, !0), document.body.addEventListener(\"keydown\", this.onKeyDown, !0);\n  }\n  destroy() {\n    var e;\n    (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate(this.state)), document.body.removeEventListener(\"mousemove\", this.onMouseMove, !0), document.body.removeEventListener(\"dragover\", this.onDragOver), this.pmView.dom.removeEventListener(\"dragstart\", this.onDragStart), document.body.removeEventListener(\"drop\", this.onDrop, !0), document.removeEventListener(\"scroll\", this.onScroll), document.body.removeEventListener(\"mousedown\", this.onMouseDown, !0), document.body.removeEventListener(\"keydown\", this.onKeyDown, !0);\n  }\n  addBlock() {\n    var l;\n    (l = this.state) != null && l.show && (this.state.show = !1, this.emitUpdate(this.state)), this.menuFrozen = !0;\n    const o = this.hoveredBlock.firstChild.getBoundingClientRect(), i = this.pmView.posAtCoords({\n      left: o.left + o.width / 2,\n      top: o.top + o.height / 2\n    });\n    if (!i)\n      return;\n    const n = b(\n      this.editor._tiptapEditor.state.doc,\n      i.pos\n    );\n    if (n === void 0)\n      return;\n    const { contentNode: r, startPos: a, endPos: s } = n;\n    if (r.type.spec.content !== \"inline*\" || r.textContent.length !== 0) {\n      const d = s + 1, u = d + 2;\n      this.editor._tiptapEditor.chain().BNCreateBlock(d).setTextSelection(u).run();\n    } else\n      this.editor._tiptapEditor.commands.setTextSelection(a + 1);\n    this.pmView.focus(), this.pmView.dispatch(\n      this.pmView.state.tr.scrollIntoView().setMeta(U, {\n        triggerCharacter: \"/\",\n        fromUserInput: !1\n      })\n    );\n  }\n}\nconst cn = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"SideMenuPlugin\");\nclass un extends W {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    /**\n     * If the block is empty, opens the slash menu. If the block has content,\n     * creates a new block below and opens the slash menu in it.\n     */\n    c(this, \"addBlock\", () => this.view.addBlock());\n    /**\n     * Handles drag & drop events for blocks.\n     */\n    c(this, \"blockDragStart\", (o) => {\n      this.view.isDragging = !0, ln(o, this.editor);\n    });\n    /**\n     * Handles drag & drop events for blocks.\n     */\n    c(this, \"blockDragEnd\", () => yt());\n    /**\n     * Freezes the side menu. When frozen, the side menu will stay\n     * attached to the same block regardless of which block is hovered by the\n     * mouse cursor.\n     */\n    c(this, \"freezeMenu\", () => this.view.menuFrozen = !0);\n    /**\n     * Unfreezes the side menu. When frozen, the side menu will stay\n     * attached to the same block regardless of which block is hovered by the\n     * mouse cursor.\n     */\n    c(this, \"unfreezeMenu\", () => this.view.menuFrozen = !1);\n    this.editor = o, this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: cn,\n      view: (i) => (this.view = new dn(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view)\n    });\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nlet v;\nfunction Ge() {\n  v || (v = document.createElement(\"div\"), v.innerHTML = \"_\", v.style.opacity = \"0\", v.style.height = \"1px\", v.style.width = \"1px\", document.body.appendChild(v));\n}\nfunction pn() {\n  v && (document.body.removeChild(v), v = void 0);\n}\nfunction ee(t) {\n  return Array.prototype.indexOf.call(t.parentElement.childNodes, t);\n}\nfunction hn(t) {\n  for (; t && t.nodeName !== \"TD\" && t.nodeName !== \"TH\"; )\n    t = t.classList && t.classList.contains(\"ProseMirror\") ? null : t.parentNode;\n  return t;\n}\nfunction mn(t) {\n  t.forEach((e) => {\n    const o = document.getElementsByClassName(e);\n    for (let i = 0; i < o.length; i++)\n      o[i].style.visibility = \"hidden\";\n  });\n}\nclass fn {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"tableId\");\n    c(this, \"tablePos\");\n    c(this, \"menuFrozen\", !1);\n    c(this, \"prevWasEditable\", null);\n    c(this, \"mouseMoveHandler\", (e) => {\n      var d;\n      if (this.menuFrozen)\n        return;\n      const o = hn(e.target);\n      if (!o || !this.editor.isEditable) {\n        (d = this.state) != null && d.show && (this.state.show = !1, this.emitUpdate());\n        return;\n      }\n      const i = ee(o), n = ee(o.parentElement), r = o.getBoundingClientRect(), a = o.parentElement.parentElement.getBoundingClientRect(), s = Me(r, this.pmView);\n      if (!s)\n        throw new Error(\n          \"Found table cell element, but could not find surrounding blockContent element.\"\n        );\n      if (this.tableId = s.id, this.state !== void 0 && this.state.show && this.tableId === s.id && this.state.rowIndex === n && this.state.colIndex === i)\n        return;\n      let l;\n      return this.editor._tiptapEditor.state.doc.descendants((u, p) => typeof l < \"u\" ? !1 : u.type.name !== \"blockContainer\" || u.attrs.id !== s.id ? !0 : (l = _(\n        u,\n        this.editor.schema.blockSchema,\n        this.editor.schema.inlineContentSchema,\n        this.editor.schema.styleSchema,\n        this.editor.blockCache\n      ), this.tablePos = p + 1, !1)), this.state = {\n        show: !0,\n        referencePosCell: r,\n        referencePosTable: a,\n        block: l,\n        colIndex: i,\n        rowIndex: n,\n        draggingState: void 0\n      }, this.emitUpdate(), !1;\n    });\n    c(this, \"dragOverHandler\", (e) => {\n      var h;\n      if (((h = this.state) == null ? void 0 : h.draggingState) === void 0)\n        return;\n      e.preventDefault(), e.dataTransfer.dropEffect = \"move\", mn([\n        \"column-resize-handle\",\n        \"prosemirror-dropcursor-block\",\n        \"prosemirror-dropcursor-inline\"\n      ]);\n      const o = {\n        left: Math.min(\n          Math.max(e.clientX, this.state.referencePosTable.left + 1),\n          this.state.referencePosTable.right - 1\n        ),\n        top: Math.min(\n          Math.max(e.clientY, this.state.referencePosTable.top + 1),\n          this.state.referencePosTable.bottom - 1\n        )\n      }, i = document.elementsFromPoint(o.left, o.top).filter(\n        (f) => f.tagName === \"TD\" || f.tagName === \"TH\"\n      );\n      if (i.length === 0)\n        throw new Error(\n          \"Could not find table cell element that the mouse cursor is hovering over.\"\n        );\n      const n = i[0];\n      let r = !1;\n      const a = ee(n.parentElement), s = ee(n), l = this.state.draggingState.draggedCellOrientation === \"row\" ? this.state.rowIndex : this.state.colIndex, u = (this.state.draggingState.draggedCellOrientation === \"row\" ? a : s) !== l;\n      (this.state.rowIndex !== a || this.state.colIndex !== s) && (this.state.rowIndex = a, this.state.colIndex = s, this.state.referencePosCell = n.getBoundingClientRect(), r = !0);\n      const p = this.state.draggingState.draggedCellOrientation === \"row\" ? o.top : o.left;\n      this.state.draggingState.mousePos !== p && (this.state.draggingState.mousePos = p, r = !0), r && this.emitUpdate(), u && this.pmView.dispatch(\n        this.pmView.state.tr.setMeta(X, !0)\n      );\n    });\n    c(this, \"dropHandler\", (e) => {\n      if (this.state === void 0 || this.state.draggingState === void 0)\n        return;\n      e.preventDefault();\n      const o = this.state.block.content.rows;\n      if (this.state.draggingState.draggedCellOrientation === \"row\") {\n        const i = o[this.state.draggingState.originalIndex];\n        o.splice(this.state.draggingState.originalIndex, 1), o.splice(this.state.rowIndex, 0, i);\n      } else {\n        const i = o.map(\n          (n) => n.cells[this.state.draggingState.originalIndex]\n        );\n        o.forEach((n, r) => {\n          n.cells.splice(this.state.draggingState.originalIndex, 1), n.cells.splice(this.state.colIndex, 0, i[r]);\n        });\n      }\n      this.editor.updateBlock(this.state.block, {\n        type: \"table\",\n        content: {\n          type: \"tableContent\",\n          rows: o\n        }\n      });\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const o = document.querySelector(\n          `[data-node-type=\"blockContainer\"][data-id=\"${this.tableId}\"] table`\n        ), i = o.querySelector(\n          `tr:nth-child(${this.state.rowIndex + 1}) > td:nth-child(${this.state.colIndex + 1})`\n        );\n        this.state.referencePosTable = o.getBoundingClientRect(), this.state.referencePosCell = i.getBoundingClientRect(), this.emitUpdate();\n      }\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized image toolbar\");\n      i(this.state);\n    }, o.dom.addEventListener(\"mousemove\", this.mouseMoveHandler), document.addEventListener(\"dragover\", this.dragOverHandler), document.addEventListener(\"drop\", this.dropHandler), document.addEventListener(\"scroll\", this.scrollHandler);\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mousemove\", this.mouseMoveHandler), document.removeEventListener(\"dragover\", this.dragOverHandler), document.removeEventListener(\"drop\", this.dropHandler), document.removeEventListener(\"scroll\", this.scrollHandler);\n  }\n}\nconst X = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"TableHandlesPlugin\");\nclass gn extends W {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    /**\n     * Callback that should be set on the `dragStart` event for whichever element\n     * is used as the column drag handle.\n     */\n    c(this, \"colDragStart\", (o) => {\n      if (this.view.state === void 0)\n        throw new Error(\n          \"Attempted to drag table column, but no table block was hovered prior.\"\n        );\n      this.view.state.draggingState = {\n        draggedCellOrientation: \"col\",\n        originalIndex: this.view.state.colIndex,\n        mousePos: o.clientX\n      }, this.view.emitUpdate(), this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.state.tr.setMeta(X, {\n          draggedCellOrientation: this.view.state.draggingState.draggedCellOrientation,\n          originalIndex: this.view.state.colIndex,\n          newIndex: this.view.state.colIndex,\n          tablePos: this.view.tablePos\n        })\n      ), Ge(), o.dataTransfer.setDragImage(v, 0, 0), o.dataTransfer.effectAllowed = \"move\";\n    });\n    /**\n     * Callback that should be set on the `dragStart` event for whichever element\n     * is used as the row drag handle.\n     */\n    c(this, \"rowDragStart\", (o) => {\n      if (this.view.state === void 0)\n        throw new Error(\n          \"Attempted to drag table row, but no table block was hovered prior.\"\n        );\n      this.view.state.draggingState = {\n        draggedCellOrientation: \"row\",\n        originalIndex: this.view.state.rowIndex,\n        mousePos: o.clientY\n      }, this.view.emitUpdate(), this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.state.tr.setMeta(X, {\n          draggedCellOrientation: this.view.state.draggingState.draggedCellOrientation,\n          originalIndex: this.view.state.rowIndex,\n          newIndex: this.view.state.rowIndex,\n          tablePos: this.view.tablePos\n        })\n      ), Ge(), o.dataTransfer.setDragImage(v, 0, 0), o.dataTransfer.effectAllowed = \"copyMove\";\n    });\n    /**\n     * Callback that should be set on the `dragEnd` event for both the element\n     * used as the row drag handle, and the one used as the column drag handle.\n     */\n    c(this, \"dragEnd\", () => {\n      if (this.view.state === void 0)\n        throw new Error(\n          \"Attempted to drag table row, but no table block was hovered prior.\"\n        );\n      this.view.state.draggingState = void 0, this.view.emitUpdate(), this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.state.tr.setMeta(X, null)\n      ), pn();\n    });\n    /**\n     * Freezes the drag handles. When frozen, they will stay attached to the same\n     * cell regardless of which cell is hovered by the mouse cursor.\n     */\n    c(this, \"freezeHandles\", () => {\n      this.view.menuFrozen = !0;\n    });\n    /**\n     * Unfreezes the drag handles. When frozen, they will stay attached to the\n     * same cell regardless of which cell is hovered by the mouse cursor.\n     */\n    c(this, \"unfreezeHandles\", () => {\n      this.view.menuFrozen = !1;\n    });\n    this.editor = o, this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: X,\n      view: (i) => (this.view = new fn(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view),\n      // We use decorations to render the drop cursor when dragging a table row\n      // or column. The decorations are updated in the `dragOverHandler` method.\n      props: {\n        decorations: (i) => {\n          if (this.view === void 0 || this.view.state === void 0 || this.view.state.draggingState === void 0 || this.view.tablePos === void 0)\n            return;\n          const n = this.view.state.draggingState.draggedCellOrientation === \"row\" ? this.view.state.rowIndex : this.view.state.colIndex, r = [];\n          if (n === this.view.state.draggingState.originalIndex)\n            return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(i.doc, r);\n          const a = i.doc.resolve(this.view.tablePos + 1), s = a.node();\n          if (this.view.state.draggingState.draggedCellOrientation === \"row\") {\n            const l = i.doc.resolve(\n              a.posAtIndex(n) + 1\n            ), d = l.node();\n            for (let u = 0; u < d.childCount; u++) {\n              const p = i.doc.resolve(\n                l.posAtIndex(u) + 1\n              ), h = p.node(), f = p.pos + (n > this.view.state.draggingState.originalIndex ? h.nodeSize - 2 : 0);\n              r.push(\n                // The widget is a small bar which spans the width of the cell.\n                prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.widget(f, () => {\n                  const m = document.createElement(\"div\");\n                  return m.className = \"bn-table-drop-cursor\", m.style.left = \"0\", m.style.right = \"0\", n > this.view.state.draggingState.originalIndex ? m.style.bottom = \"-2px\" : m.style.top = \"-3px\", m.style.height = \"4px\", m;\n                })\n              );\n            }\n          } else\n            for (let l = 0; l < s.childCount; l++) {\n              const d = i.doc.resolve(\n                a.posAtIndex(l) + 1\n              ), u = i.doc.resolve(\n                d.posAtIndex(n) + 1\n              ), p = u.node(), h = u.pos + (n > this.view.state.draggingState.originalIndex ? p.nodeSize - 2 : 0);\n              r.push(\n                // The widget is a small bar which spans the height of the cell.\n                prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.widget(h, () => {\n                  const f = document.createElement(\"div\");\n                  return f.className = \"bn-table-drop-cursor\", f.style.top = \"0\", f.style.bottom = \"0\", n > this.view.state.draggingState.originalIndex ? f.style.right = \"-2px\" : f.style.left = \"-3px\", f.style.width = \"4px\", f;\n                })\n              );\n            }\n          return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(i.doc, r);\n        }\n      }\n    });\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nfunction We(t, e) {\n  const o = t.state.selection.content().content, n = nt(\n    t.state.schema,\n    e\n  ).serializeProseMirrorFragment(o), a = ne(\n    t.state.schema,\n    e\n  ).exportProseMirrorFragment(o), s = Se(a);\n  return { internalHTML: n, externalHTML: a, plainText: s };\n}\nconst bn = (t) => _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"copyToClipboard\",\n  addProseMirrorPlugins() {\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        props: {\n          handleDOMEvents: {\n            copy(e, o) {\n              o.preventDefault(), o.clipboardData.clearData(), \"node\" in e.state.selection && e.state.selection.node.type.spec.group === \"blockContent\" && e.dispatch(\n                e.state.tr.setSelection(\n                  new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection(\n                    e.state.doc.resolve(e.state.selection.from - 1)\n                  )\n                )\n              );\n              const { internalHTML: i, externalHTML: n, plainText: r } = We(e, t);\n              return o.clipboardData.setData(\"blocknote/html\", i), o.clipboardData.setData(\"text/html\", n), o.clipboardData.setData(\"text/plain\", r), !0;\n            },\n            // This is for the use-case in which only a block without content\n            // is selected, e.g. an image block, and dragged (not using the\n            // drag handle).\n            dragstart(e, o) {\n              if (!(\"node\" in e.state.selection) || e.state.selection.node.type.spec.group !== \"blockContent\")\n                return;\n              e.dispatch(\n                e.state.tr.setSelection(\n                  new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection(\n                    e.state.doc.resolve(e.state.selection.from - 1)\n                  )\n                )\n              ), o.preventDefault(), o.dataTransfer.clearData();\n              const { internalHTML: i, externalHTML: n, plainText: r } = We(e, t);\n              return o.dataTransfer.setData(\"blocknote/html\", i), o.dataTransfer.setData(\"text/html\", n), o.dataTransfer.setData(\"text/plain\", r), !0;\n            }\n          }\n        }\n      })\n    ];\n  }\n}), kn = [\n  \"blocknote/html\",\n  \"text/html\",\n  \"text/plain\"\n], yn = (t) => _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"pasteFromClipboard\",\n  addProseMirrorPlugins() {\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        props: {\n          handleDOMEvents: {\n            paste(e, o) {\n              o.preventDefault();\n              let i = null;\n              for (const n of kn)\n                if (o.clipboardData.types.includes(n)) {\n                  i = n;\n                  break;\n                }\n              if (i !== null) {\n                let n = o.clipboardData.getData(i);\n                i === \"text/html\" && (n = bt(\n                  n.trim()\n                ).innerHTML), t._tiptapEditor.view.pasteHTML(n);\n              }\n              return !0;\n            }\n          }\n        }\n      })\n    ];\n  }\n}), _n = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"blockBackgroundColor\",\n  addGlobalAttributes() {\n    return [\n      {\n        types: [\"blockContainer\"],\n        attributes: {\n          backgroundColor: {\n            default: k.backgroundColor.default,\n            parseHTML: (t) => t.hasAttribute(\"data-background-color\") ? t.getAttribute(\"data-background-color\") : k.backgroundColor.default,\n            renderHTML: (t) => t.backgroundColor !== k.backgroundColor.default && {\n              \"data-background-color\": t.backgroundColor\n            }\n          }\n        }\n      }\n    ];\n  }\n}), wn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"textAlignment\",\n  addGlobalAttributes() {\n    return [\n      {\n        // Attribute is applied to block content instead of container so that child blocks don't inherit the text\n        // alignment styling.\n        types: [\"paragraph\", \"heading\", \"bulletListItem\", \"numberedListItem\"],\n        attributes: {\n          textAlignment: {\n            default: \"left\",\n            parseHTML: (t) => t.getAttribute(\"data-text-alignment\"),\n            renderHTML: (t) => t.textAlignment !== \"left\" && {\n              \"data-text-alignment\": t.textAlignment\n            }\n          }\n        }\n      }\n    ];\n  }\n}), vn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"blockTextColor\",\n  addGlobalAttributes() {\n    return [\n      {\n        types: [\"blockContainer\"],\n        attributes: {\n          textColor: {\n            default: k.textColor.default,\n            parseHTML: (t) => t.hasAttribute(\"data-text-color\") ? t.getAttribute(\"data-text-color\") : k.textColor.default,\n            renderHTML: (t) => t.textColor !== k.textColor.default && {\n              \"data-text-color\": t.textColor\n            }\n          }\n        }\n      }\n    ];\n  }\n}), xn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"trailingNode\",\n  addProseMirrorPlugins() {\n    const t = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(this.name);\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        key: t,\n        appendTransaction: (e, o, i) => {\n          const { doc: n, tr: r, schema: a } = i, s = t.getState(i), l = n.content.size - 2, d = a.nodes.blockContainer, u = a.nodes.paragraph;\n          if (s)\n            return r.insert(\n              l,\n              d.create(void 0, u.create())\n            );\n        },\n        state: {\n          init: (e, o) => {\n          },\n          apply: (e, o) => {\n            if (!e.docChanged)\n              return o;\n            let i = e.doc.lastChild;\n            if (!i || i.type.name !== \"blockGroup\")\n              throw new Error(\"Expected blockGroup\");\n            if (i = i.lastChild, !i || i.type.name !== \"blockContainer\")\n              throw new Error(\"Expected blockContainer\");\n            const n = i.firstChild;\n            if (!n)\n              throw new Error(\"Expected blockContent\");\n            return i.nodeSize > 4 || n.type.spec.content !== \"inline*\";\n          }\n        }\n      })\n    ];\n  }\n}), En = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"non-editable-block\"), Cn = () => new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n  key: En,\n  props: {\n    handleKeyDown: (t, e) => {\n      if (\"node\" in t.state.selection) {\n        if (e.ctrlKey || e.metaKey)\n          return !1;\n        if (e.key.length === 1)\n          return e.preventDefault(), !0;\n        if (e.key === \"Enter\") {\n          const o = t.state.tr;\n          return t.dispatch(\n            o.insert(\n              t.state.tr.selection.$to.after(),\n              t.state.schema.nodes.paragraph.create()\n            ).setSelection(\n              new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(\n                o.doc.resolve(t.state.tr.selection.$to.after() + 1)\n              )\n            )\n          ), !0;\n        }\n      }\n      return !1;\n    }\n  }\n}), $e = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"previous-blocks\"), Sn = {\n  // Numbered List Items\n  index: \"index\",\n  // Headings\n  level: \"level\",\n  // All Blocks\n  type: \"type\",\n  depth: \"depth\",\n  \"depth-change\": \"depth-change\"\n}, Mn = () => {\n  let t;\n  return new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n    key: $e,\n    view(e) {\n      return {\n        update: async (o, i) => {\n          var n;\n          ((n = this.key) == null ? void 0 : n.getState(o.state).updatedBlocks.size) > 0 && (t = setTimeout(() => {\n            o.dispatch(\n              o.state.tr.setMeta($e, { clearUpdate: !0 })\n            );\n          }, 0));\n        },\n        destroy: () => {\n          t && clearTimeout(t);\n        }\n      };\n    },\n    state: {\n      init() {\n        return {\n          // Block attributes, by block ID, from just before the previous transaction.\n          prevTransactionOldBlockAttrs: {},\n          // Block attributes, by block ID, from just before the current transaction.\n          currentTransactionOldBlockAttrs: {},\n          // Set of IDs of blocks whose attributes changed from the current transaction.\n          updatedBlocks: /* @__PURE__ */ new Set()\n        };\n      },\n      apply(e, o, i, n) {\n        if (o.currentTransactionOldBlockAttrs = {}, o.updatedBlocks.clear(), !e.docChanged || i.doc.eq(n.doc))\n          return o;\n        const r = {}, a = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findChildren)(i.doc, (d) => d.attrs.id), s = new Map(\n          a.map((d) => [d.node.attrs.id, d])\n        ), l = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findChildren)(n.doc, (d) => d.attrs.id);\n        for (const d of l) {\n          const u = s.get(d.node.attrs.id), p = u == null ? void 0 : u.node.firstChild, h = d.node.firstChild;\n          if (u && p && h) {\n            const f = {\n              index: h.attrs.index,\n              level: h.attrs.level,\n              type: h.type.name,\n              depth: n.doc.resolve(d.pos).depth\n            };\n            let m = {\n              index: p.attrs.index,\n              level: p.attrs.level,\n              type: p.type.name,\n              depth: i.doc.resolve(u.pos).depth\n            };\n            r[d.node.attrs.id] = m, e.getMeta(\"numberedListIndexing\") && (d.node.attrs.id in o.prevTransactionOldBlockAttrs && (m = o.prevTransactionOldBlockAttrs[d.node.attrs.id]), f.type === \"numberedListItem\" && (m.index = f.index)), o.currentTransactionOldBlockAttrs[d.node.attrs.id] = m, JSON.stringify(m) !== JSON.stringify(f) && (m[\"depth-change\"] = m.depth - f.depth, o.updatedBlocks.add(d.node.attrs.id));\n          }\n        }\n        return o.prevTransactionOldBlockAttrs = r, o;\n      }\n    },\n    props: {\n      decorations(e) {\n        const o = this.getState(e);\n        if (o.updatedBlocks.size === 0)\n          return;\n        const i = [];\n        return e.doc.descendants((n, r) => {\n          if (!n.attrs.id || !o.updatedBlocks.has(n.attrs.id))\n            return;\n          const a = o.currentTransactionOldBlockAttrs[n.attrs.id], s = {};\n          for (const [d, u] of Object.entries(a))\n            s[\"data-prev-\" + Sn[d]] = u || \"none\";\n          const l = prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.node(r, r + n.nodeSize, {\n            ...s\n          });\n          i.push(l);\n        }), prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(e.doc, i);\n      }\n    }\n  });\n}, Tn = {\n  blockColor: \"data-block-color\",\n  blockStyle: \"data-block-style\",\n  id: \"data-id\",\n  depth: \"data-depth\",\n  depthChange: \"data-depth-change\"\n}, Bn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"blockContainer\",\n  group: \"blockContainer\",\n  // A block always contains content, and optionally a blockGroup which contains nested blocks\n  content: \"blockContent blockGroup?\",\n  // Ensures content-specific keyboard handlers trigger first.\n  priority: 50,\n  defining: !0,\n  parseHTML() {\n    return [\n      {\n        tag: \"div\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = {};\n          for (const [o, i] of Object.entries(Tn))\n            t.getAttribute(i) && (e[o] = t.getAttribute(i));\n          return t.getAttribute(\"data-node-type\") === \"blockContainer\" ? e : !1;\n        }\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var n;\n    const e = document.createElement(\"div\");\n    e.className = \"bn-block-outer\", e.setAttribute(\"data-node-type\", \"blockOuter\");\n    for (const [r, a] of Object.entries(t))\n      r !== \"class\" && e.setAttribute(r, a);\n    const o = {\n      ...((n = this.options.domAttributes) == null ? void 0 : n.block) || {},\n      ...t\n    }, i = document.createElement(\"div\");\n    i.className = D(\"bn-block\", o.class), i.setAttribute(\"data-node-type\", this.name);\n    for (const [r, a] of Object.entries(o))\n      r !== \"class\" && i.setAttribute(r, a);\n    return e.appendChild(i), {\n      dom: e,\n      contentDOM: i\n    };\n  },\n  addCommands() {\n    return {\n      // Creates a new text block at a given position.\n      BNCreateBlock: (t) => ({ state: e, dispatch: o }) => {\n        const i = e.schema.nodes.blockContainer.createAndFill();\n        return o && e.tr.insert(t, i).scrollIntoView(), !0;\n      },\n      // Deletes a block at a given position.\n      BNDeleteBlock: (t) => ({ state: e, dispatch: o }) => {\n        const i = b(e.doc, t);\n        if (i === void 0)\n          return !1;\n        const { startPos: n, endPos: r } = i;\n        return o && e.tr.deleteRange(n, r), !0;\n      },\n      // Updates a block at a given position.\n      BNUpdateBlock: (t, e) => ({ state: o, dispatch: i }) => {\n        const n = b(o.doc, t);\n        if (n === void 0)\n          return !1;\n        const { startPos: r, endPos: a, node: s, contentNode: l } = n;\n        if (i) {\n          if (e.children !== void 0) {\n            const h = [];\n            for (const f of e.children)\n              h.push(\n                N(\n                  f,\n                  o.schema,\n                  this.options.editor.schema.styleSchema\n                )\n              );\n            s.childCount === 2 ? o.tr.replace(\n              r + l.nodeSize + 1,\n              a - 1,\n              new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(h), 0, 0)\n            ) : o.tr.insert(\n              r + l.nodeSize,\n              o.schema.nodes.blockGroup.create({}, h)\n            );\n          }\n          const d = l.type.name, u = e.type || d;\n          let p = \"keep\";\n          if (e.content)\n            if (typeof e.content == \"string\")\n              p = [o.schema.text(e.content)];\n            else if (Array.isArray(e.content))\n              p = ie(\n                e.content,\n                o.schema,\n                this.options.editor.schema.styleSchema\n              );\n            else if (e.content.type === \"tableContent\")\n              p = Qe(\n                e.content,\n                o.schema,\n                this.options.editor.schema.styleSchema\n              );\n            else\n              throw new I(e.content.type);\n          else {\n            const h = o.schema.nodes[d].spec.content, f = o.schema.nodes[u].spec.content;\n            h === \"\" || f !== h && (p = []);\n          }\n          p === \"keep\" ? o.tr.setNodeMarkup(\n            r,\n            e.type === void 0 ? void 0 : o.schema.nodes[e.type],\n            {\n              ...l.attrs,\n              ...e.props\n            }\n          ) : o.tr.replaceWith(\n            r,\n            a,\n            o.schema.nodes[u].create(\n              {\n                ...l.attrs,\n                ...e.props\n              },\n              p\n            )\n          ).setSelection(\n            o.schema.nodes[u].spec.content === \"\" ? new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection(o.tr.doc.resolve(r)) : o.schema.nodes[u].spec.content === \"inline*\" ? new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(o.tr.doc.resolve(r)) : (\n              // Need to offset the position as we have to get through the\n              // `tableRow` and `tableCell` nodes to get to the\n              // `tableParagraph` node we want to set the selection in.\n              new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(o.tr.doc.resolve(r + 4))\n            )\n          ), o.tr.setNodeMarkup(r - 1, void 0, {\n            ...s.attrs,\n            ...e.props\n          });\n        }\n        return !0;\n      },\n      // Appends the text contents of a block to the nearest previous block, given a position between them. Children of\n      // the merged block are moved out of it first, rather than also being merged.\n      //\n      // In the example below, the position passed into the function is between Block1 and Block2.\n      //\n      // Block1\n      //    Block2\n      // Block3\n      //    Block4\n      //        Block5\n      //\n      // Becomes:\n      //\n      // Block1\n      //    Block2Block3\n      // Block4\n      //     Block5\n      BNMergeBlocks: (t) => ({ state: e, dispatch: o }) => {\n        const i = e.doc.resolve(t + 1).node().type.name === \"blockContainer\", n = e.doc.resolve(t - 1).node().type.name === \"blockContainer\";\n        if (!i || !n)\n          return !1;\n        const r = b(\n          e.doc,\n          t + 1\n        ), { node: a, contentNode: s, startPos: l, endPos: d, depth: u } = r;\n        if (a.childCount === 2) {\n          const f = e.doc.resolve(\n            l + s.nodeSize + 1\n          ), m = e.doc.resolve(d - 1), g = f.blockRange(m);\n          o && e.tr.lift(g, u - 1);\n        }\n        let p = t - 1, h = b(e.doc, p);\n        for (; h.numChildBlocks > 0; )\n          if (p--, h = b(e.doc, p), h === void 0)\n            return !1;\n        return o && (o(\n          e.tr.deleteRange(l, l + s.nodeSize).replace(\n            p - 1,\n            l,\n            new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(s.content, 0, 0)\n          ).scrollIntoView()\n        ), e.tr.setSelection(\n          new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(e.doc.resolve(p - 1))\n        )), !0;\n      },\n      // Splits a block at a given position. Content after the position is moved to a new block below, at the same\n      // nesting level.\n      BNSplitBlock: (t, e) => ({ state: o, dispatch: i }) => {\n        const n = b(o.doc, t);\n        if (n === void 0)\n          return !1;\n        const { contentNode: r, contentType: a, startPos: s, endPos: l, depth: d } = n, u = o.doc.cut(s + 1, t), p = o.doc.cut(t, l - 1), h = o.schema.nodes.blockContainer.createAndFill(), f = l + 1, m = f + 2;\n        return i && (o.tr.insert(f, h), o.tr.replace(\n          m,\n          m + 1,\n          p.content.size > 0 ? new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(\n            prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(p),\n            d + 2,\n            d + 2\n          ) : void 0\n        ), e && o.tr.setBlockType(\n          m,\n          m,\n          o.schema.node(a).type,\n          r.attrs\n        ), o.tr.setSelection(\n          new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(o.doc.resolve(m))\n        ), o.tr.replace(\n          s + 1,\n          l - 1,\n          u.content.size > 0 ? new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(\n            prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(u),\n            d + 2,\n            d + 2\n          ) : void 0\n        ), o.tr.scrollIntoView()), !0;\n      }\n    };\n  },\n  addProseMirrorPlugins() {\n    return [Mn(), Cn()];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Backspace: () => this.editor.commands.first(({ commands: i }) => [\n        // Deletes the selection if it's not empty.\n        () => i.deleteSelection(),\n        // Undoes an input rule if one was triggered in the last editor state change.\n        () => i.undoInputRule(),\n        // Reverts block content type to a paragraph if the selection is at the start of the block.\n        () => i.command(({ state: n }) => {\n          const { contentType: r, startPos: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.from === a + 1, l = r.name === \"paragraph\";\n          return s && !l ? i.BNUpdateBlock(n.selection.from, {\n            type: \"paragraph\",\n            props: {}\n          }) : !1;\n        }),\n        // Removes a level of nesting if the block is indented if the selection is at the start of the block.\n        () => i.command(({ state: n }) => {\n          const { startPos: r } = b(\n            n.doc,\n            n.selection.from\n          );\n          return n.selection.from === r + 1 ? i.liftListItem(\"blockContainer\") : !1;\n        }),\n        // Merges block with the previous one if it isn't indented, isn't the first block in the doc, and the selection\n        // is at the start of the block.\n        () => i.command(({ state: n }) => {\n          const { depth: r, startPos: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.from === a + 1, l = n.selection.empty, d = a === 2, u = a - 1;\n          return !d && s && l && r === 2 ? i.BNMergeBlocks(u) : !1;\n        })\n      ]),\n      Delete: () => this.editor.commands.first(({ commands: i }) => [\n        // Deletes the selection if it's not empty.\n        () => i.deleteSelection(),\n        // Merges block with the next one (at the same nesting level or lower),\n        // if one exists, the block has no children, and the selection is at the\n        // end of the block.\n        () => i.command(({ state: n }) => {\n          const { node: r, depth: a, endPos: s } = b(\n            n.doc,\n            n.selection.from\n          ), l = s === n.doc.nodeSize - 4, d = n.selection.from === s - 1, u = n.selection.empty, p = r.childCount === 2;\n          if (!l && d && u && !p) {\n            let h = a, f = s + 2, m = n.doc.resolve(f).depth;\n            for (; m < h; )\n              h = m, f += 2, m = n.doc.resolve(f).depth;\n            return i.BNMergeBlocks(f - 1);\n          }\n          return !1;\n        })\n      ]),\n      Enter: () => this.editor.commands.first(({ commands: i }) => [\n        // Removes a level of nesting if the block is empty & indented, while the selection is also empty & at the start\n        // of the block.\n        () => i.command(({ state: n }) => {\n          const { node: r, depth: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.$anchor.parentOffset === 0, l = n.selection.anchor === n.selection.head, d = r.textContent.length === 0, u = a > 2;\n          return s && l && d && u ? i.liftListItem(\"blockContainer\") : !1;\n        }),\n        // Creates a new block and moves the selection to it if the current one is empty, while the selection is also\n        // empty & at the start of the block.\n        () => i.command(({ state: n, chain: r }) => {\n          const { node: a, endPos: s } = b(\n            n.doc,\n            n.selection.from\n          ), l = n.selection.$anchor.parentOffset === 0, d = n.selection.anchor === n.selection.head, u = a.textContent.length === 0;\n          if (l && d && u) {\n            const p = s + 1, h = p + 2;\n            return r().BNCreateBlock(p).setTextSelection(h).run(), !0;\n          }\n          return !1;\n        }),\n        // Splits the current block, moving content inside that's after the cursor to a new text block below. Also\n        // deletes the selection beforehand, if it's not empty.\n        () => i.command(({ state: n, chain: r }) => {\n          const { node: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.$anchor.parentOffset === 0;\n          return a.textContent.length === 0 ? !1 : (r().deleteSelection().BNSplitBlock(n.selection.from, s).run(), !0);\n        })\n      ]),\n      // Always returning true for tab key presses ensures they're not captured by the browser. Otherwise, they blur the\n      // editor since the browser will try to use tab for keyboard navigation.\n      Tab: () => {\n        var i, n, r;\n        return (i = this.options.editor.formattingToolbar) != null && i.shown || (n = this.options.editor.linkToolbar) != null && n.shown || (r = this.options.editor.filePanel) != null && r.shown ? !1 : (this.editor.commands.sinkListItem(\"blockContainer\"), !0);\n      },\n      \"Shift-Tab\": () => {\n        var i, n, r;\n        return (i = this.options.editor.formattingToolbar) != null && i.shown || (n = this.options.editor.linkToolbar) != null && n.shown || (r = this.options.editor.filePanel) != null && r.shown ? !1 : (this.editor.commands.liftListItem(\"blockContainer\"), !0);\n      }\n    };\n  }\n}), Ln = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"blockGroup\",\n  group: \"blockGroup\",\n  content: \"blockContainer+\",\n  parseHTML() {\n    return [\n      {\n        tag: \"div\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : t.getAttribute(\"data-node-type\") === \"blockGroup\" ? null : !1\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var i;\n    const e = {\n      ...((i = this.options.domAttributes) == null ? void 0 : i.blockGroup) || {},\n      ...t\n    }, o = document.createElement(\"div\");\n    o.className = D(\n      \"bn-block-group\",\n      e.class\n    ), o.setAttribute(\"data-node-type\", \"blockGroup\");\n    for (const [n, r] of Object.entries(e))\n      n !== \"class\" && o.setAttribute(n, r);\n    return {\n      dom: o,\n      contentDOM: o\n    };\n  }\n}), In = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"doc\",\n  topNode: !0,\n  content: \"blockGroup\"\n}), An = (t) => {\n  var o;\n  const e = [\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.ClipboardTextSerializer,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.Commands,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.Editable,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.FocusEvents,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.Tabindex,\n    // DevTools,\n    _tiptap_extension_gapcursor__WEBPACK_IMPORTED_MODULE_12__.Gapcursor,\n    // DropCursor,\n    J.configure({\n      types: [\"blockContainer\"]\n    }),\n    _tiptap_extension_hard_break__WEBPACK_IMPORTED_MODULE_13__.HardBreak.extend({ priority: 10 }),\n    // Comments,\n    // basics:\n    _tiptap_extension_text__WEBPACK_IMPORTED_MODULE_16__.Text,\n    // marks:\n    _tiptap_extension_link__WEBPACK_IMPORTED_MODULE_15__.Link,\n    ...Object.values(t.styleSpecs).map((i) => i.implementation.mark),\n    vn,\n    _n,\n    wn,\n    // make sure escape blurs editor, so that we can tab to other elements in the host page (accessibility)\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n      name: \"OverrideEscape\",\n      addKeyboardShortcuts() {\n        return {\n          Escape: () => t.editor.suggestionMenus.shown ? !1 : this.editor.commands.blur()\n        };\n      }\n    }),\n    // nodes\n    In,\n    Bn.configure({\n      editor: t.editor,\n      domAttributes: t.domAttributes\n    }),\n    Ln.configure({\n      domAttributes: t.domAttributes\n    }),\n    ...Object.values(t.inlineContentSpecs).filter((i) => i.config !== \"link\" && i.config !== \"text\").map((i) => i.implementation.node.configure({\n      editor: t.editor\n    })),\n    ...Object.values(t.blockSpecs).flatMap((i) => [\n      // dependent nodes (e.g.: tablecell / row)\n      ...(i.implementation.requiredExtensions || []).map(\n        (n) => n.configure({\n          editor: t.editor,\n          domAttributes: t.domAttributes\n        })\n      ),\n      // the actual node itself\n      i.implementation.node.configure({\n        editor: t.editor,\n        domAttributes: t.domAttributes\n      })\n    ]),\n    bn(t.editor),\n    yn(t.editor),\n    _tiptap_extension_dropcursor__WEBPACK_IMPORTED_MODULE_11__.Dropcursor.configure({ width: 5, color: \"#ddeeff\" }),\n    // This needs to be at the bottom of this list, because Key events (such as enter, when selecting a /command),\n    // should be handled before Enter handlers in other components like splitListItem\n    ...t.trailingBlock === void 0 || t.trailingBlock ? [xn] : []\n  ];\n  if (t.collaboration) {\n    if (e.push(\n      _tiptap_extension_collaboration__WEBPACK_IMPORTED_MODULE_9__[\"default\"].configure({\n        fragment: t.collaboration.fragment\n      })\n    ), (o = t.collaboration.provider) != null && o.awareness) {\n      const i = (n) => {\n        const r = document.createElement(\"span\");\n        r.classList.add(\"collaboration-cursor__caret\"), r.setAttribute(\"style\", `border-color: ${n.color}`);\n        const a = document.createElement(\"span\");\n        a.classList.add(\"collaboration-cursor__label\"), a.setAttribute(\"style\", `background-color: ${n.color}`), a.insertBefore(document.createTextNode(n.name), null);\n        const s = document.createTextNode(\"⁠\"), l = document.createTextNode(\"⁠\");\n        return r.insertBefore(s, null), r.insertBefore(a, null), r.insertBefore(l, null), r;\n      };\n      e.push(\n        _tiptap_extension_collaboration_cursor__WEBPACK_IMPORTED_MODULE_10__[\"default\"].configure({\n          user: t.collaboration.user,\n          render: t.collaboration.renderCursor || i,\n          provider: t.collaboration.provider\n        })\n      );\n    }\n  } else\n    e.push(_tiptap_extension_history__WEBPACK_IMPORTED_MODULE_14__.History);\n  return e;\n};\nfunction Nn(t, e) {\n  const o = [];\n  return t.forEach((i, n, r) => {\n    r !== e && o.push(i);\n  }), prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(o);\n}\nfunction Pn(t, e) {\n  let o = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(t.content);\n  for (let i = 0; i < o.childCount; i++)\n    if (o.child(i).type.spec.group === \"blockContent\") {\n      const n = [o.child(i)];\n      if (i + 1 < o.childCount && o.child(i + 1).type.spec.group === \"blockGroup\") {\n        const a = o.child(i + 1).child(0).child(0);\n        (a.type.name === \"bulletListItem\" || a.type.name === \"numberedListItem\") && (n.push(o.child(i + 1)), o = Nn(o, i + 1));\n      }\n      const r = e.state.schema.nodes.blockContainer.create(\n        void 0,\n        n\n      );\n      o = o.replaceChild(i, r);\n    }\n  return new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(o, t.openStart, t.openEnd);\n}\nfunction me(t) {\n  return t && Object.fromEntries(\n    Object.entries(t).filter(([, e]) => e !== void 0)\n  );\n}\nclass Te {\n  constructor(e) {\n    c(this, \"blockSpecs\");\n    c(this, \"inlineContentSpecs\");\n    c(this, \"styleSpecs\");\n    c(this, \"blockSchema\");\n    c(this, \"inlineContentSchema\");\n    c(this, \"styleSchema\");\n    // Helper so that you can use typeof schema.BlockNoteEditor\n    c(this, \"BlockNoteEditor\", \"only for types\");\n    c(this, \"Block\", \"only for types\");\n    c(this, \"PartialBlock\", \"only for types\");\n    this.blockSpecs = me(e == null ? void 0 : e.blockSpecs) || ht, this.inlineContentSpecs = me(e == null ? void 0 : e.inlineContentSpecs) || ft, this.styleSpecs = me(e == null ? void 0 : e.styleSpecs) || mt, this.blockSchema = lt(this.blockSpecs), this.inlineContentSchema = dt(\n      this.inlineContentSpecs\n    ), this.styleSchema = ut(this.styleSpecs);\n  }\n  static create(e) {\n    return new Te(e);\n  }\n}\nclass Hn extends _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Editor {\n  constructor(o, i) {\n    super({ ...o, content: void 0 });\n    c(this, \"_state\");\n    /**\n     * Mounts / unmounts the editor to a dom element\n     *\n     * @param element DOM element to mount to, ur null / undefined to destroy\n     */\n    c(this, \"mount\", (o) => {\n      o ? (this.options.element = o, this.createViewAlternative()) : this.destroy();\n    });\n    const n = this.schema;\n    let r;\n    const a = n.nodes.doc.createAndFill;\n    n.nodes.doc.createAndFill = (...l) => {\n      if (r)\n        return r;\n      const d = a.apply(n.nodes.doc, l), u = JSON.parse(JSON.stringify(d.toJSON()));\n      return u.content[0].content[0].attrs.id = \"initialBlockId\", r = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Node.fromJSON(n, u), r;\n    };\n    let s;\n    try {\n      const l = o == null ? void 0 : o.content.map(\n        (d) => N(d, this.schema, i).toJSON()\n      );\n      s = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.createDocument)(\n        {\n          type: \"doc\",\n          content: [\n            {\n              type: \"blockGroup\",\n              content: l\n            }\n          ]\n        },\n        this.schema,\n        this.options.parseOptions\n      );\n    } catch (l) {\n      throw console.error(\n        \"Error creating document from blocks passed as `initialContent`. Caused by exception: \",\n        l\n      ), new Error(\n        \"Error creating document from blocks passed as `initialContent`:\\n\" + +JSON.stringify(o.content)\n      );\n    }\n    this._state = prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.EditorState.create({\n      doc: s,\n      schema: this.schema\n      // selection: selection || undefined,\n    });\n  }\n  get state() {\n    return this.view && (this._state = this.view.state), this._state;\n  }\n  createView() {\n  }\n  /**\n   * Replace the default `createView` method with a custom one - which we call on mount\n   */\n  createViewAlternative() {\n    queueMicrotask(() => {\n      this.view = new prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.EditorView(\n        { mount: this.options.element },\n        // use mount option so that we reuse the existing element instead of creating a new one\n        {\n          ...this.options.editorProps,\n          // @ts-ignore\n          dispatchTransaction: this.dispatchTransaction.bind(this),\n          state: this.state\n        }\n      );\n      const o = this.state.reconfigure({\n        plugins: this.extensionManager.plugins\n      });\n      this.view.updateState(o), this.createNodeViews();\n    });\n  }\n}\nconst Un = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"blocknote-placeholder\"), Dn = (t, e) => new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n  key: Un,\n  view: () => {\n    const o = document.createElement(\"style\");\n    document.head.appendChild(o);\n    const i = o.sheet, n = (a = \"\") => `.bn-block-content${a} .bn-inline-content:has(> .ProseMirror-trailingBreak):before`, r = (a, s = !0) => {\n      const l = s ? \"[data-is-empty-and-focused]\" : \"\";\n      if (a === \"default\")\n        return n(l);\n      const d = `[data-content-type=\"${a}\"]`;\n      return n(l + d);\n    };\n    for (const [a, s] of Object.entries(e)) {\n      const l = a === \"default\";\n      i.insertRule(\n        `${r(a, l)}{ content: ${JSON.stringify(\n          s\n        )}; }`\n      ), l || i.insertRule(\n        `${r(a, !0)}{ content: ${JSON.stringify(\n          s\n        )}; }`\n      );\n    }\n    return {\n      destroy: () => {\n        document.head.removeChild(o);\n      }\n    };\n  },\n  props: {\n    // TODO: maybe also add placeholder for empty document (\"e.g.: start writing..\")\n    decorations: (o) => {\n      const { doc: i, selection: n } = o;\n      if (!t.isEditable || !n.empty)\n        return;\n      const r = n.$anchor, a = r.parent;\n      if (a.content.size > 0)\n        return null;\n      const s = r.before(), l = prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.node(s, s + a.nodeSize, {\n        \"data-is-empty-and-focused\": \"true\"\n      });\n      return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(i, [l]);\n    }\n  }\n});\nconst On = {\n  enableInputRules: !0,\n  enablePasteRules: !0,\n  enableCoreExtensions: !1\n};\nclass _t {\n  constructor(e) {\n    c(this, \"_tiptapEditor\");\n    c(this, \"blockCache\", /* @__PURE__ */ new WeakMap());\n    c(this, \"dictionary\");\n    c(this, \"schema\");\n    c(this, \"blockImplementations\");\n    c(this, \"inlineContentImplementations\");\n    c(this, \"styleImplementations\");\n    c(this, \"formattingToolbar\");\n    c(this, \"linkToolbar\");\n    c(this, \"sideMenu\");\n    c(this, \"suggestionMenus\");\n    c(this, \"filePanel\");\n    c(this, \"tableHandles\");\n    c(this, \"uploadFile\");\n    var l, d, u, p, h, f, m, g;\n    this.options = e;\n    const o = e;\n    if (o.onEditorContentChange)\n      throw new Error(\n        \"onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)\"\n      );\n    if (o.onTextCursorPositionChange)\n      throw new Error(\n        \"onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)\"\n      );\n    if (o.onEditorReady)\n      throw new Error(\n        \"onEditorReady is deprecated. Editor is immediately ready for use after creation.\"\n      );\n    if (o.editable)\n      throw new Error(\n        \"editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false\"\n      );\n    this.dictionary = e.dictionary || Ze;\n    const i = {\n      defaultStyles: !0,\n      schema: e.schema || Te.create(),\n      ...e,\n      placeholders: {\n        ...this.dictionary.placeholders,\n        ...e.placeholders\n      }\n    };\n    this.schema = i.schema, this.blockImplementations = i.schema.blockSpecs, this.inlineContentImplementations = i.schema.inlineContentSpecs, this.styleImplementations = i.schema.styleSpecs, this.formattingToolbar = new Yi(this), this.linkToolbar = new tn(this), this.sideMenu = new un(this), this.suggestionMenus = new rn(this), this.filePanel = new Xi(this), S(\"table\", this) && (this.tableHandles = new gn(this));\n    const n = An({\n      editor: this,\n      domAttributes: i.domAttributes || {},\n      blockSchema: this.schema.blockSchema,\n      blockSpecs: this.schema.blockSpecs,\n      styleSpecs: this.schema.styleSpecs,\n      inlineContentSpecs: this.schema.inlineContentSpecs,\n      collaboration: i.collaboration,\n      trailingBlock: i.trailingBlock\n    }), r = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n      name: \"BlockNoteUIExtension\",\n      addProseMirrorPlugins: () => [\n        this.formattingToolbar.plugin,\n        this.linkToolbar.plugin,\n        this.sideMenu.plugin,\n        this.suggestionMenus.plugin,\n        ...this.filePanel ? [this.filePanel.plugin] : [],\n        ...this.tableHandles ? [this.tableHandles.plugin] : [],\n        Dn(this, i.placeholders)\n      ]\n    });\n    n.push(r), this.uploadFile = i.uploadFile, i.collaboration && i.initialContent && console.warn(\n      \"When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider\"\n    );\n    const a = i.initialContent || (e.collaboration ? [\n      {\n        type: \"paragraph\",\n        id: \"initialBlockId\"\n      }\n    ] : [\n      {\n        type: \"paragraph\",\n        id: J.options.generateID()\n      }\n    ]);\n    if (!Array.isArray(a) || a.length === 0)\n      throw new Error(\n        \"initialContent must be a non-empty array of blocks, received: \" + a\n      );\n    const s = {\n      ...On,\n      ...i._tiptapOptions,\n      content: a,\n      extensions: i.enableBlockNoteExtensions === !1 ? ((l = i._tiptapOptions) == null ? void 0 : l.extensions) || [] : [...((d = i._tiptapOptions) == null ? void 0 : d.extensions) || [], ...n],\n      editorProps: {\n        ...(u = i._tiptapOptions) == null ? void 0 : u.editorProps,\n        attributes: {\n          ...(h = (p = i._tiptapOptions) == null ? void 0 : p.editorProps) == null ? void 0 : h.attributes,\n          ...(f = i.domAttributes) == null ? void 0 : f.editor,\n          class: D(\n            \"bn-editor\",\n            i.defaultStyles ? \"bn-default-styles\" : \"\",\n            ((g = (m = i.domAttributes) == null ? void 0 : m.editor) == null ? void 0 : g.class) || \"\"\n          )\n        },\n        transformPasted: Pn\n      }\n    };\n    this._tiptapEditor = new Hn(\n      s,\n      this.schema.styleSchema\n    );\n  }\n  static create(e = {}) {\n    return new _t(e);\n  }\n  /**\n   * Mount the editor to a parent DOM element. Call mount(undefined) to clean up\n   *\n   * @warning Not needed for React, use BlockNoteView to take care of this\n   */\n  mount(e) {\n    this._tiptapEditor.mount(e);\n  }\n  get prosemirrorView() {\n    return this._tiptapEditor.view;\n  }\n  get domElement() {\n    return this._tiptapEditor.view.dom;\n  }\n  isFocused() {\n    return this._tiptapEditor.view.hasFocus();\n  }\n  focus() {\n    this._tiptapEditor.view.focus();\n  }\n  /**\n   * @deprecated, use `editor.document` instead\n   */\n  get topLevelBlocks() {\n    return this.topLevelBlocks;\n  }\n  /**\n   * Gets a snapshot of all top-level (non-nested) blocks in the editor.\n   * @returns A snapshot of all top-level (non-nested) blocks in the editor.\n   */\n  get document() {\n    const e = [];\n    return this._tiptapEditor.state.doc.firstChild.descendants((o) => (e.push(\n      _(\n        o,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      )\n    ), !1)), e;\n  }\n  /**\n   * Gets a snapshot of an existing block from the editor.\n   * @param blockIdentifier The identifier of an existing block that should be retrieved.\n   * @returns The block that matches the identifier, or `undefined` if no matching block was found.\n   */\n  getBlock(e) {\n    const o = typeof e == \"string\" ? e : e.id;\n    let i;\n    return this._tiptapEditor.state.doc.firstChild.descendants((n) => typeof i < \"u\" ? !1 : n.type.name !== \"blockContainer\" || n.attrs.id !== o ? !0 : (i = _(\n      n,\n      this.schema.blockSchema,\n      this.schema.inlineContentSchema,\n      this.schema.styleSchema,\n      this.blockCache\n    ), !1)), i;\n  }\n  /**\n   * Traverses all blocks in the editor depth-first, and executes a callback for each.\n   * @param callback The callback to execute for each block. Returning `false` stops the traversal.\n   * @param reverse Whether the blocks should be traversed in reverse order.\n   */\n  forEachBlock(e, o = !1) {\n    const i = this.document.slice();\n    o && i.reverse();\n    function n(r) {\n      for (const a of r) {\n        if (!e(a))\n          return !1;\n        const s = o ? a.children.slice().reverse() : a.children;\n        if (!n(s))\n          return !1;\n      }\n      return !0;\n    }\n    n(i);\n  }\n  /**\n   * Executes a callback whenever the editor's contents change.\n   * @param callback The callback to execute.\n   */\n  onEditorContentChange(e) {\n    this._tiptapEditor.on(\"update\", e);\n  }\n  /**\n   * Executes a callback whenever the editor's selection changes.\n   * @param callback The callback to execute.\n   */\n  onEditorSelectionChange(e) {\n    this._tiptapEditor.on(\"selectionUpdate\", e);\n  }\n  /**\n   * Gets a snapshot of the current text cursor position.\n   * @returns A snapshot of the current text cursor position.\n   */\n  getTextCursorPosition() {\n    const { node: e, depth: o, startPos: i, endPos: n } = b(\n      this._tiptapEditor.state.doc,\n      this._tiptapEditor.state.selection.from\n    ), r = this._tiptapEditor.state.doc.resolve(n).index(o - 1), a = this._tiptapEditor.state.doc.resolve(n + 1).node().childCount;\n    let s;\n    r > 0 && (s = this._tiptapEditor.state.doc.resolve(i - 2).node());\n    let l;\n    return r < a - 1 && (l = this._tiptapEditor.state.doc.resolve(n + 2).node()), {\n      block: _(\n        e,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      ),\n      prevBlock: s === void 0 ? void 0 : _(\n        s,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      ),\n      nextBlock: l === void 0 ? void 0 : _(\n        l,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      )\n    };\n  }\n  /**\n   * Sets the text cursor position to the start or end of an existing block. Throws an error if the target block could\n   * not be found.\n   * @param targetBlock The identifier of an existing block that the text cursor should be moved to.\n   * @param placement Whether the text cursor should be placed at the start or end of the block.\n   */\n  setTextCursorPosition(e, o = \"start\") {\n    const i = typeof e == \"string\" ? e : e.id, { posBeforeNode: n } = Ce(i, this._tiptapEditor.state.doc), { startPos: r, contentNode: a } = b(\n      this._tiptapEditor.state.doc,\n      n + 2\n    ), s = this.schema.blockSchema[a.type.name].content;\n    if (s === \"none\") {\n      this._tiptapEditor.commands.setNodeSelection(r);\n      return;\n    }\n    if (s === \"inline\")\n      o === \"start\" ? this._tiptapEditor.commands.setTextSelection(r + 1) : this._tiptapEditor.commands.setTextSelection(\n        r + a.nodeSize - 1\n      );\n    else if (s === \"table\")\n      o === \"start\" ? this._tiptapEditor.commands.setTextSelection(r + 4) : this._tiptapEditor.commands.setTextSelection(\n        r + a.nodeSize - 4\n      );\n    else\n      throw new I(s);\n  }\n  /**\n   * Gets a snapshot of the current selection.\n   */\n  getSelection() {\n    if (this._tiptapEditor.state.selection.from === this._tiptapEditor.state.selection.to || \"node\" in this._tiptapEditor.state.selection)\n      return;\n    const e = [];\n    return this._tiptapEditor.state.doc.descendants((o, i) => o.type.spec.group !== \"blockContent\" || i + o.nodeSize < this._tiptapEditor.state.selection.from || i > this._tiptapEditor.state.selection.to ? !0 : (e.push(\n      _(\n        this._tiptapEditor.state.doc.resolve(i).node(),\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      )\n    ), !1)), { blocks: e };\n  }\n  /**\n   * Checks if the editor is currently editable, or if it's locked.\n   * @returns True if the editor is editable, false otherwise.\n   */\n  get isEditable() {\n    return this._tiptapEditor.isEditable;\n  }\n  /**\n   * Makes the editor editable or locks it, depending on the argument passed.\n   * @param editable True to make the editor editable, or false to lock it.\n   */\n  set isEditable(e) {\n    this._tiptapEditor.options.editable !== e && this._tiptapEditor.setEditable(e);\n  }\n  /**\n   * Inserts new blocks into the editor. If a block's `id` is undefined, BlockNote generates one automatically. Throws an\n   * error if the reference block could not be found.\n   * @param blocksToInsert An array of partial blocks that should be inserted.\n   * @param referenceBlock An identifier for an existing block, at which the new blocks should be inserted.\n   * @param placement Whether the blocks should be inserted just before, just after, or nested inside the\n   * `referenceBlock`. Inserts the blocks at the start of the existing block's children if \"nested\" is used.\n   */\n  insertBlocks(e, o, i = \"before\") {\n    return Pi(e, o, i, this);\n  }\n  /**\n   * Updates an existing block in the editor. Since updatedBlock is a PartialBlock object, some fields might not be\n   * defined. These undefined fields are kept as-is from the existing block. Throws an error if the block to update could\n   * not be found.\n   * @param blockToUpdate The block that should be updated.\n   * @param update A partial block which defines how the existing block should be changed.\n   */\n  updateBlock(e, o) {\n    return Hi(e, o, this);\n  }\n  /**\n   * Removes existing blocks from the editor. Throws an error if any of the blocks could not be found.\n   * @param blocksToRemove An array of identifiers for existing blocks that should be removed.\n   */\n  removeBlocks(e) {\n    return Ui(e, this);\n  }\n  /**\n   * Replaces existing blocks in the editor with new blocks. If the blocks that should be removed are not adjacent or\n   * are at different nesting levels, `blocksToInsert` will be inserted at the position of the first block in\n   * `blocksToRemove`. Throws an error if any of the blocks to remove could not be found.\n   * @param blocksToRemove An array of blocks that should be replaced.\n   * @param blocksToInsert An array of partial blocks to replace the old ones with.\n   */\n  replaceBlocks(e, o) {\n    return Di(e, o, this);\n  }\n  /**\n   * Insert a piece of content at the current cursor position.\n   *\n   * @param content can be a string, or array of partial inline content elements\n   */\n  insertInlineContent(e) {\n    const o = ie(\n      e,\n      this._tiptapEditor.schema,\n      this.schema.styleSchema\n    );\n    Oi(\n      {\n        from: this._tiptapEditor.state.selection.from,\n        to: this._tiptapEditor.state.selection.to\n      },\n      o,\n      this\n    );\n  }\n  /**\n   * Gets the active text styles at the text cursor position or at the end of the current selection if it's active.\n   */\n  getActiveStyles() {\n    const e = {}, o = this._tiptapEditor.state.selection.$to.marks();\n    for (const i of o) {\n      const n = this.schema.styleSchema[i.type.name];\n      if (!n) {\n        console.warn(\"mark not found in styleschema\", i.type.name);\n        continue;\n      }\n      n.propSchema === \"boolean\" ? e[n.type] = !0 : e[n.type] = i.attrs.stringValue;\n    }\n    return e;\n  }\n  /**\n   * Adds styles to the currently selected content.\n   * @param styles The styles to add.\n   */\n  addStyles(e) {\n    for (const [o, i] of Object.entries(e)) {\n      const n = this.schema.styleSchema[o];\n      if (!n)\n        throw new Error(`style ${o} not found in styleSchema`);\n      if (n.propSchema === \"boolean\")\n        this._tiptapEditor.commands.setMark(o);\n      else if (n.propSchema === \"string\")\n        this._tiptapEditor.commands.setMark(o, { stringValue: i });\n      else\n        throw new I(n.propSchema);\n    }\n  }\n  /**\n   * Removes styles from the currently selected content.\n   * @param styles The styles to remove.\n   */\n  removeStyles(e) {\n    for (const o of Object.keys(e))\n      this._tiptapEditor.commands.unsetMark(o);\n  }\n  /**\n   * Toggles styles on the currently selected content.\n   * @param styles The styles to toggle.\n   */\n  toggleStyles(e) {\n    for (const [o, i] of Object.entries(e)) {\n      const n = this.schema.styleSchema[o];\n      if (!n)\n        throw new Error(`style ${o} not found in styleSchema`);\n      if (n.propSchema === \"boolean\")\n        this._tiptapEditor.commands.toggleMark(o);\n      else if (n.propSchema === \"string\")\n        this._tiptapEditor.commands.toggleMark(o, { stringValue: i });\n      else\n        throw new I(n.propSchema);\n    }\n  }\n  /**\n   * Gets the currently selected text.\n   */\n  getSelectedText() {\n    return this._tiptapEditor.state.doc.textBetween(\n      this._tiptapEditor.state.selection.from,\n      this._tiptapEditor.state.selection.to\n    );\n  }\n  /**\n   * Gets the URL of the last link in the current selection, or `undefined` if there are no links in the selection.\n   */\n  getSelectedLinkUrl() {\n    return this._tiptapEditor.getAttributes(\"link\").href;\n  }\n  /**\n   * Creates a new link to replace the selected content.\n   * @param url The link URL.\n   * @param text The text to display the link with.\n   */\n  createLink(e, o) {\n    if (e === \"\")\n      return;\n    const { from: i, to: n } = this._tiptapEditor.state.selection;\n    o || (o = this._tiptapEditor.state.doc.textBetween(i, n));\n    const r = this._tiptapEditor.schema.mark(\"link\", { href: e });\n    this._tiptapEditor.view.dispatch(\n      this._tiptapEditor.view.state.tr.insertText(o, i, n).addMark(i, i + o.length, r)\n    );\n  }\n  /**\n   * Checks if the block containing the text cursor can be nested.\n   */\n  canNestBlock() {\n    const { startPos: e, depth: o } = b(\n      this._tiptapEditor.state.doc,\n      this._tiptapEditor.state.selection.from\n    );\n    return this._tiptapEditor.state.doc.resolve(e).index(o - 1) > 0;\n  }\n  /**\n   * Nests the block containing the text cursor into the block above it.\n   */\n  nestBlock() {\n    this._tiptapEditor.commands.sinkListItem(\"blockContainer\");\n  }\n  /**\n   * Checks if the block containing the text cursor is nested.\n   */\n  canUnnestBlock() {\n    const { depth: e } = b(\n      this._tiptapEditor.state.doc,\n      this._tiptapEditor.state.selection.from\n    );\n    return e > 2;\n  }\n  /**\n   * Lifts the block containing the text cursor out of its parent.\n   */\n  unnestBlock() {\n    this._tiptapEditor.commands.liftListItem(\"blockContainer\");\n  }\n  // TODO: Fix when implementing HTML/Markdown import & export\n  /**\n   * Serializes blocks into an HTML string. To better conform to HTML standards, children of blocks which aren't list\n   * items are un-nested in the output HTML.\n   * @param blocks An array of blocks that should be serialized into HTML.\n   * @returns The blocks, serialized as an HTML string.\n   */\n  async blocksToHTMLLossy(e = this.document) {\n    return ne(\n      this._tiptapEditor.schema,\n      this\n    ).exportBlocks(e);\n  }\n  /**\n   * Parses blocks from an HTML string. Tries to create `Block` objects out of any HTML block-level elements, and\n   * `InlineNode` objects from any HTML inline elements, though not all element types are recognized. If BlockNote\n   * doesn't recognize an HTML element's tag, it will parse it as a paragraph or plain text.\n   * @param html The HTML string to parse blocks from.\n   * @returns The blocks parsed from the HTML string.\n   */\n  async tryParseHTMLToBlocks(e) {\n    return kt(\n      e,\n      this.schema.blockSchema,\n      this.schema.inlineContentSchema,\n      this.schema.styleSchema,\n      this._tiptapEditor.schema\n    );\n  }\n  /**\n   * Serializes blocks into a Markdown string. The output is simplified as Markdown does not support all features of\n   * BlockNote - children of blocks which aren't list items are un-nested and certain styles are removed.\n   * @param blocks An array of blocks that should be serialized into Markdown.\n   * @returns The blocks, serialized as a Markdown string.\n   */\n  async blocksToMarkdownLossy(e = this.document) {\n    return Vi(e, this._tiptapEditor.schema, this);\n  }\n  /**\n   * Creates a list of blocks from a Markdown string. Tries to create `Block` and `InlineNode` objects based on\n   * Markdown syntax, though not all symbols are recognized. If BlockNote doesn't recognize a symbol, it will parse it\n   * as text.\n   * @param markdown The Markdown string to parse blocks from.\n   * @returns The blocks parsed from the Markdown string.\n   */\n  async tryParseMarkdownToBlocks(e) {\n    return Ki(\n      e,\n      this.schema.blockSchema,\n      this.schema.inlineContentSchema,\n      this.schema.styleSchema,\n      this._tiptapEditor.schema\n    );\n  }\n  /**\n   * Updates the user info for the current user that's shown to other collaborators.\n   */\n  updateCollaborationUserInfo(e) {\n    if (!this.options.collaboration)\n      throw new Error(\n        \"Cannot update collaboration user info when collaboration is disabled.\"\n      );\n    this._tiptapEditor.commands.updateUser(e);\n  }\n  /**\n   * A callback function that runs whenever the editor's contents change.\n   *\n   * @param callback The callback to execute.\n   * @returns A function to remove the callback.\n   */\n  onChange(e) {\n    const o = () => {\n      e(this);\n    };\n    return this._tiptapEditor.on(\"update\", o), () => {\n      this._tiptapEditor.off(\"update\", o);\n    };\n  }\n  /**\n   * A callback function that runs whenever the text cursor position or selection changes.\n   *\n   * @param callback The callback to execute.\n   * @returns A function to remove the callback.\n   */\n  onSelectionChange(e) {\n    const o = () => {\n      e(this);\n    };\n    return this._tiptapEditor.on(\"selectionUpdate\", o), () => {\n      this._tiptapEditor.off(\"selectionUpdate\", o);\n    };\n  }\n}\nfunction Rn(t) {\n  let e = t.getTextCursorPosition().block, o = t.schema.blockSchema[e.type].content;\n  for (; o === \"none\"; )\n    e = t.getTextCursorPosition().nextBlock, o = t.schema.blockSchema[e.type].content, t.setTextCursorPosition(e, \"end\");\n}\nfunction C(t, e) {\n  const o = t.getTextCursorPosition().block;\n  if (o.content === void 0)\n    throw new Error(\"Slash Menu open in a block that doesn't contain content.\");\n  Array.isArray(o.content) && (o.content.length === 1 && Z(o.content[0]) && o.content[0].type === \"text\" && o.content[0].text === \"/\" || o.content.length === 0) ? t.updateBlock(o, e) : (t.insertBlocks([e], o, \"after\"), t.setTextCursorPosition(\n    t.getTextCursorPosition().nextBlock,\n    \"end\"\n  ));\n  const i = t.getTextCursorPosition().block;\n  return Rn(t), i;\n}\nfunction Dr(t) {\n  const e = [];\n  return S(\"heading\", t) && e.push(\n    {\n      onItemClick: () => {\n        C(t, {\n          type: \"heading\",\n          props: { level: 1 }\n        });\n      },\n      badge: R(\"Mod-Alt-1\"),\n      key: \"heading\",\n      ...t.dictionary.slash_menu.heading\n    },\n    {\n      onItemClick: () => {\n        C(t, {\n          type: \"heading\",\n          props: { level: 2 }\n        });\n      },\n      badge: R(\"Mod-Alt-2\"),\n      key: \"heading_2\",\n      ...t.dictionary.slash_menu.heading_2\n    },\n    {\n      onItemClick: () => {\n        C(t, {\n          type: \"heading\",\n          props: { level: 3 }\n        });\n      },\n      badge: R(\"Mod-Alt-3\"),\n      key: \"heading_3\",\n      ...t.dictionary.slash_menu.heading_3\n    }\n  ), S(\"numberedListItem\", t) && e.push({\n    onItemClick: () => {\n      C(t, {\n        type: \"numberedListItem\"\n      });\n    },\n    badge: R(\"Mod-Shift-7\"),\n    key: \"numbered_list\",\n    ...t.dictionary.slash_menu.numbered_list\n  }), S(\"bulletListItem\", t) && e.push({\n    onItemClick: () => {\n      C(t, {\n        type: \"bulletListItem\"\n      });\n    },\n    badge: R(\"Mod-Shift-8\"),\n    key: \"bullet_list\",\n    ...t.dictionary.slash_menu.bullet_list\n  }), S(\"paragraph\", t) && e.push({\n    onItemClick: () => {\n      C(t, {\n        type: \"paragraph\"\n      });\n    },\n    badge: R(\"Mod-Alt-0\"),\n    key: \"paragraph\",\n    ...t.dictionary.slash_menu.paragraph\n  }), S(\"table\", t) && e.push({\n    onItemClick: () => {\n      C(t, {\n        type: \"table\",\n        content: {\n          type: \"tableContent\",\n          rows: [\n            {\n              cells: [\"\", \"\", \"\"]\n            },\n            {\n              cells: [\"\", \"\", \"\"]\n            }\n          ]\n        }\n      });\n    },\n    badge: void 0,\n    key: \"table\",\n    ...t.dictionary.slash_menu.table\n  }), S(\"image\", t) && e.push({\n    onItemClick: () => {\n      const o = C(t, {\n        type: \"image\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"image\",\n    ...t.dictionary.slash_menu.image\n  }), S(\"video\", t) && e.push({\n    onItemClick: () => {\n      const o = C(t, {\n        type: \"video\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"video\",\n    ...t.dictionary.slash_menu.video\n  }), S(\"audio\", t) && e.push({\n    onItemClick: () => {\n      const o = C(t, {\n        type: \"audio\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"audio\",\n    ...t.dictionary.slash_menu.audio\n  }), S(\"file\", t) && e.push({\n    onItemClick: () => {\n      const o = C(t, {\n        type: \"file\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"image\",\n    ...t.dictionary.slash_menu.file\n  }), e;\n}\nfunction Or(t, e) {\n  return t.filter(\n    ({ title: o, aliases: i }) => o.toLowerCase().includes(e.toLowerCase()) || i && i.filter(\n      (n) => n.toLowerCase().includes(e.toLowerCase())\n    ).length !== 0\n  );\n}\nfunction fe(t = \"\") {\n  return typeof t == \"string\" ? [\n    {\n      type: \"text\",\n      text: t,\n      styles: {}\n    }\n  ] : t;\n}\nfunction wt(t) {\n  return typeof t == \"string\" ? fe(t) : Array.isArray(t) ? t.flatMap((e) => typeof e == \"string\" ? fe(e) : Ye(e) ? {\n    ...e,\n    content: fe(e.content)\n  } : Z(e) ? e : {\n    props: {},\n    ...e,\n    content: wt(e.content)\n  }) : t;\n}\nfunction Rr(t, e) {\n  return e.map(\n    (o) => vt(t, o)\n  );\n}\nfunction vt(t, e) {\n  const o = {\n    id: \"\",\n    type: e.type,\n    props: {},\n    content: t[e.type].content === \"inline\" ? [] : void 0,\n    children: [],\n    ...e\n  };\n  return Object.entries(t[e.type].propSchema).forEach(\n    ([i, n]) => {\n      o.props[i] === void 0 && (o.props[i] = n.default);\n    }\n  ), {\n    ...o,\n    content: wt(o.content),\n    children: o.children.map((i) => vt(t, i))\n  };\n}\nfunction Vn(t) {\n  t.id || (t.id = J.options.generateID()), t.children && jn(t.children);\n}\nfunction jn(t) {\n  for (const e of t)\n    Vn(e);\n}\n\n//# sourceMappingURL=blocknote.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9jb3JlL2Rpc3QvYmxvY2tub3RlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSwwQ0FBMEMsMERBQTBEO0FBQ3BHO0FBQ2dIO0FBQ2xGO0FBQ0k7QUFDTTtBQUN3WjtBQUNuVDtBQUM3RztBQUNtQjtBQUNYO0FBQ0E7QUFDRTtBQUNBO0FBQ0c7QUFDa0I7QUFDSTtBQUNOO0FBQ2lCO0FBQy9DO0FBQ0g7QUFDTTtBQUNKO0FBQzRCO0FBQytCO0FBQ3hDO0FBQ087QUFDUTtBQUNGO0FBQ0M7QUFDTDtBQUNOO0FBQ0E7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxhQUFhO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHdCQUF3QixFQUFFLDZEQUFFO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx3REFBQztBQUNUO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0REFBRTtBQUNwQjtBQUNBO0FBQ0Esa0JBQWtCLDREQUFFO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQUU7QUFDZCxtR0FBbUcsaURBQUUsT0FBTyxxREFBRSxJQUFJLGNBQWM7QUFDaEk7QUFDQTtBQUNBLEdBQUcsTUFBTSx5REFBRTtBQUNYO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyx3REFBQztBQUN4QyxHQUFHO0FBQ0gsQ0FBQztBQUNELFlBQVksNkRBQUU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx3REFBQztBQUMzQyxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0NBQUM7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLGtFQUFrRTtBQUNsRSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0JBQStCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsV0FBVztBQUNYLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0JBQStCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsV0FBVztBQUNYLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztB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Q1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5Q0FBeUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZUFBZSx5REFBQztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0RBQUM7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLEtBQUs7QUFDdEc7QUFDQTtBQUNBO0FBQ0EsK0dBQStHLEtBQUs7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRkFBb0YsWUFBWTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssT0FBTyxvREFBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNENBQTRDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG1CQUFtQix5Q0FBeUMsOEJBQThCO0FBQzNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLEdBQUc7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsaURBQWlELGdCQUFnQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLEdBQUc7QUFDcEM7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGdCQUFnQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBLHVEQUF1RCxTQUFTO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdCQUF3QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGNBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsT0FBTyxzQkFBc0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixhQUFhO0FBQ2I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEwSEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2RkLy4vbm9kZV9tb2R1bGVzL0BibG9ja25vdGUvY29yZS9kaXN0L2Jsb2Nrbm90ZS5qcz9mNGI2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBFdCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBDdCA9ICh0LCBlLCBvKSA9PiBlIGluIHQgPyBFdCh0LCBlLCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiBvIH0pIDogdFtlXSA9IG87XG52YXIgYyA9ICh0LCBlLCBvKSA9PiAoQ3QodCwgdHlwZW9mIGUgIT0gXCJzeW1ib2xcIiA/IGUgKyBcIlwiIDogZSwgbyksIG8pO1xuaW1wb3J0IHsgU2xpY2UgYXMgSCwgRnJhZ21lbnQgYXMgTSwgRE9NU2VyaWFsaXplciBhcyBrZSwgRE9NUGFyc2VyIGFzIFN0LCBOb2RlIGFzIE10IH0gZnJvbSBcInByb3NlbWlycm9yLW1vZGVsXCI7XG5pbXBvcnQgS2UgZnJvbSBcInJlaHlwZS1wYXJzZVwiO1xuaW1wb3J0IHFlIGZyb20gXCJyZWh5cGUtc3RyaW5naWZ5XCI7XG5pbXBvcnQgeyB1bmlmaWVkIGFzIHllIH0gZnJvbSBcInVuaWZpZWRcIjtcbmltcG9ydCB7IEV4dGVuc2lvbiBhcyBULCBjb21iaW5lVHJhbnNhY3Rpb25TdGVwcyBhcyBUdCwgZ2V0Q2hhbmdlZFJhbmdlcyBhcyBCdCwgZmluZENoaWxkcmVuSW5SYW5nZSBhcyBMdCwgTm9kZSBhcyBGLCBNYXJrIGFzIF9lLCBJbnB1dFJ1bGUgYXMgd2UsIGNhbGxPclJldHVybiBhcyBJdCwgZ2V0RXh0ZW5zaW9uRmllbGQgYXMgQXQsIG1lcmdlQXR0cmlidXRlcyBhcyBOdCwgc2VsZWN0aW9uVG9JbnNlcnRpb25FbmQgYXMgUHQsIGlzVGV4dFNlbGVjdGlvbiBhcyBIdCwgaXNOb2RlU2VsZWN0aW9uIGFzIFV0LCBwb3NUb0RPTVJlY3QgYXMgZ2UsIGdldE1hcmtSYW5nZSBhcyBBZSwgZmluZFBhcmVudE5vZGUgYXMgRHQsIGZpbmRDaGlsZHJlbiBhcyBOZSwgZXh0ZW5zaW9ucyBhcyBLLCBFZGl0b3IgYXMgT3QsIGNyZWF0ZURvY3VtZW50IGFzIFJ0IH0gZnJvbSBcIkB0aXB0YXAvY29yZVwiO1xuaW1wb3J0IHsgUGx1Z2luIGFzIHcsIFBsdWdpbktleSBhcyB4LCBTZWxlY3Rpb24gYXMgdWUsIE5vZGVTZWxlY3Rpb24gYXMgdGUsIFRleHRTZWxlY3Rpb24gYXMgcSwgRWRpdG9yU3RhdGUgYXMgVnQgfSBmcm9tIFwicHJvc2VtaXJyb3Itc3RhdGVcIjtcbmltcG9ydCB7IHY0IGFzIGp0IH0gZnJvbSBcInV1aWRcIjtcbmltcG9ydCB7IGZyb21Eb20gYXMgUGUgfSBmcm9tIFwiaGFzdC11dGlsLWZyb20tZG9tXCI7XG5pbXBvcnQgenQgZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLWJvbGRcIjtcbmltcG9ydCBGdCBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tY29kZVwiO1xuaW1wb3J0IEd0IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1pdGFsaWNcIjtcbmltcG9ydCBXdCBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tc3RyaWtlXCI7XG5pbXBvcnQgJHQgZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLXVuZGVybGluZVwiO1xuaW1wb3J0IHsgVGFibGVDZWxsIGFzIEt0IH0gZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLXRhYmxlLWNlbGxcIjtcbmltcG9ydCB7IFRhYmxlSGVhZGVyIGFzIHF0IH0gZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLXRhYmxlLWhlYWRlclwiO1xuaW1wb3J0IHsgVGFibGVSb3cgYXMgWHQgfSBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tdGFibGUtcm93XCI7XG5pbXBvcnQgeyBjb2x1bW5SZXNpemluZyBhcyBadCwgdGFibGVFZGl0aW5nIGFzIEp0IH0gZnJvbSBcInByb3NlbWlycm9yLXRhYmxlc1wiO1xuaW1wb3J0IFl0IGZyb20gXCJyZWh5cGUtcmVtYXJrXCI7XG5pbXBvcnQgWGUgZnJvbSBcInJlbWFyay1nZm1cIjtcbmltcG9ydCBRdCBmcm9tIFwicmVtYXJrLXN0cmluZ2lmeVwiO1xuaW1wb3J0IGVvIGZyb20gXCJyZW1hcmstcGFyc2VcIjtcbmltcG9ydCB0bywgeyBkZWZhdWx0SGFuZGxlcnMgYXMgb28gfSBmcm9tIFwicmVtYXJrLXJlaHlwZVwiO1xuaW1wb3J0IHsgRGVjb3JhdGlvblNldCBhcyBqLCBEZWNvcmF0aW9uIGFzIHosIEVkaXRvclZpZXcgYXMgaW8gfSBmcm9tIFwicHJvc2VtaXJyb3Itdmlld1wiO1xuaW1wb3J0IG5vIGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1jb2xsYWJvcmF0aW9uXCI7XG5pbXBvcnQgcm8gZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLWNvbGxhYm9yYXRpb24tY3Vyc29yXCI7XG5pbXBvcnQgeyBEcm9wY3Vyc29yIGFzIGFvIH0gZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLWRyb3BjdXJzb3JcIjtcbmltcG9ydCB7IEdhcGN1cnNvciBhcyBzbyB9IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1nYXBjdXJzb3JcIjtcbmltcG9ydCB7IEhhcmRCcmVhayBhcyBsbyB9IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1oYXJkLWJyZWFrXCI7XG5pbXBvcnQgeyBIaXN0b3J5IGFzIGNvIH0gZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLWhpc3RvcnlcIjtcbmltcG9ydCB7IExpbmsgYXMgdW8gfSBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tbGlua1wiO1xuaW1wb3J0IHsgVGV4dCBhcyBwbyB9IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi10ZXh0XCI7XG5jb25zdCBaZSA9IHtcbiAgc2xhc2hfbWVudToge1xuICAgIGhlYWRpbmc6IHtcbiAgICAgIHRpdGxlOiBcIkhlYWRpbmcgMVwiLFxuICAgICAgc3VidGV4dDogXCJVc2VkIGZvciBhIHRvcC1sZXZlbCBoZWFkaW5nXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwiaGVhZGluZzFcIiwgXCJoMVwiXSxcbiAgICAgIGdyb3VwOiBcIkhlYWRpbmdzXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwiSGVhZGluZyAyXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzZWQgZm9yIGtleSBzZWN0aW9uc1wiLFxuICAgICAgYWxpYXNlczogW1wiaDJcIiwgXCJoZWFkaW5nMlwiLCBcInN1YmhlYWRpbmdcIl0sXG4gICAgICBncm91cDogXCJIZWFkaW5nc1wiXG4gICAgfSxcbiAgICBoZWFkaW5nXzM6IHtcbiAgICAgIHRpdGxlOiBcIkhlYWRpbmcgM1wiLFxuICAgICAgc3VidGV4dDogXCJVc2VkIGZvciBzdWJzZWN0aW9ucyBhbmQgZ3JvdXAgaGVhZGluZ3NcIixcbiAgICAgIGFsaWFzZXM6IFtcImgzXCIsIFwiaGVhZGluZzNcIiwgXCJzdWJoZWFkaW5nXCJdLFxuICAgICAgZ3JvdXA6IFwiSGVhZGluZ3NcIlxuICAgIH0sXG4gICAgbnVtYmVyZWRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiTnVtYmVyZWQgTGlzdFwiLFxuICAgICAgc3VidGV4dDogXCJVc2VkIHRvIGRpc3BsYXkgYSBudW1iZXJlZCBsaXN0XCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwibGlzdFwiLCBcIm51bWJlcmVkbGlzdFwiLCBcIm51bWJlcmVkIGxpc3RcIl0sXG4gICAgICBncm91cDogXCJCYXNpYyBibG9ja3NcIlxuICAgIH0sXG4gICAgYnVsbGV0X2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkJ1bGxldCBMaXN0XCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzZWQgdG8gZGlzcGxheSBhbiB1bm9yZGVyZWQgbGlzdFwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImxpc3RcIiwgXCJidWxsZXRsaXN0XCIsIFwiYnVsbGV0IGxpc3RcIl0sXG4gICAgICBncm91cDogXCJCYXNpYyBibG9ja3NcIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCJQYXJhZ3JhcGhcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNlZCBmb3IgdGhlIGJvZHkgb2YgeW91ciBkb2N1bWVudFwiLFxuICAgICAgYWxpYXNlczogW1wicFwiLCBcInBhcmFncmFwaFwiXSxcbiAgICAgIGdyb3VwOiBcIkJhc2ljIGJsb2Nrc1wiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiVGFibGVcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNlZCBmb3IgdGFibGVzXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ0YWJsZVwiXSxcbiAgICAgIGdyb3VwOiBcIkFkdmFuY2VkXCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICB0aXRsZTogXCJJbWFnZVwiLFxuICAgICAgc3VidGV4dDogXCJJbnNlcnQgYW4gaW1hZ2VcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJpbWFnZVwiLFxuICAgICAgICBcImltYWdlVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwiaW1nXCIsXG4gICAgICAgIFwicGljdHVyZVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwiVmlkZW9cIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJ0IGEgdmlkZW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBcInZpZGVvVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwiZmlsbVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwiQXVkaW9cIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJ0IGF1ZGlvXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwiYXVkaW9cIixcbiAgICAgICAgXCJhdWRpb1VwbG9hZFwiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcIm1wM1wiLFxuICAgICAgICBcInNvdW5kXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1lZGlhXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIHRpdGxlOiBcIkZpbGVcIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJ0IGEgZmlsZVwiLFxuICAgICAgYWxpYXNlczogW1wiZmlsZVwiLCBcInVwbG9hZFwiLCBcImVtYmVkXCIsIFwibWVkaWFcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcnM6IHtcbiAgICBkZWZhdWx0OiBcIkVudGVyIHRleHQgb3IgdHlwZSAnLycgZm9yIGNvbW1hbmRzXCIsXG4gICAgaGVhZGluZzogXCJIZWFkaW5nXCIsXG4gICAgYnVsbGV0TGlzdEl0ZW06IFwiTGlzdFwiLFxuICAgIG51bWJlcmVkTGlzdEl0ZW06IFwiTGlzdFwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBZGQgaW1hZ2VcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBZGQgdmlkZW9cIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBZGQgYXVkaW9cIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFkZCBmaWxlXCJcbiAgICB9XG4gIH0sXG4gIC8vIGZyb20gcmVhY3QgcGFja2FnZTpcbiAgc2lkZV9tZW51OiB7XG4gICAgYWRkX2Jsb2NrX2xhYmVsOiBcIkFkZCBibG9ja1wiLFxuICAgIGRyYWdfaGFuZGxlX2xhYmVsOiBcIk9wZW4gYmxvY2sgbWVudVwiXG4gIH0sXG4gIGRyYWdfaGFuZGxlOiB7XG4gICAgZGVsZXRlX21lbnVpdGVtOiBcIkRlbGV0ZVwiLFxuICAgIGNvbG9yc19tZW51aXRlbTogXCJDb2xvcnNcIlxuICB9LFxuICB0YWJsZV9oYW5kbGU6IHtcbiAgICBkZWxldGVfY29sdW1uX21lbnVpdGVtOiBcIkRlbGV0ZSBjb2x1bW5cIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIkRlbGV0ZSByb3dcIixcbiAgICBhZGRfbGVmdF9tZW51aXRlbTogXCJBZGQgY29sdW1uIGxlZnRcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwiQWRkIGNvbHVtbiByaWdodFwiLFxuICAgIGFkZF9hYm92ZV9tZW51aXRlbTogXCJBZGQgcm93IGFib3ZlXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIkFkZCByb3cgYmVsb3dcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJObyBpdGVtcyBmb3VuZFwiLFxuICAgIGxvYWRpbmc6IFwiTG9hZGluZ+KAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwiVGV4dFwiLFxuICAgIGJhY2tncm91bmRfdGl0bGU6IFwiQmFja2dyb3VuZFwiLFxuICAgIGNvbG9yczoge1xuICAgICAgZGVmYXVsdDogXCJEZWZhdWx0XCIsXG4gICAgICBncmF5OiBcIkdyYXlcIixcbiAgICAgIGJyb3duOiBcIkJyb3duXCIsXG4gICAgICByZWQ6IFwiUmVkXCIsXG4gICAgICBvcmFuZ2U6IFwiT3JhbmdlXCIsXG4gICAgICB5ZWxsb3c6IFwiWWVsbG93XCIsXG4gICAgICBncmVlbjogXCJHcmVlblwiLFxuICAgICAgYmx1ZTogXCJCbHVlXCIsXG4gICAgICBwdXJwbGU6IFwiUHVycGxlXCIsXG4gICAgICBwaW5rOiBcIlBpbmtcIlxuICAgIH1cbiAgfSxcbiAgZm9ybWF0dGluZ190b29sYmFyOiB7XG4gICAgYm9sZDoge1xuICAgICAgdG9vbHRpcDogXCJCb2xkXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwiSXRhbGljXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrSVwiXG4gICAgfSxcbiAgICB1bmRlcmxpbmU6IHtcbiAgICAgIHRvb2x0aXA6IFwiVW5kZXJsaW5lXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrVVwiXG4gICAgfSxcbiAgICBzdHJpa2U6IHtcbiAgICAgIHRvb2x0aXA6IFwiU3RyaWtlXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIkNvZGVcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ29sb3JzXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ3JlYXRlIGxpbmtcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtLXCJcbiAgICB9LFxuICAgIGZpbGVfY2FwdGlvbjoge1xuICAgICAgdG9vbHRpcDogXCJFZGl0IGNhcHRpb25cIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkVkaXQgY2FwdGlvblwiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiUmVwbGFjZSBpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJSZXBsYWNlIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlJlcGxhY2UgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJSZXBsYWNlIGZpbGVcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiUmVuYW1lIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlJlbmFtZSB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJSZW5hbWUgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJSZW5hbWUgZmlsZVwiXG4gICAgICB9LFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiUmVuYW1lIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlJlbmFtZSB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJSZW5hbWUgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJSZW5hbWUgZmlsZVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkRvd25sb2FkIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIkRvd25sb2FkIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIkRvd25sb2FkIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiRG93bmxvYWQgZmlsZVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2RlbGV0ZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJEZWxldGUgaW1hZ2VcIixcbiAgICAgICAgdmlkZW86IFwiRGVsZXRlIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIkRlbGV0ZSBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIkRlbGV0ZSBmaWxlXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiVG9nZ2xlIHByZXZpZXdcIlxuICAgIH0sXG4gICAgbmVzdDoge1xuICAgICAgdG9vbHRpcDogXCJOZXN0IGJsb2NrXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIlVubmVzdCBibG9ja1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpZ24gdGV4dCBsZWZ0XCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCJBbGlnbiB0ZXh0IGNlbnRlclwiXG4gICAgfSxcbiAgICBhbGlnbl9yaWdodDoge1xuICAgICAgdG9vbHRpcDogXCJBbGlnbiB0ZXh0IHJpZ2h0XCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwiSnVzdGlmeSB0ZXh0XCJcbiAgICB9XG4gIH0sXG4gIGZpbGVfcGFuZWw6IHtcbiAgICB1cGxvYWQ6IHtcbiAgICAgIHRpdGxlOiBcIlVwbG9hZFwiLFxuICAgICAgZmlsZV9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCJVcGxvYWQgaW1hZ2VcIixcbiAgICAgICAgdmlkZW86IFwiVXBsb2FkIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlVwbG9hZCBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlVwbG9hZCBmaWxlXCJcbiAgICAgIH0sXG4gICAgICB1cGxvYWRfZXJyb3I6IFwiRXJyb3I6IFVwbG9hZCBmYWlsZWRcIlxuICAgIH0sXG4gICAgZW1iZWQ6IHtcbiAgICAgIHRpdGxlOiBcIkVtYmVkXCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwiRW1iZWQgaW1hZ2VcIixcbiAgICAgICAgdmlkZW86IFwiRW1iZWQgdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiRW1iZWQgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJFbWJlZCBmaWxlXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiRW50ZXIgVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJSZW1vdmUgbGlua1wiXG4gICAgfSxcbiAgICBlZGl0OiB7XG4gICAgICB0ZXh0OiBcIkVkaXQgbGlua1wiLFxuICAgICAgdG9vbHRpcDogXCJFZGl0XCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwiT3BlbiBpbiBuZXcgdGFiXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIkVkaXQgdGl0bGVcIixcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCJFZGl0IFVSTFwiXG4gICAgfVxuICB9LFxuICBnZW5lcmljOiB7XG4gICAgY3RybF9zaG9ydGN1dDogXCJDdHJsXCJcbiAgfVxufSwgaG8gPSB7XG4gIHNsYXNoX21lbnU6IHtcbiAgICBoZWFkaW5nOiB7XG4gICAgICB0aXRsZTogXCJUaXRyZSAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlV0aWxpc8OpIHBvdXIgdW4gdGl0cmUgZGUgcHJlbWllciBuaXZlYXVcIixcbiAgICAgIGFsaWFzZXM6IFtcImhcIiwgXCJ0aXRyZTFcIiwgXCJoMVwiXSxcbiAgICAgIGdyb3VwOiBcIlRpdHJlc1wiXG4gICAgfSxcbiAgICBoZWFkaW5nXzI6IHtcbiAgICAgIHRpdGxlOiBcIlRpdHJlIDJcIixcbiAgICAgIHN1YnRleHQ6IFwiVXRpbGlzw6kgcG91ciBsZXMgc2VjdGlvbnMgY2zDqXNcIixcbiAgICAgIGFsaWFzZXM6IFtcImgyXCIsIFwidGl0cmUyXCIsIFwic291cy10aXRyZVwiXSxcbiAgICAgIGdyb3VwOiBcIlRpdHJlc1wiXG4gICAgfSxcbiAgICBoZWFkaW5nXzM6IHtcbiAgICAgIHRpdGxlOiBcIlRpdHJlIDNcIixcbiAgICAgIHN1YnRleHQ6IFwiVXRpbGlzw6kgcG91ciBsZXMgc291cy1zZWN0aW9ucyBldCBsZXMgdGl0cmVzIGRlIGdyb3VwZVwiLFxuICAgICAgYWxpYXNlczogW1wiaDNcIiwgXCJ0aXRyZTNcIiwgXCJzb3VzLXRpdHJlXCJdLFxuICAgICAgZ3JvdXA6IFwiVGl0cmVzXCJcbiAgICB9LFxuICAgIG51bWJlcmVkX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkxpc3RlIE51bcOpcm90w6llXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlV0aWxpc8OpIHBvdXIgYWZmaWNoZXIgdW5lIGxpc3RlIG51bcOpcm90w6llXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwibGlzdGVcIiwgXCJsaXN0ZW51bcOpcm90w6llXCIsIFwibGlzdGUgbnVtw6lyb3TDqWVcIl0sXG4gICAgICBncm91cDogXCJCbG9jcyBkZSBiYXNlXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJMaXN0ZSDDoCBQdWNlc1wiLFxuICAgICAgc3VidGV4dDogXCJVdGlsaXPDqSBwb3VyIGFmZmljaGVyIHVuZSBsaXN0ZSBub24gb3Jkb25uw6llXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ1bFwiLCBcImxpXCIsIFwibGlzdGVcIiwgXCJsaXN0ZcOgcHVjZXNcIiwgXCJsaXN0ZSDDoCBwdWNlc1wiXSxcbiAgICAgIGdyb3VwOiBcIkJsb2NzIGRlIGJhc2VcIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCJQYXJhZ3JhcGhlXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlV0aWxpc8OpIHBvdXIgbGUgY29ycHMgZGUgdm90cmUgZG9jdW1lbnRcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJwYXJhZ3JhcGhlXCJdLFxuICAgICAgZ3JvdXA6IFwiQmxvY3MgZGUgYmFzZVwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiVGFibGVhdVwiLFxuICAgICAgc3VidGV4dDogXCJVdGlsaXPDqSBwb3VyIGxlcyB0YWJsZWF1eFwiLFxuICAgICAgYWxpYXNlczogW1widGFibGVhdVwiXSxcbiAgICAgIGdyb3VwOiBcIkF2YW5jw6lcIlxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHRpdGxlOiBcIkltYWdlXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkluc8OpcmVyIHVuZSBpbWFnZVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImltYWdlXCIsXG4gICAgICAgIFwidXBsb2FkSW1hZ2VcIixcbiAgICAgICAgXCJ0w6lsw6ljaGFyZ2VyXCIsXG4gICAgICAgIFwiaW1nXCIsXG4gICAgICAgIFwicGhvdG9cIixcbiAgICAgICAgXCJtw6lkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk3DqWRpYXNcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIHRpdGxlOiBcIlZpZMOpb1wiLFxuICAgICAgc3VidGV4dDogXCJJbnPDqXJlciB1bmUgdmlkw6lvXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwidmlkw6lvXCIsXG4gICAgICAgIFwidMOpbMOpY2hhcmdlclZpZMOpb1wiLFxuICAgICAgICBcInTDqWzDqXZlcnNlclwiLFxuICAgICAgICBcIm1wNFwiLFxuICAgICAgICBcImZpbG1cIixcbiAgICAgICAgXCJtw6lkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk3DqWRpYVwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwiQXVkaW9cIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zw6lyZXIgdW4gYXVkaW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJhdWRpb1wiLFxuICAgICAgICBcInTDqWzDqWNoYXJnZXJBdWRpb1wiLFxuICAgICAgICBcInTDqWzDqXZlcnNlclwiLFxuICAgICAgICBcIm1wM1wiLFxuICAgICAgICBcInNvblwiLFxuICAgICAgICBcIm3DqWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTcOpZGlhXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIHRpdGxlOiBcIkZpY2hpZXJcIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zw6lyZXIgdW4gZmljaGllclwiLFxuICAgICAgYWxpYXNlczogW1wiZmljaGllclwiLCBcInTDqWzDqXZlcnNlclwiLCBcImludMOpZ3JlclwiLCBcIm3DqWRpYVwiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIk3DqWRpYVwiXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcnM6IHtcbiAgICBkZWZhdWx0OiBcIkVudHJleiBkdSB0ZXh0ZSBvdSB0YXBleiAnLycgcG91ciBsZXMgY29tbWFuZGVzXCIsXG4gICAgaGVhZGluZzogXCJUaXRyZVwiLFxuICAgIGJ1bGxldExpc3RJdGVtOiBcIkxpc3RlXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCJMaXN0ZVwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBam91dGVyIHVuZSBpbWFnZVwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFqb3V0ZXIgdW5lIHZpZMOpb1wiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFqb3V0ZXIgdW4gYXVkaW9cIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFqb3V0ZXIgdW4gZmljaGllclwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJBam91dGVyIHVuIGJsb2NcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCJPdXZyaXIgbGUgbWVudSBkdSBibG9jXCJcbiAgfSxcbiAgZHJhZ19oYW5kbGU6IHtcbiAgICBkZWxldGVfbWVudWl0ZW06IFwiU3VwcHJpbWVyXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIkNvdWxldXJzXCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCJTdXBwcmltZXIgbGEgY29sb25uZVwiLFxuICAgIGRlbGV0ZV9yb3dfbWVudWl0ZW06IFwiU3VwcHJpbWVyIGxhIGxpZ25lXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiQWpvdXRlciB1bmUgY29sb25uZSDDoCBnYXVjaGVcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwiQWpvdXRlciB1bmUgY29sb25uZSDDoCBkcm9pdGVcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwiQWpvdXRlciB1bmUgbGlnbmUgYXUtZGVzc3VzXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIkFqb3V0ZXIgdW5lIGxpZ25lIGVuIGRlc3NvdXNcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJBdWN1biDDqWzDqW1lbnQgdHJvdXbDqVwiLFxuICAgIGxvYWRpbmc6IFwiQ2hhcmdlbWVudOKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwiVGV4dGVcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIkZvbmRcIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwiRMOpZmF1dFwiLFxuICAgICAgZ3JheTogXCJHcmlzXCIsXG4gICAgICBicm93bjogXCJNYXJyb25cIixcbiAgICAgIHJlZDogXCJSb3VnZVwiLFxuICAgICAgb3JhbmdlOiBcIk9yYW5nZVwiLFxuICAgICAgeWVsbG93OiBcIkphdW5lXCIsXG4gICAgICBncmVlbjogXCJWZXJ0XCIsXG4gICAgICBibHVlOiBcIkJsZXVcIixcbiAgICAgIHB1cnBsZTogXCJWaW9sZXRcIixcbiAgICAgIHBpbms6IFwiUm9zZVwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIkdyYXNcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtCXCJcbiAgICB9LFxuICAgIGl0YWxpYzoge1xuICAgICAgdG9vbHRpcDogXCJJdGFsaXF1ZVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIlNvdWxpZ25lclwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIkJhcnLDqVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCJDb2RlXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcIkNvdWxldXJzXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ3LDqWVyIHVuIGxpZW5cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtLXCJcbiAgICB9LFxuICAgIGZpbGVfY2FwdGlvbjoge1xuICAgICAgdG9vbHRpcDogXCJNb2RpZmllciBsYSBsw6lnZW5kZVwiLFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IFwiTW9kaWZpZXIgbGEgbMOpZ2VuZGVcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlJlbXBsYWNlciBsJ2ltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlJlbXBsYWNlciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVtcGxhY2VyIGwnYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJSZW1wbGFjZXIgbGUgZmljaGllclwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJSZW5vbW1lciBsJ2ltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlJlbm9tbWVyIGxhIHZpZMOpb1wiLFxuICAgICAgICBhdWRpbzogXCJSZW5vbW1lciBsJ2F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUmVub21tZXIgbGUgZmljaGllclwiXG4gICAgICB9LFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiUmVub21tZXIgbCdpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJSZW5vbW1lciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVub21tZXIgbCdhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlJlbm9tbWVyIGxlIGZpY2hpZXJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kb3dubG9hZDoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJUw6lsw6ljaGFyZ2VyIGwnaW1hZ2VcIixcbiAgICAgICAgdmlkZW86IFwiVMOpbMOpY2hhcmdlciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiVMOpbMOpY2hhcmdlciBsJ2F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiVMOpbMOpY2hhcmdlciBsZSBmaWNoaWVyXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlN1cHByaW1lciBsJ2ltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlN1cHByaW1lciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiU3VwcHJpbWVyIGwnYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJTdXBwcmltZXIgbGUgZmljaGllclwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3ByZXZpZXdfdG9nZ2xlOiB7XG4gICAgICB0b29sdGlwOiBcIkJhc2N1bGVyIGwnYXBlcsOndVwiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkVtYm/DrnRlciBsZSBibG9jXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkTDqW1ib8OudGVyIGxlIGJsb2NcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlNoaWZ0K1RhYlwiXG4gICAgfSxcbiAgICBhbGlnbl9sZWZ0OiB7XG4gICAgICB0b29sdGlwOiBcIkFsaWduZXIgbGUgdGV4dGUgw6AgZ2F1Y2hlXCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCJBbGlnbmVyIGxlIHRleHRlIGF1IGNlbnRyZVwiXG4gICAgfSxcbiAgICBhbGlnbl9yaWdodDoge1xuICAgICAgdG9vbHRpcDogXCJBbGlnbmVyIGxlIHRleHRlIMOgIGRyb2l0ZVwiXG4gICAgfSxcbiAgICBhbGlnbl9qdXN0aWZ5OiB7XG4gICAgICB0b29sdGlwOiBcIkp1c3RpZmllciBsZSB0ZXh0ZVwiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJUw6lsw6ljaGFyZ2VyXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIlTDqWzDqWNoYXJnZXIgdW5lIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlTDqWzDqWNoYXJnZXIgdW5lIHZpZMOpb1wiLFxuICAgICAgICBhdWRpbzogXCJUw6lsw6ljaGFyZ2VyIHVuIGZpY2hpZXIgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJUw6lsw6ljaGFyZ2VyIHVuIGZpY2hpZXJcIlxuICAgICAgfSxcbiAgICAgIHVwbG9hZF9lcnJvcjogXCJFcnJldXIgOiDDiWNoZWMgZHUgdMOpbMOpY2hhcmdlbWVudFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiSW50w6lncmVyXCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwiSW50w6lncmVyIHVuZSBpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJJbnTDqWdyZXIgdW5lIHZpZMOpb1wiLFxuICAgICAgICBhdWRpbzogXCJJbnTDqWdyZXIgdW4gZmljaGllciBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIkludMOpZ3JlciB1biBmaWNoaWVyXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiRW50cmV6IGwnVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJTdXBwcmltZXIgbGUgbGllblwiXG4gICAgfSxcbiAgICBlZGl0OiB7XG4gICAgICB0ZXh0OiBcIk1vZGlmaWVyIGxlIGxpZW5cIixcbiAgICAgIHRvb2x0aXA6IFwiTW9kaWZpZXJcIlxuICAgIH0sXG4gICAgb3Blbjoge1xuICAgICAgdG9vbHRpcDogXCJPdXZyaXIgZGFucyB1biBub3V2ZWwgb25nbGV0XCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIk1vZGlmaWVyIGxlIHRpdHJlXCIsXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiTW9kaWZpZXIgbCdVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIG1vID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiRnlyaXJzw7ZnbiAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIk5vdGHDsCBmeXJpciBlZnN0dSBmeXJpcnPDtmduXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwiZnlyaXJzb2duMVwiLCBcImgxXCJdLFxuICAgICAgZ3JvdXA6IFwiRnlyaXJzYWduaXJcIlxuICAgIH0sXG4gICAgaGVhZGluZ18yOiB7XG4gICAgICB0aXRsZTogXCJGeXJpcnPDtmduIDJcIixcbiAgICAgIHN1YnRleHQ6IFwiTm90YcOwIGZ5cmlyIGx5a2lsaGx1dGFcIixcbiAgICAgIGFsaWFzZXM6IFtcImgyXCIsIFwiZnlyaXJzb2duMlwiLCBcInVuZGlyZnlyaXJzb2duXCJdLFxuICAgICAgZ3JvdXA6IFwiRnlyaXJzYWduaXJcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJGeXJpcnPDtmduIDNcIixcbiAgICAgIHN1YnRleHQ6IFwiTm90YcOwIGZ5cmlyIHVuZGlyaGx1dGEgb2cgaMOzcGZ5cmlyc2FnbmlyXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcImZ5cmlyc29nbjNcIiwgXCJ1bmRpcmZ5cmlyc29nblwiXSxcbiAgICAgIGdyb3VwOiBcIkZ5cmlyc2FnbmlyXCJcbiAgICB9LFxuICAgIG51bWJlcmVkX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIk7Dum1lcnXDsCBsaXN0aVwiLFxuICAgICAgc3VidGV4dDogXCJOb3Rhw7AgdGlsIGHDsCBiaXJ0YSBuw7ptZXJhw7BhbiBsaXN0YVwiLFxuICAgICAgYWxpYXNlczogW1wib2xcIiwgXCJsaVwiLCBcImxpc3RpXCIsIFwibnVtZXJhZHVybGlzdGlcIl0sXG4gICAgICBncm91cDogXCJHcnVubmJsb2trYXJcIlxuICAgIH0sXG4gICAgYnVsbGV0X2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIlB1bmt0YWxpc3RpXCIsXG4gICAgICBzdWJ0ZXh0OiBcIk5vdGHDsCB0aWwgYcOwIGJpcnRhIMOzcmHDsGHDsGFuIGxpc3RhXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ1bFwiLCBcImxpXCIsIFwibGlzdGlcIiwgXCJwdW5rdGFsaXN0aVwiXSxcbiAgICAgIGdyb3VwOiBcIkdydW5uYmxva2thclwiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcIk3DoWxzZ3JlaW5cIixcbiAgICAgIHN1YnRleHQ6IFwiTm90YcOwIGZ5cmlyIG1lZ2lubcOhbCBza2phbHNpbnNcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJtYWxzZ3JlaW5cIl0sXG4gICAgICBncm91cDogXCJHcnVubmJsb2trYXJcIlxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIHRpdGxlOiBcIlRhZmxhXCIsXG4gICAgICBzdWJ0ZXh0OiBcIk5vdGHDsCBmeXJpciB0w7ZmbHVyXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ0YWZsYVwiXSxcbiAgICAgIGdyb3VwOiBcIsONdGFybGVndFwiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiTXluZFwiLFxuICAgICAgc3VidGV4dDogXCJTZXR0dSBpbm4gbXluZFwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm15bmRcIixcbiAgICAgICAgXCJteW5kYXVwcGhsYWVkXCIsXG4gICAgICAgIFwidXBwaGxhZWRcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJteW5kXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1pw7BsYXJcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIHRpdGxlOiBcIk15bmRiYW5kXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlNldGphIGlubiBteW5kYmFuZFwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm15bmRiYW5kXCIsXG4gICAgICAgIFwidmlkZW9VcHBoYWxhXCIsXG4gICAgICAgIFwiaGxhw7BhIHVwcFwiLFxuICAgICAgICBcIm1wNFwiLFxuICAgICAgICBcImt2aWtteW5kXCIsXG4gICAgICAgIFwibWnDsGlsbFwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWnDsGlsbFwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwiSGxqw7PDsFwiLFxuICAgICAgc3VidGV4dDogXCJTZXRqYSBpbm4gaGxqw7PDsFwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImhsasOzw7BcIixcbiAgICAgICAgXCJhdWRpb1VwcGhhbGFcIixcbiAgICAgICAgXCJobGHDsGEgdXBwXCIsXG4gICAgICAgIFwibXAzXCIsXG4gICAgICAgIFwiaGxqw7PDsFwiLFxuICAgICAgICBcIm1pw7BpbGxcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1pw7BsYXJcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwiU2tyw6FcIixcbiAgICAgIHN1YnRleHQ6IFwiU2V0amEgaW5uIHNrcsOhXCIsXG4gICAgICBhbGlhc2VzOiBbXCJza3LDoVwiLCBcImhsYcOwYSB1cHBcIiwgXCJmZWxsYSBpbm5cIiwgXCJtacOwaWxsXCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwiTWnDsGxhclwiXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcnM6IHtcbiAgICBkZWZhdWx0OiBcIlNsw6HDsHUgaW5uIHRleHRhIGXDsGEgc2tyaWZhw7B1ICcvJyBmeXJpciBza2lwYW5pclwiLFxuICAgIGhlYWRpbmc6IFwiRnlyaXJzw7ZnblwiLFxuICAgIGJ1bGxldExpc3RJdGVtOiBcIkxpc3RpXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCJMaXN0aVwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJCw6Z0YSB2acOwIG15bmRcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJCw6Z0YSB2acOwIG15bmRiYW5kaVwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkLDpnRhIHZpw7AgaGxqw7PDsGlcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkLDpnRhIHZpw7Agc2tyw6FcIlxuICAgIH1cbiAgfSxcbiAgc2lkZV9tZW51OiB7XG4gICAgYWRkX2Jsb2NrX2xhYmVsOiBcIkLDpnRhIHZpw7AgYmxva2tpXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwiT3BuYSBibG9ra2FydmFsbXluZFwiXG4gIH0sXG4gIGRyYWdfaGFuZGxlOiB7XG4gICAgZGVsZXRlX21lbnVpdGVtOiBcIkV5w7BhXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIkxpdGlyXCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCJFecOwYSBkw6Fsa2lcIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIkV5w7BhIHLDtsOwXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiQsOmdGEgZMOhbGtpIHZpw7AgdGlsIHZpbnN0cmlcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwiQsOmdGEgZMOhbGtpIHZpw7AgdGlsIGjDpmdyaVwiLFxuICAgIGFkZF9hYm92ZV9tZW51aXRlbTogXCJCw6Z0YSByw7bDsCB2acOwIGZ5cmlyIG9mYW5cIixcbiAgICBhZGRfYmVsb3dfbWVudWl0ZW06IFwiQsOmdGEgcsO2w7AgdmnDsCBmeXJpciBuZcOwYW5cIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJFbmdpciBobHV0aXIgZnVuZHVzdFwiLFxuICAgIGxvYWRpbmc6IFwiSGxlw7B1cuKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwiVGV4dGlcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIkJha2dydW5udXJcIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwiU2rDoWxmZ2VmacOwXCIsXG4gICAgICBncmF5OiBcIkdyw6FyXCIsXG4gICAgICBicm93bjogXCJCcsO6bm5cIixcbiAgICAgIHJlZDogXCJSYXXDsHVyXCIsXG4gICAgICBvcmFuZ2U6IFwiQXBwZWxzw61udWd1bHVyXCIsXG4gICAgICB5ZWxsb3c6IFwiR3VsdXJcIixcbiAgICAgIGdyZWVuOiBcIkdyw6ZublwiLFxuICAgICAgYmx1ZTogXCJCbMOhclwiLFxuICAgICAgcHVycGxlOiBcIkZqw7NsdWJsw6FyXCIsXG4gICAgICBwaW5rOiBcIkJsZWlrdXJcIlxuICAgIH1cbiAgfSxcbiAgZm9ybWF0dGluZ190b29sYmFyOiB7XG4gICAgYm9sZDoge1xuICAgICAgdG9vbHRpcDogXCJGZWl0bGV0cmHDsFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0JcIlxuICAgIH0sXG4gICAgaXRhbGljOiB7XG4gICAgICB0b29sdGlwOiBcIlNrw6FsZXRyYcOwXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrSVwiXG4gICAgfSxcbiAgICB1bmRlcmxpbmU6IHtcbiAgICAgIHRvb2x0aXA6IFwiVW5kaXJzdHJpa2HDsFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIllmaXJzdHJpa2HDsFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCJLw7PDsGlcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwiTGl0aXJcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCJCw7phIHRpbCB0ZW5naWxcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtLXCJcbiAgICB9LFxuICAgIGZpbGVfY2FwdGlvbjoge1xuICAgICAgdG9vbHRpcDogXCJCcmV5dGEgbXluZGF0ZXh0YVwiLFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IFwiQnJleXRhIG15bmRhdGV4dGFcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlNraXB0YSB1bSBteW5kXCIsXG4gICAgICAgIHZpZGVvOiBcIlNraXB0YSB1bSBteW5kYmFuZFwiLFxuICAgICAgICBhdWRpbzogXCJTa2lwdGEgdW0gaGxqw7PDsFwiLFxuICAgICAgICBmaWxlOiBcIlNraXB0YSB1bSBza3LDoVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJFbmR1cm5lZm5hIG15bmRcIixcbiAgICAgICAgdmlkZW86IFwiRW5kdXJuZWZuYSBteW5kYmFuZFwiLFxuICAgICAgICBhdWRpbzogXCJFbmR1cm5lZm5hIGhsasOzw7BcIixcbiAgICAgICAgZmlsZTogXCJFbmR1cm5lZm5hIHNrcsOhXCJcbiAgICAgIH0sXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCJFbmR1cm5lZm5hIG15bmRcIixcbiAgICAgICAgdmlkZW86IFwiRW5kdXJuZWZuYSBteW5kYmFuZFwiLFxuICAgICAgICBhdWRpbzogXCJFbmR1cm5lZm5hIGhsasOzw7BcIixcbiAgICAgICAgZmlsZTogXCJFbmR1cm5lZm5hIHNrcsOhXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZG93bmxvYWQ6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiU8Oma2phIG15bmRcIixcbiAgICAgICAgdmlkZW86IFwiU8Oma2phIG15bmRiYW5kXCIsXG4gICAgICAgIGF1ZGlvOiBcIlPDpmtqYSBobGrDs8OwXCIsXG4gICAgICAgIGZpbGU6IFwiU8Oma2phIHNrcsOhXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkV5w7BhIG15bmRcIixcbiAgICAgICAgdmlkZW86IFwiRXnDsGEgbXluZGJhbmRpXCIsXG4gICAgICAgIGF1ZGlvOiBcIkV5w7BhIGhsasOzw7BpXCIsXG4gICAgICAgIGZpbGU6IFwiRXnDsGEgc2tyw6FcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCJTa2lwdGEgdW0gZm9yc2tvw7B1blwiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkZlbGxhIGJsb2trIHNhbWFuXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkFmw77DvcOwYSBibG9ra1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiVmluc3RyaWphZm5hIHRleHRhXCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCJNacOwanVzdGlsbGEgdGV4dGFcIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiSMOmZ3JpamFmbmEgdGV4dGFcIlxuICAgIH0sXG4gICAgYWxpZ25fanVzdGlmeToge1xuICAgICAgdG9vbHRpcDogXCJKYWZuYSB0ZXh0YVwiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJIbGHDsGEgdXBwXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIkhsYcOwYSB1cHAgbXluZFwiLFxuICAgICAgICB2aWRlbzogXCJIbGHDsGEgdXBwIG15bmRiYW5kXCIsXG4gICAgICAgIGF1ZGlvOiBcIkhsYcOwYSB1cHAgaGxqw7PDsFwiLFxuICAgICAgICBmaWxlOiBcIkhsYcOwYSB1cHAgc2tyw6FcIlxuICAgICAgfSxcbiAgICAgIHVwbG9hZF9lcnJvcjogXCJWaWxsYTogVXBwaGxlw7BzbGEgbWlzdMOza3N0XCJcbiAgICB9LFxuICAgIGVtYmVkOiB7XG4gICAgICB0aXRsZTogXCJJbm5zZXRqYVwiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcIklubnNldGphIG15bmRcIixcbiAgICAgICAgdmlkZW86IFwiSW5uc2V0amEgbXluZGJhbmRcIixcbiAgICAgICAgYXVkaW86IFwiSW5uc2V0amEgaGxqw7PDsFwiLFxuICAgICAgICBmaWxlOiBcIklubnNldGphIHNrcsOhXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiU2zDocOwdSBpbm4gVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJGamFybMOmZ2phIHRlbmdpbFwiXG4gICAgfSxcbiAgICBlZGl0OiB7XG4gICAgICB0ZXh0OiBcIkJyZXl0YSB0ZW5nbGlcIixcbiAgICAgIHRvb2x0aXA6IFwiQnJleXRhXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwiT3BuYSDDrSBuw71qdW0gZmxpcGFcIlxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgdGl0bGVfcGxhY2Vob2xkZXI6IFwiQnJleXRhIHRpdGxpXCIsXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiQnJleXRhIFVSTFwiXG4gICAgfVxuICB9LFxuICBnZW5lcmljOiB7XG4gICAgY3RybF9zaG9ydGN1dDogXCJDdHJsXCJcbiAgfVxufSwgZm8gPSB7XG4gIHNsYXNoX21lbnU6IHtcbiAgICBoZWFkaW5nOiB7XG4gICAgICB0aXRsZTogXCLopovlh7rjgZfvvJFcIixcbiAgICAgIHN1YnRleHQ6IFwi44OI44OD44OX44Os44OZ44Or44Gu6KaL5Ye644GX44Gr5L2/55SoXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwi6KaL5Ye644GX77yRXCIsIFwiaDFcIiwgXCLlpKfopovlh7rjgZdcIl0sXG4gICAgICBncm91cDogXCLopovlh7rjgZdcIlxuICAgIH0sXG4gICAgaGVhZGluZ18yOiB7XG4gICAgICB0aXRsZTogXCLopovlh7rjgZfvvJJcIixcbiAgICAgIHN1YnRleHQ6IFwi6YeN6KaB44Gq44K744Kv44K344On44Oz44Gr5L2/55SoXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcIuimi+WHuuOBlzJcIiwgXCJzdWJoZWFkaW5nXCIsIFwi5Lit6KaL5Ye644GXXCJdLFxuICAgICAgZ3JvdXA6IFwi6KaL5Ye644GXXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMzoge1xuICAgICAgdGl0bGU6IFwi6KaL5Ye644GX77yTXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuOCu+OCr+OCt+ODp+ODs+OChOOCsOODq+ODvOODl+OBruimi+WHuuOBl+OBq+S9v+eUqFwiLFxuICAgICAgYWxpYXNlczogW1wiaDNcIiwgXCLopovlh7rjgZczXCIsIFwic3ViaGVhZGluZ1wiLCBcIuWwj+imi+WHuuOBl1wiXSxcbiAgICAgIGdyb3VwOiBcIuimi+WHuuOBl1wiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCLnlarlj7fku5jjg6rjgrnjg4hcIixcbiAgICAgIHN1YnRleHQ6IFwi55Wq5Y+35LuY44Oq44K544OI44KS6KGo56S644GZ44KL44Gf44KB44Gr5L2/55SoXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwib2xcIixcbiAgICAgICAgXCJsaVwiLFxuICAgICAgICBcIm51bWJlcmVkbGlzdFwiLFxuICAgICAgICBcIm51bWJlcmVkIGxpc3RcIixcbiAgICAgICAgXCLjg6rjgrnjg4hcIixcbiAgICAgICAgXCLnlarlj7fku5jjg6rjgrnjg4hcIixcbiAgICAgICAgXCLnlarlj7cg44Oq44K544OIXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLln7rmnKzjg5bjg63jg4Pjgq9cIlxuICAgIH0sXG4gICAgYnVsbGV0X2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIueuh+adoeabuOOBjVwiLFxuICAgICAgc3VidGV4dDogXCLnrofmnaHmm7jjgY3jgpLooajnpLrjgZnjgovjgZ/jgoHjgavkvb/nlKhcIixcbiAgICAgIGFsaWFzZXM6IFtcInVsXCIsIFwibGlcIiwgXCLjg6rjgrnjg4hcIiwgXCLnrofmnaHmm7jjgY3jg6rjgrnjg4hcIl0sXG4gICAgICBncm91cDogXCLln7rmnKzjg5bjg63jg4Pjgq9cIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCLmqJnmupbjg4bjgq3jgrnjg4hcIixcbiAgICAgIHN1YnRleHQ6IFwi5pys5paH44Gr5L2/55SoXCIsXG4gICAgICBhbGlhc2VzOiBbXCJwXCIsIFwicGFyYWdyYXBoXCIsIFwi5qiZ5rqW44OG44Kt44K544OIXCJdLFxuICAgICAgZ3JvdXA6IFwi5Z+65pys44OW44Ot44OD44KvXCJcbiAgICB9LFxuICAgIHRhYmxlOiB7XG4gICAgICB0aXRsZTogXCLooahcIixcbiAgICAgIHN1YnRleHQ6IFwi6KGo44Gr5L2/55SoXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ0YWJsZVwiLCBcIuihqFwiLCBcIuODhuODvOODluODq1wiXSxcbiAgICAgIGdyb3VwOiBcIumrmOW6puOBquODluODreODg+OCr1wiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwi55S75YOPXCIsXG4gICAgICBzdWJ0ZXh0OiBcIueUu+WDj+OCkuaMv+WFpVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImltYWdlXCIsXG4gICAgICAgIFwiaW1hZ2VVcGxvYWRcIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJwaWN0dXJlXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIixcbiAgICAgICAgXCLnlLvlg49cIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIuODoeODh+OCo+OColwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwi44OT44OH44KqXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuODk+ODh+OCquOCkuaMv+WFpVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcInZpZGVvXCIsXG4gICAgICAgIFwidmlkZW9VcGxvYWRcIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDRcIixcbiAgICAgICAgXCJmaWxtXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIixcbiAgICAgICAgXCLjg5Pjg4fjgqpcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIuODoeODh+OCo+OColwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwi44Kq44O844OH44Kj44KqXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuOCquODvOODh+OCo+OCquOCkuaMv+WFpVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImF1ZGlvXCIsXG4gICAgICAgIFwiYXVkaW9VcGxvYWRcIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDNcIixcbiAgICAgICAgXCJzb3VuZFwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCIsXG4gICAgICAgIFwi44Kq44O844OH44Kj44KqXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLjg6Hjg4fjgqPjgqJcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwi44OV44Kh44Kk44OrXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuODleOCoeOCpOODq+OCkuaMv+WFpVwiLFxuICAgICAgYWxpYXNlczogW1wiZmlsZVwiLCBcInVwbG9hZFwiLCBcImVtYmVkXCIsIFwibWVkaWFcIiwgXCJ1cmxcIiwgXCLjg5XjgqHjgqTjg6tcIl0sXG4gICAgICBncm91cDogXCLjg6Hjg4fjgqPjgqJcIlxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJzOiB7XG4gICAgZGVmYXVsdDogXCLjg4bjgq3jgrnjg4jjgpLlhaXlipvjgZnjgovjgYsnLycg44KS5YWl5Yqb44GX44Gm44Kz44Oe44Oz44OJ6YG45oqeXCIsXG4gICAgaGVhZGluZzogXCLopovlh7rjgZdcIixcbiAgICBidWxsZXRMaXN0SXRlbTogXCLjg6rjgrnjg4jjgpLov73liqBcIixcbiAgICBudW1iZXJlZExpc3RJdGVtOiBcIuODquOCueODiOOCkui/veWKoFwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLnlLvlg4/jgpLov73liqBcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLjg5Pjg4fjgqrjgpLov73liqBcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLjgqrjg7zjg4fjgqPjgqrjgpLov73liqBcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIuODleOCoeOCpOODq+OCkui/veWKoFwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCLjg5bjg63jg4Pjgq/jgpLov73liqBcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCLjg5bjg63jg4Pjgq/jg6Hjg4vjg6Xjg7xcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCLliYrpmaRcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwi6Imy44KS5aSJ5pu0XCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCLliJfjgpLliYrpmaRcIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIuihjOOCkuWJiumZpFwiLFxuICAgIGFkZF9sZWZ0X21lbnVpdGVtOiBcIuW3puOBq+WIl+OCkui/veWKoFwiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCLlj7PjgavliJfjgpLov73liqBcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwi5LiK44Gr6KGM44KS6L+95YqgXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIuS4i+OBq+ihjOOCkui/veWKoFwiXG4gIH0sXG4gIHN1Z2dlc3Rpb25fbWVudToge1xuICAgIG5vX2l0ZW1zX3RpdGxlOiBcIuOCouOCpOODhuODoOOBjOimi+OBpOOBi+OCiuOBvuOBm+OCk1wiLFxuICAgIGxvYWRpbmc6IFwi6Kqt6L685Lit4oCmXCJcbiAgfSxcbiAgY29sb3JfcGlja2VyOiB7XG4gICAgdGV4dF90aXRsZTogXCLmloflrZfoibJcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIuiDjOaZr+iJslwiLFxuICAgIGNvbG9yczoge1xuICAgICAgZGVmYXVsdDogXCLjg4fjg5Xjgqnjg6vjg4hcIixcbiAgICAgIGdyYXk6IFwi44Kw44Os44O8XCIsXG4gICAgICBicm93bjogXCLojLboibJcIixcbiAgICAgIHJlZDogXCLotaRcIixcbiAgICAgIG9yYW5nZTogXCLjgqrjg6zjg7PjgrhcIixcbiAgICAgIHllbGxvdzogXCLpu4ToibJcIixcbiAgICAgIGdyZWVuOiBcIue3kVwiLFxuICAgICAgYmx1ZTogXCLpnZJcIixcbiAgICAgIHB1cnBsZTogXCLntKtcIixcbiAgICAgIHBpbms6IFwi44OU44Oz44KvXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi5aSq5a2XXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwi5pac5L2TXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrSVwiXG4gICAgfSxcbiAgICB1bmRlcmxpbmU6IHtcbiAgICAgIHRvb2x0aXA6IFwi5LiL57eaXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrVVwiXG4gICAgfSxcbiAgICBzdHJpa2U6IHtcbiAgICAgIHRvb2x0aXA6IFwi5omT44Gh5raI44GXXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIuOCs+ODvOODiVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiXCJcbiAgICB9LFxuICAgIGNvbG9yczoge1xuICAgICAgdG9vbHRpcDogXCLoibJcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCLjg6rjg7Pjgq9cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtLXCJcbiAgICB9LFxuICAgIGZpbGVfY2FwdGlvbjoge1xuICAgICAgdG9vbHRpcDogXCLjgq3jg6Pjg5fjgrfjg6fjg7PjgpLnt6jpm4ZcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIuOCreODo+ODl+OCt+ODp+ODs+OCkue3qOmbhlwiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44KS572u5o+bXCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOCkue9ruaPm1wiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjgpLnva7mj5tcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjgpLnva7mj5tcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44Gu5ZCN5YmN44KS5aSJ5pu0XCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOBruWQjeWJjeOCkuWkieabtFwiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjga7lkI3liY3jgpLlpInmm7RcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlpInmm7RcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIueUu+WDj+OBruWQjeWJjeOCkuWkieabtFwiLFxuICAgICAgICB2aWRlbzogXCLjg5Pjg4fjgqrjga7lkI3liY3jgpLlpInmm7RcIixcbiAgICAgICAgYXVkaW86IFwi44Kq44O844OH44Kj44Kq44Gu5ZCN5YmN44KS5aSJ5pu0XCIsXG4gICAgICAgIGZpbGU6IFwi44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5aSJ5pu0XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZG93bmxvYWQ6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44KS44OA44Km44Oz44Ot44O844OJXCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOCkuODgOOCpuODs+ODreODvOODiVwiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjgpLjg4Djgqbjg7Pjg63jg7zjg4lcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjgpLjg4Djgqbjg7Pjg63jg7zjg4lcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44KS5YmK6ZmkXCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOCkuWJiumZpFwiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjgpLliYrpmaRcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjgpLliYrpmaRcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCLjg5fjg6zjg5Pjg6Xjg7zjga7liIfjgormm7/jgYhcIlxuICAgIH0sXG4gICAgbmVzdDoge1xuICAgICAgdG9vbHRpcDogXCLjgqTjg7Pjg4fjg7Pjg4jlopdcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwi44Kk44Oz44OH44Oz44OI5ribXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJTaGlmdCtUYWJcIlxuICAgIH0sXG4gICAgYWxpZ25fbGVmdDoge1xuICAgICAgdG9vbHRpcDogXCLlt6bmj4PjgYhcIlxuICAgIH0sXG4gICAgYWxpZ25fY2VudGVyOiB7XG4gICAgICB0b29sdGlwOiBcIuS4reWkruaPg+OBiFwiXG4gICAgfSxcbiAgICBhbGlnbl9yaWdodDoge1xuICAgICAgdG9vbHRpcDogXCLlj7Pmj4PjgYhcIlxuICAgIH0sXG4gICAgYWxpZ25fanVzdGlmeToge1xuICAgICAgdG9vbHRpcDogXCLkuKHnq6/mj4PjgYhcIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwi44Ki44OD44OX44Ot44O844OJXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIueUu+WDj+OCkuOCouODg+ODl+ODreODvOODiVwiLFxuICAgICAgICB2aWRlbzogXCLjg5Pjg4fjgqrjgpLjgqLjg4Pjg5fjg63jg7zjg4lcIixcbiAgICAgICAgYXVkaW86IFwi44Kq44O844OH44Kj44Kq44KS44Ki44OD44OX44Ot44O844OJXCIsXG4gICAgICAgIGZpbGU6IFwi44OV44Kh44Kk44Or44KS44Ki44OD44OX44Ot44O844OJXCJcbiAgICAgIH0sXG4gICAgICB1cGxvYWRfZXJyb3I6IFwi44Ko44Op44O8OiDjgqLjg4Pjg5fjg63jg7zjg4njgYzlpLHmlZfjgZfjgb7jgZfjgZ9cIlxuICAgIH0sXG4gICAgZW1iZWQ6IHtcbiAgICAgIHRpdGxlOiBcIuWfi+OCgei+vOOBv1wiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcIueUu+WDj+OCkuWfi+OCgei+vOOCgFwiLFxuICAgICAgICB2aWRlbzogXCLjg5Pjg4fjgqrjgpLln4vjgoHovrzjgoBcIixcbiAgICAgICAgYXVkaW86IFwi44Kq44O844OH44Kj44Kq44KS5Z+L44KB6L6844KAXCIsXG4gICAgICAgIGZpbGU6IFwi44OV44Kh44Kk44Or44KS5Z+L44KB6L6844KAXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiVVJM44KS5YWl5YqbXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCLjg6rjg7Pjgq/jgpLop6PpmaRcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCLjg6rjg7Pjgq/jgpLnt6jpm4ZcIixcbiAgICAgIHRvb2x0aXA6IFwi57eo6ZuGXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwi5paw44GX44GE44K/44OW44Gn44Oq44Oz44Kv44KS6ZaL44GPXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIuOCv+OCpOODiOODq+OCkue3qOmbhlwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIlVSTOOCkue3qOmbhlwiXG4gICAgfVxuICB9LFxuICBnZW5lcmljOiB7XG4gICAgY3RybF9zaG9ydGN1dDogXCJDdHJsXCJcbiAgfVxufSwgZ28gPSB7XG4gIHNsYXNoX21lbnU6IHtcbiAgICBoZWFkaW5nOiB7XG4gICAgICB0aXRsZTogXCLsoJzrqqkxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuyEueyFmCDsoJzrqqko64yAKVwiLFxuICAgICAgYWxpYXNlczogW1wiaFwiLCBcIuygnOuqqTFcIiwgXCJoMVwiLCBcIuuMgOygnOuqqVwiXSxcbiAgICAgIGdyb3VwOiBcIuygnOuqqVwiXG4gICAgfSxcbiAgICBoZWFkaW5nXzI6IHtcbiAgICAgIHRpdGxlOiBcIuygnOuqqTJcIixcbiAgICAgIHN1YnRleHQ6IFwi7IS57IWYIOygnOuqqSjspJEpXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcIuygnOuqqTJcIiwgXCLspJHsoJzrqqlcIl0sXG4gICAgICBncm91cDogXCLsoJzrqqlcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCLsoJzrqqkzXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuyEueyFmCDsoJzrqqko7IaMKVwiLFxuICAgICAgYWxpYXNlczogW1wiaDNcIiwgXCLsoJzrqqkzXCIsIFwic3ViaGVhZGluZ1wiXSxcbiAgICAgIGdyb3VwOiBcIuygnOuqqVwiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCLrsojtmLgg66ek6riw6riwIOuqqeuhnVwiLFxuICAgICAgc3VidGV4dDogXCLrsojtmLjqsIAg66ek6rKo7KeEIOuqqeuhneydhCDstpTqsIDtlanri4jri6QuXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwi66qp66GdXCIsIFwi67KI7Zi4IOunpOq4sOq4sCDrqqnroZ1cIiwgXCLrsojtmLgg66qp66GdXCJdLFxuICAgICAgZ3JvdXA6IFwi6riw67O4IOu4lOuhnVwiXG4gICAgfSxcbiAgICBidWxsZXRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwi6riA66i466asIOq4sO2YuCDrqqnroZ1cIixcbiAgICAgIHN1YnRleHQ6IFwi6rCE64uo7ZWcIOq4gOuouOumrCDquLDtmLjrpbwg7LaU6rCA7ZWp64uI64ukLlwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcIuuqqeuhnVwiLCBcIuq4gOuouOumrCDquLDtmLgg66qp66GdXCIsIFwi6riA66i466asIOuqqeuhnVwiXSxcbiAgICAgIGdyb3VwOiBcIuq4sOuzuCDruJTroZ1cIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCLrs7jrrLhcIixcbiAgICAgIHN1YnRleHQ6IFwi7J2867CYIO2FjeyKpO2KuFwiLFxuICAgICAgYWxpYXNlczogW1wicFwiLCBcInBhcmFncmFwaFwiLCBcIuuzuOusuFwiXSxcbiAgICAgIGdyb3VwOiBcIuq4sOuzuCDruJTroZ1cIlxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIHRpdGxlOiBcIu2RnFwiLFxuICAgICAgc3VidGV4dDogXCLqsITri6jtlZwg7ZGc66W8IOy2lOqwgO2VqeuLiOuLpC5cIixcbiAgICAgIGFsaWFzZXM6IFtcIu2RnFwiXSxcbiAgICAgIGdyb3VwOiBcIuqzoOq4iVwiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwi7J2066+47KeAXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuydtOuvuOyngCDtjIzsnbzsnYQg7JeF66Gc65Oc7ZWp64uI64ukLlwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImltYWdlXCIsXG4gICAgICAgIFwiaW1hZ2VVcGxvYWRcIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJwaWN0dXJlXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCLsnbTrr7jsp4BcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIuuvuOuUlOyWtFwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwi67mE65SU7JikXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuu5hOuUlOyYpCDsgr3snoVcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBcInZpZGVvVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwiZmlsbVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwi64+Z7JiB7IOBXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLrr7jrlJTslrRcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIuyYpOuUlOyYpFwiLFxuICAgICAgc3VidGV4dDogXCLsmKTrlJTsmKQg7IK97J6FXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwiYXVkaW9cIixcbiAgICAgICAgXCJhdWRpb1VwbG9hZFwiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcIm1wM1wiLFxuICAgICAgICBcInNvdW5kXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCLsmKTrlJTsmKRcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIuuvuOuUlOyWtFwiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICB0aXRsZTogXCLtjIzsnbxcIixcbiAgICAgIHN1YnRleHQ6IFwi7YyM7J28IOyCveyehVwiLFxuICAgICAgYWxpYXNlczogW1wiZmlsZVwiLCBcInVwbG9hZFwiLCBcImVtYmVkXCIsIFwibWVkaWFcIiwgXCLtjIzsnbxcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCLrr7jrlJTslrRcIlxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJzOiB7XG4gICAgZGVmYXVsdDogXCLthY3siqTtirjrpbwg7J6F66Cl7ZWY6rGw64KYIC/rpbwg7J6F66Cl7ZWY7JesIOuqheugueydhCDsnoXroKXtlZjshLjsmpQuXCIsXG4gICAgaGVhZGluZzogXCLsoJzrqqlcIixcbiAgICBidWxsZXRMaXN0SXRlbTogXCLrqqnroZ1cIixcbiAgICBudW1iZXJlZExpc3RJdGVtOiBcIuuqqeuhnVwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLsnbTrr7jsp4Ag7LaU6rCAXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwi67mE65SU7JikIOy2lOqwgFwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIuyYpOuUlOyYpCDstpTqsIBcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIu2MjOydvCDstpTqsIBcIlxuICAgIH1cbiAgfSxcbiAgLy8gZnJvbSByZWFjdCBwYWNrYWdlOlxuICBzaWRlX21lbnU6IHtcbiAgICBhZGRfYmxvY2tfbGFiZWw6IFwi67iU66GdIOy2lOqwgFwiLFxuICAgIGRyYWdfaGFuZGxlX2xhYmVsOiBcIuu4lOuhnSDrqZTribQg7Je06riwXCJcbiAgfSxcbiAgZHJhZ19oYW5kbGU6IHtcbiAgICBkZWxldGVfbWVudWl0ZW06IFwi7IKt7KCcXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIuyDieq5lFwiXG4gIH0sXG4gIHRhYmxlX2hhbmRsZToge1xuICAgIGRlbGV0ZV9jb2x1bW5fbWVudWl0ZW06IFwi7Je0IDHqsJwg7IKt7KCcXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCLtlokg7IKt7KCcXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwi7Jm87Kq97JeQIOyXtCAx6rCcIOy2lOqwgFwiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCLsmKTrpbjsqr3sl5Ag7Je0IDHqsJwg7LaU6rCAXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcIuychOyXkCDtlokgMeqwnCDstpTqsIBcIixcbiAgICBhZGRfYmVsb3dfbWVudWl0ZW06IFwi7JWE656Y7JeQIO2WiSAx6rCcIOy2lOqwgFwiXG4gIH0sXG4gIHN1Z2dlc3Rpb25fbWVudToge1xuICAgIG5vX2l0ZW1zX3RpdGxlOiBcIu2VreuqqeydhCDssL7snYQg7IiYIOyXhuydjFwiLFxuICAgIGxvYWRpbmc6IFwi66Gc65SpIOykkeKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwi7YWN7Iqk7Yq4XCIsXG4gICAgYmFja2dyb3VuZF90aXRsZTogXCLrsLDqsr1cIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwi6riw67O4XCIsXG4gICAgICBncmF5OiBcIu2ajOyDiVwiLFxuICAgICAgYnJvd246IFwi6rCI7IOJXCIsXG4gICAgICByZWQ6IFwi67mo6rCE7IOJXCIsXG4gICAgICBvcmFuZ2U6IFwi7KO87Zmp7IOJXCIsXG4gICAgICB5ZWxsb3c6IFwi64W4656A7IOJXCIsXG4gICAgICBncmVlbjogXCLrhbnsg4lcIixcbiAgICAgIGJsdWU6IFwi7YyM656A7IOJXCIsXG4gICAgICBwdXJwbGU6IFwi67O065287IOJXCIsXG4gICAgICBwaW5rOiBcIuu2hO2ZjeyDiVwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIuynhO2VmOqyjFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0JcIlxuICAgIH0sXG4gICAgaXRhbGljOiB7XG4gICAgICB0b29sdGlwOiBcIuq4sOyauOyehFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIuuwkeykhFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIuy3qOyGjOyEoFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCLsvZTrk5xcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwi7IOJ6rmUXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwi66eB7YGsIOunjOuTpOq4sFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcIuydtOuvuOyngCDsuqHshZgg7IiY7KCVXCIsXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjogXCLsnbTrr7jsp4Ag7Lqh7IWYIOyImOyglVwiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi7J2066+47KeAIOq1kOyytFwiLFxuICAgICAgICB2aWRlbzogXCLruYTrlJTsmKQg6rWQ7LK0XCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDqtZDssrRcIixcbiAgICAgICAgZmlsZTogXCLtjIzsnbwg6rWQ7LK0XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcmVuYW1lOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIuydtOuvuOyngCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIHZpZGVvOiBcIuu5hOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGZpbGU6IFwi7YyM7J28IOydtOumhCDrs4Dqsr1cIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIuydtOuvuOyngCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIHZpZGVvOiBcIuu5hOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGZpbGU6IFwi7YyM7J28IOydtOumhCDrs4Dqsr1cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kb3dubG9hZDoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCLsnbTrr7jsp4Ag64uk7Jq066Gc65OcXCIsXG4gICAgICAgIHZpZGVvOiBcIuu5hOuUlOyYpCDri6TsmrTroZzrk5xcIixcbiAgICAgICAgYXVkaW86IFwi7Jik65SU7JikIOuLpOyatOuhnOuTnFwiLFxuICAgICAgICBmaWxlOiBcIu2MjOydvCDri6TsmrTroZzrk5xcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi7J2066+47KeAIOyCreygnFwiLFxuICAgICAgICB2aWRlbzogXCLruYTrlJTsmKQg7IKt7KCcXCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsgq3soJxcIixcbiAgICAgICAgZmlsZTogXCLtjIzsnbwg7IKt7KCcXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwi66+466as67O06riwIOyghO2ZmFwiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIuykkeyyqSDruJTroZ1cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwi67mE7KSR7LKpIOu4lOuhnVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi7YWN7Iqk7Yq4IOyZvOyqvSDrp57stqRcIlxuICAgIH0sXG4gICAgYWxpZ25fY2VudGVyOiB7XG4gICAgICB0b29sdGlwOiBcIu2FjeyKpO2KuCDqsIDsmrTrjbAg66ee7LakXCJcbiAgICB9LFxuICAgIGFsaWduX3JpZ2h0OiB7XG4gICAgICB0b29sdGlwOiBcIu2FjeyKpO2KuCDsmKTrpbjsqr0g66ee7LakXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwi7YWN7Iqk7Yq4IOyWkeyqvSDrp57stqRcIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwi7JeF66Gc65OcXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIuydtOuvuOyngCDsl4XroZzrk5xcIixcbiAgICAgICAgdmlkZW86IFwi67mE65SU7JikIOyXheuhnOuTnFwiLFxuICAgICAgICBhdWRpbzogXCLsmKTrlJTsmKQg7JeF66Gc65OcXCIsXG4gICAgICAgIGZpbGU6IFwi7YyM7J28IOyXheuhnOuTnFwiXG4gICAgICB9LFxuICAgICAgdXBsb2FkX2Vycm9yOiBcIuyYpOulmDog7JeF66Gc65OcIOyLpO2MqFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwi7J6E67Kg65OcXCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwi7J2066+47KeAIOyCveyehVwiLFxuICAgICAgICB2aWRlbzogXCLruYTrlJTsmKQg7IK97J6FXCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsgr3snoVcIixcbiAgICAgICAgZmlsZTogXCLtjIzsnbwg7IK97J6FXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiVVJM7J2EIOyeheugpe2VmOyEuOyalC5cIlxuICAgIH1cbiAgfSxcbiAgbGlua190b29sYmFyOiB7XG4gICAgZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiBcIuunge2BrCDsgq3soJxcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCLrp4Htgawg7IiY7KCVXCIsXG4gICAgICB0b29sdGlwOiBcIuyImOyglVwiXG4gICAgfSxcbiAgICBvcGVuOiB7XG4gICAgICB0b29sdGlwOiBcIuyDiCDtg63snLzroZwg7Je06riwXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIuygnOuqqSDsiJjsoJVcIixcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCJVUkwg7IiY7KCVXCJcbiAgICB9XG4gIH0sXG4gIGdlbmVyaWM6IHtcbiAgICBjdHJsX3Nob3J0Y3V0OiBcIkN0cmxcIlxuICB9XG59LCBibyA9IHtcbiAgc2xhc2hfbWVudToge1xuICAgIGhlYWRpbmc6IHtcbiAgICAgIHRpdGxlOiBcIktvcCAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkdlYnJ1aWt0IHZvb3IgZWVuIGhvb2Zka29wXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwia29wMVwiLCBcImgxXCJdLFxuICAgICAgZ3JvdXA6IFwiS29wcGVuXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwiS29wIDJcIixcbiAgICAgIHN1YnRleHQ6IFwiR2VicnVpa3Qgdm9vciBiZWxhbmdyaWprZSBzZWN0aWVzXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcImtvcDJcIiwgXCJzdWJrb3BcIl0sXG4gICAgICBncm91cDogXCJLb3BwZW5cIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJLb3AgM1wiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCB2b29yIHN1YnNlY3RpZXMgZW4gZ3JvZXBza29wcGVuXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcImtvcDNcIiwgXCJzdWJrb3BcIl0sXG4gICAgICBncm91cDogXCJLb3BwZW5cIlxuICAgIH0sXG4gICAgbnVtYmVyZWRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiR2VudW1tZXJkZSBMaWpzdFwiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCBvbSBlZW4gZ2VudW1tZXJkZSBsaWpzdCB3ZWVyIHRlIGdldmVuXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwibGlqc3RcIiwgXCJnZW51bW1lcmRlbGlqc3RcIiwgXCJnZW51bW1lcmRlIGxpanN0XCJdLFxuICAgICAgZ3JvdXA6IFwiQmFzaXNibG9ra2VuXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJQdW50ZW5saWpzdFwiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCBvbSBlZW4gb25nZW9yZGVuZGUgbGlqc3Qgd2VlciB0ZSBnZXZlblwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImxpanN0XCIsIFwicHVudGVubGlqc3RcIiwgXCJwdW50ZW4gbGlqc3RcIl0sXG4gICAgICBncm91cDogXCJCYXNpc2Jsb2trZW5cIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCJQYXJhZ3JhYWZcIixcbiAgICAgIHN1YnRleHQ6IFwiR2VicnVpa3Qgdm9vciBkZSBob29mZHRla3N0IHZhbiB1dyBkb2N1bWVudFwiLFxuICAgICAgYWxpYXNlczogW1wicFwiLCBcInBhcmFncmFhZlwiXSxcbiAgICAgIGdyb3VwOiBcIkJhc2lzYmxva2tlblwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiVGFiZWxcIixcbiAgICAgIHN1YnRleHQ6IFwiR2VicnVpa3Qgdm9vciB0YWJlbGxlblwiLFxuICAgICAgYWxpYXNlczogW1widGFiZWxcIl0sXG4gICAgICBncm91cDogXCJHZWF2YW5jZWVyZFwiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiQWZiZWVsZGluZ1wiLFxuICAgICAgc3VidGV4dDogXCJWb2VnIGVlbiBhZmJlZWxkaW5nIGluXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwiYWZiZWVsZGluZ1wiLFxuICAgICAgICBcImltYWdlVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwiaW1nXCIsXG4gICAgICAgIFwiZm90b1wiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwiVmlkZW9cIixcbiAgICAgIHN1YnRleHQ6IFwiVm9lZyBlZW4gdmlkZW8gaW5cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBcInZpZGVvVXBsb2FkZW5cIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDRcIixcbiAgICAgICAgXCJmaWxtXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIixcbiAgICAgICAgXCJkcml2ZVwiLFxuICAgICAgICBcImRyb3Bib3hcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1lZGlhXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICB0aXRsZTogXCJBdWRpb1wiLFxuICAgICAgc3VidGV4dDogXCJWb2VnIGF1ZGlvIGluXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwiYXVkaW9cIixcbiAgICAgICAgXCJhdWRpb1VwbG9hZGVuXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwibXAzXCIsXG4gICAgICAgIFwiZ2VsdWlkXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1lZGlhXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIHRpdGxlOiBcIkJlc3RhbmRcIixcbiAgICAgIHN1YnRleHQ6IFwiVm9lZyBlZW4gYmVzdGFuZCBpblwiLFxuICAgICAgYWxpYXNlczogW1wiYmVzdGFuZFwiLCBcInVwbG9hZFwiLCBcImluc2x1aXRlblwiLCBcIm1lZGlhXCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJzOiB7XG4gICAgZGVmYXVsdDogXCJWb2VyIHRla3N0IGluIG9mIHR5cGUgJy8nIHZvb3IgY29tbWFuZG8nc1wiLFxuICAgIGhlYWRpbmc6IFwiS29wXCIsXG4gICAgYnVsbGV0TGlzdEl0ZW06IFwiTGlqc3RcIixcbiAgICBudW1iZXJlZExpc3RJdGVtOiBcIkxpanN0XCJcbiAgfSxcbiAgZmlsZV9ibG9ja3M6IHtcbiAgICBpbWFnZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFmYmVlbGRpbmcgdG9ldm9lZ2VuXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiVmlkZW8gdG9ldm9lZ2VuXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQXVkaW8gdG9ldm9lZ2VuXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJCZXN0YW5kIHRvZXZvZWdlblwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJOaWV1dyBibG9rXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwiT3BlbiBibG9rIG1lbnVcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCJWZXJ3aWpkZXJcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwiS2xldXJlblwiXG4gIH0sXG4gIHRhYmxlX2hhbmRsZToge1xuICAgIGRlbGV0ZV9jb2x1bW5fbWVudWl0ZW06IFwiVmVyd2lqZGVyIGtvbG9tXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCJWZXJ3aWpkZXIgcmlqXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiVm9lZyBrb2xvbSBsaW5rcyB0b2VcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwiVm9lZyBrb2xvbSByZWNodHMgdG9lXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcIlZvZWcgcmlqIGJvdmVuIHRvZVwiLFxuICAgIGFkZF9iZWxvd19tZW51aXRlbTogXCJWb2VnIHJpaiBvbmRlciB0b2VcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJHZWVuIGl0ZW1zIGdldm9uZGVuXCIsXG4gICAgbG9hZGluZzogXCJMYWRlbuKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwiVGVrc3RcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIkFjaHRlcmdyb25kXCIsXG4gICAgY29sb3JzOiB7XG4gICAgICBkZWZhdWx0OiBcIlN0YW5kYWFyZFwiLFxuICAgICAgZ3JheTogXCJHcmlqc1wiLFxuICAgICAgYnJvd246IFwiQnJ1aW5cIixcbiAgICAgIHJlZDogXCJSb29kXCIsXG4gICAgICBvcmFuZ2U6IFwiT3JhbmplXCIsXG4gICAgICB5ZWxsb3c6IFwiR2VlbFwiLFxuICAgICAgZ3JlZW46IFwiR3JvZW5cIixcbiAgICAgIGJsdWU6IFwiQmxhdXdcIixcbiAgICAgIHB1cnBsZTogXCJQYWFyc1wiLFxuICAgICAgcGluazogXCJSb3plXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiVmV0XCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ3Vyc2llZlwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIk9uZGVyc3RyZXBlblwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIkRvb3JzdHJlcGVuXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIkNvZGVcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwiS2xldXJlblwiXG4gICAgfSxcbiAgICBsaW5rOiB7XG4gICAgICB0b29sdGlwOiBcIk1hYWsgbGlua1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcIkJld2VyayBvbmRlcnNjaHJpZnRcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkJld2VyayBvbmRlcnNjaHJpZnRcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkFmYmVlbGRpbmcgdmVydmFuZ2VuXCIsXG4gICAgICAgIHZpZGVvOiBcIlZpZGVvIHZlcnZhbmdlblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyB2ZXJ2YW5nZW5cIixcbiAgICAgICAgZmlsZTogXCJCZXN0YW5kIHZlcnZhbmdlblwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJBZmJlZWxkaW5nIGhlcm5vZW1lblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyBoZXJub2VtZW5cIixcbiAgICAgICAgYXVkaW86IFwiQXVkaW8gaGVybm9lbWVuXCIsXG4gICAgICAgIGZpbGU6IFwiQmVzdGFuZCBoZXJub2VtZW5cIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIkFmYmVlbGRpbmcgaGVybm9lbWVuXCIsXG4gICAgICAgIHZpZGVvOiBcIlZpZGVvIGhlcm5vZW1lblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyBoZXJub2VtZW5cIixcbiAgICAgICAgZmlsZTogXCJCZXN0YW5kIGhlcm5vZW1lblwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkFmYmVlbGRpbmcgZG93bmxvYWRlblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyBkb3dubG9hZGVuXCIsXG4gICAgICAgIGF1ZGlvOiBcIkF1ZGlvIGRvd25sb2FkZW5cIixcbiAgICAgICAgZmlsZTogXCJCZXN0YW5kIGRvd25sb2FkZW5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiQWZiZWVsZGluZyB2ZXJ3aWpkZXJlblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyB2ZXJ3aWpkZXJlblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyB2ZXJ3aWpkZXJlblwiLFxuICAgICAgICBmaWxlOiBcIkJlc3RhbmQgdmVyd2lqZGVyZW5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCJWb29yYmVlbGRzY2hha2VsYWFyXCJcbiAgICB9LFxuICAgIG5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiTmVzdCBibG9rXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIk9udG5lc3QgYmxva1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiVGVrc3QgbGlua3MgdWl0bGlqbmVuXCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCJUZWtzdCBjZW50cmVyZW5cIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiVGVrc3QgcmVjaHRzIHVpdGxpam5lblwiXG4gICAgfSxcbiAgICBhbGlnbl9qdXN0aWZ5OiB7XG4gICAgICB0b29sdGlwOiBcIlRla3N0IHVpdHZ1bGxlblwiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJVcGxvYWRcIixcbiAgICAgIGZpbGVfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiQWZiZWVsZGluZyB1cGxvYWRlblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyB1cGxvYWRlblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyB1cGxvYWRlblwiLFxuICAgICAgICBmaWxlOiBcIkJlc3RhbmQgdXBsb2FkZW5cIlxuICAgICAgfSxcbiAgICAgIHVwbG9hZF9lcnJvcjogXCJGb3V0OiBVcGxvYWQgbWlzbHVrdFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiSW5zbHVpdGVuXCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwiQWZiZWVsZGluZyBpbnNsdWl0ZW5cIixcbiAgICAgICAgdmlkZW86IFwiVmlkZW8gaW5zbHVpdGVuXCIsXG4gICAgICAgIGF1ZGlvOiBcIkF1ZGlvIGluc2x1aXRlblwiLFxuICAgICAgICBmaWxlOiBcIkJlc3RhbmQgaW5zbHVpdGVuXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiVm9lciBVUkwgaW5cIlxuICAgIH1cbiAgfSxcbiAgbGlua190b29sYmFyOiB7XG4gICAgZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiBcIlZlcndpamRlciBsaW5rXCJcbiAgICB9LFxuICAgIGVkaXQ6IHtcbiAgICAgIHRleHQ6IFwiQmV3ZXJrIGxpbmtcIixcbiAgICAgIHRvb2x0aXA6IFwiQmV3ZXJrXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwiT3BlbiBpbiBuaWV1dyB0YWJibGFkXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIkJld2VyayB0aXRlbFwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkJld2VyayBVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIGtvID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiTmFnxYLDs3dlayAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW55IGRsYSBuYWfFgsOzd2thIG5hand5xbxzemVnbyBwb3ppb211XCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwibmFnbG93ZWsxXCIsIFwiaDFcIl0sXG4gICAgICBncm91cDogXCJOYWfFgsOzd2tpXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwiTmFnxYLDs3dlayAyXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW55IGRsYSBrbHVjem93eWNoIHNla2NqaVwiLFxuICAgICAgYWxpYXNlczogW1wiaDJcIiwgXCJuYWdsb3dlazJcIiwgXCJwb2RuYWdsb3dla1wiXSxcbiAgICAgIGdyb3VwOiBcIk5hZ8WCw7N3a2lcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJOYWfFgsOzd2VrIDNcIixcbiAgICAgIHN1YnRleHQ6IFwiVcW8eXdhbnkgZGxhIHBvZHNla2NqaSBpIGdydXAgbmFnxYLDs3drw7N3XCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcIm5hZ2xvd2VrM1wiLCBcInBvZG5hZ2xvd2VrXCJdLFxuICAgICAgZ3JvdXA6IFwiTmFnxYLDs3draVwiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJMaXN0YSBudW1lcm93YW5hXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW5hIGRvIHd5xZt3aWV0bGFuaWEgbGlzdHkgbnVtZXJvd2FuZWpcIixcbiAgICAgIGFsaWFzZXM6IFtcIm9sXCIsIFwibGlcIiwgXCJsaXN0YVwiLCBcIm51bWVyb3dhbmEgbGlzdGFcIl0sXG4gICAgICBncm91cDogXCJQb2RzdGF3b3dlIGJsb2tpXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJMaXN0YSBwdW5rdG93YW5hXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW5hIGRvIHd5xZt3aWV0bGFuaWEgbGlzdHkgYmV6IG51bWVyYWNqaVwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImxpc3RhXCIsIFwicHVua3Rvd2FuYSBsaXN0YVwiXSxcbiAgICAgIGdyb3VwOiBcIlBvZHN0YXdvd2UgYmxva2lcIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCJBa2FwaXRcIixcbiAgICAgIHN1YnRleHQ6IFwiVcW8eXdhbnkgZGxhIHRyZcWbY2kgZG9rdW1lbnR1XCIsXG4gICAgICBhbGlhc2VzOiBbXCJwXCIsIFwiYWthcGl0XCJdLFxuICAgICAgZ3JvdXA6IFwiUG9kc3Rhd293ZSBibG9raVwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiVGFiZWxhXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW5hIGRvIHR3b3J6ZW5pYSB0YWJlbFwiLFxuICAgICAgYWxpYXNlczogW1widGFiZWxhXCJdLFxuICAgICAgZ3JvdXA6IFwiWmFhd2Fuc293YW5lXCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICB0aXRsZTogXCJaZGrEmWNpZVwiLFxuICAgICAgc3VidGV4dDogXCJXc3RhdyB6ZGrEmWNpZVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm9icmF6XCIsXG4gICAgICAgIFwid3J6dcSHWmRqxJljaWVcIixcbiAgICAgICAgXCJ3cnp1xIdcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJ6ZGrEmWNpZVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwiV2lkZW9cIixcbiAgICAgIHN1YnRleHQ6IFwiV3N0YXcgd2lkZW9cIixcbiAgICAgIGFsaWFzZXM6IFtcIndpZGVvXCIsIFwid3J6dcSHV2lkZW9cIiwgXCJ3cnp1xIdcIiwgXCJtcDRcIiwgXCJmaWxtXCIsIFwibWVkaWFcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwiQXVkaW9cIixcbiAgICAgIHN1YnRleHQ6IFwiV3N0YXcgYXVkaW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJhdWRpb1wiLFxuICAgICAgICBcIndyenXEh0F1ZGlvXCIsXG4gICAgICAgIFwid3J6dcSHXCIsXG4gICAgICAgIFwibXAzXCIsXG4gICAgICAgIFwiZMW6d2nEmWtcIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwiUGxpa1wiLFxuICAgICAgc3VidGV4dDogXCJXc3RhdyBwbGlrXCIsXG4gICAgICBhbGlhc2VzOiBbXCJwbGlrXCIsIFwid3J6dcSHXCIsIFwid3N0YXdcIiwgXCJtZWRpYVwiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIk1lZGlhXCJcbiAgICB9XG4gIH0sXG4gIHBsYWNlaG9sZGVyczoge1xuICAgIGRlZmF1bHQ6IFwiV3Byb3dhZMW6IHRla3N0IGx1YiB3cGlzeiAnLycgYWJ5IHXFvHnEhyBwb2xlY2XFhFwiLFxuICAgIGhlYWRpbmc6IFwiTmFnxYLDs3dla1wiLFxuICAgIGJ1bGxldExpc3RJdGVtOiBcIkxpc3RhXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCJMaXN0YVwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJEb2RhaiB6ZGrEmWNpZVwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkRvZGFqIHdpZGVvXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiRG9kYWogYXVkaW9cIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkRvZGFqIHBsaWtcIlxuICAgIH1cbiAgfSxcbiAgc2lkZV9tZW51OiB7XG4gICAgYWRkX2Jsb2NrX2xhYmVsOiBcIkRvZGFqIGJsb2tcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCJPdHfDs3J6IG1lbnUgYmxva8Ozd1wiXG4gIH0sXG4gIGRyYWdfaGFuZGxlOiB7XG4gICAgZGVsZXRlX21lbnVpdGVtOiBcIlVzdcWEXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIktvbG9yeVwiXG4gIH0sXG4gIHRhYmxlX2hhbmRsZToge1xuICAgIGRlbGV0ZV9jb2x1bW5fbWVudWl0ZW06IFwiVXN1xYQga29sdW1uxJlcIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIlVzdcWEIHdpZXJzelwiLFxuICAgIGFkZF9sZWZ0X21lbnVpdGVtOiBcIkRvZGFqIGtvbHVtbsSZIHBvIGxld2VqXCIsXG4gICAgYWRkX3JpZ2h0X21lbnVpdGVtOiBcIkRvZGFqIGtvbHVtbsSZIHBvIHByYXdlalwiLFxuICAgIGFkZF9hYm92ZV9tZW51aXRlbTogXCJEb2RhaiB3aWVyc3ogcG93ecW8ZWpcIixcbiAgICBhZGRfYmVsb3dfbWVudWl0ZW06IFwiRG9kYWogd2llcnN6IHBvbmnFvGVqXCJcbiAgfSxcbiAgc3VnZ2VzdGlvbl9tZW51OiB7XG4gICAgbm9faXRlbXNfdGl0bGU6IFwiTmllIHpuYWxlemlvbm8gZWxlbWVudMOzd1wiLFxuICAgIGxvYWRpbmc6IFwixYFhZG93YW5pZeKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwiVGVrc3RcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIlTFgm9cIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwiRG9tecWbbG55XCIsXG4gICAgICBncmF5OiBcIlN6YXJ5XCIsXG4gICAgICBicm93bjogXCJCcsSFem93eVwiLFxuICAgICAgcmVkOiBcIkN6ZXJ3b255XCIsXG4gICAgICBvcmFuZ2U6IFwiUG9tYXJhxYRjem93eVwiLFxuICAgICAgeWVsbG93OiBcIsW7w7PFgnR5XCIsXG4gICAgICBncmVlbjogXCJaaWVsb255XCIsXG4gICAgICBibHVlOiBcIk5pZWJpZXNraVwiLFxuICAgICAgcHVycGxlOiBcIkZpb2xldG93eVwiLFxuICAgICAgcGluazogXCJSw7PFvG93eVwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIlBvZ3J1YmllbmllXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwiS3Vyc3l3YVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIlBvZGtyZcWbbGVuaWVcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtVXCJcbiAgICB9LFxuICAgIHN0cmlrZToge1xuICAgICAgdG9vbHRpcDogXCJQcnpla3JlxZtsZW5pZVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCJLb2RcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwiS29sb3J5XCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwiVXR3w7NyeiBsaW5rXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrS1wiXG4gICAgfSxcbiAgICBmaWxlX2NhcHRpb246IHtcbiAgICAgIHRvb2x0aXA6IFwiWm1pZcWEIHBvZHBpc1wiLFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IFwiWm1pZcWEIHBvZHBpc1wiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiWm1pZcWEIG9icmF6XCIsXG4gICAgICAgIHZpZGVvOiBcIlptaWXFhCB3aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJabWllxYQgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJabWllxYQgcGxpa1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJabWllxYQgbmF6d8SZIHpkasSZY2lhXCIsXG4gICAgICAgIHZpZGVvOiBcIlptaWXFhCBuYXp3xJkgd2lkZW9cIixcbiAgICAgICAgYXVkaW86IFwiWm1pZcWEIG5henfEmSBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlptaWXFhCBuYXp3xJkgcGxpa3VcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIlptaWXFhCBuYXp3xJkgemRqxJljaWFcIixcbiAgICAgICAgdmlkZW86IFwiWm1pZcWEIG5henfEmSB3aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJabWllxYQgbmF6d8SZIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiWm1pZcWEIG5henfEmSBwbGlrdVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlBvYmllcnogemRqxJljaWVcIixcbiAgICAgICAgdmlkZW86IFwiUG9iaWVyeiB3aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJQb2JpZXJ6IGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUG9iaWVyeiBwbGlrXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlVzdcWEIHpkasSZY2llXCIsXG4gICAgICAgIHZpZGVvOiBcIlVzdcWEIHdpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlVzdcWEIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiVXN1xYQgcGxpa1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3ByZXZpZXdfdG9nZ2xlOiB7XG4gICAgICB0b29sdGlwOiBcIlByemXFgsSFY3ogcG9kZ2zEhWRcIlxuICAgIH0sXG4gICAgbmVzdDoge1xuICAgICAgdG9vbHRpcDogXCJaYWduaWXFumTFuiBibG9rXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIk9kZ2FnbmllxbpkxbogYmxva1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiV3lyw7N3bmFqIHRla3N0IGRvIGxld2VqXCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCJXecWbcm9ka3VqIHRla3N0XCJcbiAgICB9LFxuICAgIGFsaWduX3JpZ2h0OiB7XG4gICAgICB0b29sdGlwOiBcIld5csOzd25haiB0ZWtzdCBkbyBwcmF3ZWpcIlxuICAgIH0sXG4gICAgYWxpZ25fanVzdGlmeToge1xuICAgICAgdG9vbHRpcDogXCJXeWp1c3R1aiB0ZWtzdFwiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJXcnp1xIdcIixcbiAgICAgIGZpbGVfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiV3J6dcSHIHpkasSZY2llXCIsXG4gICAgICAgIHZpZGVvOiBcIldyenXEhyB3aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJXcnp1xIcgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJXcnp1xIcgcGxpa1wiXG4gICAgICB9LFxuICAgICAgdXBsb2FkX2Vycm9yOiBcIkLFgsSFZDogUHJ6ZXN5xYJhbmllIG5pZSBwb3dpb2TFgm8gc2nEmVwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiV3N0YXdcIixcbiAgICAgIGVtYmVkX2J1dHRvbjoge1xuICAgICAgICBpbWFnZTogXCJXc3RhdyB6ZGrEmWljZVwiLFxuICAgICAgICB2aWRlbzogXCJXc3RhdyB3aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJXc3RhdyBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIldzdGF3IHBsaWtcIlxuICAgICAgfSxcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCJXcHJvd2FkxbogVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJVc3XFhCBsaW5rXCJcbiAgICB9LFxuICAgIGVkaXQ6IHtcbiAgICAgIHRleHQ6IFwiRWR5dHVqIGxpbmtcIixcbiAgICAgIHRvb2x0aXA6IFwiRWR5dHVqXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwiT3R3w7NyeiB3IG5vd2VqIGthcmNpZVwiXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICB0aXRsZV9wbGFjZWhvbGRlcjogXCJFZHl0dWogdHl0dcWCXCIsXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiRWR5dHVqIFVSTFwiXG4gICAgfVxuICB9LFxuICBnZW5lcmljOiB7XG4gICAgY3RybF9zaG9ydGN1dDogXCJDdHJsXCJcbiAgfVxufSwgeW8gPSB7XG4gIHNsYXNoX21lbnU6IHtcbiAgICBoZWFkaW5nOiB7XG4gICAgICB0aXRsZTogXCJUw610dWxvXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzYWRvIHBhcmEgdW0gdMOtdHVsbyBkZSBuw612ZWwgc3VwZXJpb3JcIixcbiAgICAgIGFsaWFzZXM6IFtcImhcIiwgXCJ0aXR1bG8xXCIsIFwiaDFcIl0sXG4gICAgICBncm91cDogXCJUw610dWxvc1wiXG4gICAgfSxcbiAgICBoZWFkaW5nXzI6IHtcbiAgICAgIHRpdGxlOiBcIlTDrXR1bG8gMlwiLFxuICAgICAgc3VidGV4dDogXCJVc2FkbyBwYXJhIHNlw6fDtWVzIHByaW5jaXBhaXNcIixcbiAgICAgIGFsaWFzZXM6IFtcImgyXCIsIFwidGl0dWxvMlwiLCBcInN1YnRpdHVsb1wiXSxcbiAgICAgIGdyb3VwOiBcIlTDrXR1bG9zXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMzoge1xuICAgICAgdGl0bGU6IFwiVMOtdHVsbyAzXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzYWRvIHBhcmEgc3Vic2XDp8O1ZXMgZSB0w610dWxvcyBkZSBncnVwb1wiLFxuICAgICAgYWxpYXNlczogW1wiaDNcIiwgXCJ0aXR1bG8zXCIsIFwic3VidGl0dWxvXCJdLFxuICAgICAgZ3JvdXA6IFwiVMOtdHVsb3NcIlxuICAgIH0sXG4gICAgbnVtYmVyZWRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiTGlzdGEgTnVtZXJhZGFcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNhZG8gcGFyYSBleGliaXIgdW1hIGxpc3RhIG51bWVyYWRhXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwibGlzdGFcIiwgXCJsaXN0YW51bWVyYWRhXCIsIFwibGlzdGEgbnVtZXJhZGFcIl0sXG4gICAgICBncm91cDogXCJCbG9jb3MgQsOhc2ljb3NcIlxuICAgIH0sXG4gICAgYnVsbGV0X2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkxpc3RhIGNvbSBNYXJjYWRvcmVzXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzYWRvIHBhcmEgZXhpYmlyIHVtYSBsaXN0YSBuw6NvIG9yZGVuYWRhXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ1bFwiLCBcImxpXCIsIFwibGlzdGFcIiwgXCJsaXN0YW1hcmNhZG9yZXNcIiwgXCJsaXN0YSBjb20gbWFyY2Fkb3Jlc1wiXSxcbiAgICAgIGdyb3VwOiBcIkJsb2NvcyBCw6FzaWNvc1wiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcIlBhcsOhZ3JhZm9cIixcbiAgICAgIHN1YnRleHQ6IFwiVXNhZG8gcGFyYSBvIGNvcnBvIGRvIHNldSBkb2N1bWVudG9cIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJwYXJhZ3JhZm9cIl0sXG4gICAgICBncm91cDogXCJCbG9jb3MgQsOhc2ljb3NcIlxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIHRpdGxlOiBcIlRhYmVsYVwiLFxuICAgICAgc3VidGV4dDogXCJVc2FkbyBwYXJhIHRhYmVsYXNcIixcbiAgICAgIGFsaWFzZXM6IFtcInRhYmVsYVwiXSxcbiAgICAgIGdyb3VwOiBcIkF2YW7Dp2Fkb1wiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiSW1hZ2VtXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkluc2VyaXIgdW1hIGltYWdlbVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImltYWdlbVwiLFxuICAgICAgICBcInVwbG9hZEltYWdlbVwiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcImltZ1wiLFxuICAgICAgICBcImZvdG9cIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTcOtZGlhXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICB0aXRsZTogXCJWw61kZW9cIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJpciB1bSB2w61kZW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2w61kZW9cIixcbiAgICAgICAgXCJ1cGxvYWRWw61kZW9cIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDRcIixcbiAgICAgICAgXCJmaWxtZVwiLFxuICAgICAgICBcIm3DrWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTcOtZGlhXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICB0aXRsZTogXCLDgXVkaW9cIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJpciB1bSDDoXVkaW9cIixcbiAgICAgIGFsaWFzZXM6IFtcIsOhdWRpb1wiLCBcInVwbG9hZMOBdWRpb1wiLCBcInVwbG9hZFwiLCBcIm1wM1wiLCBcInNvbVwiLCBcIm3DrWRpYVwiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIk3DrWRpYVwiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICB0aXRsZTogXCJBcnF1aXZvXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkluc2VyaXIgdW0gYXJxdWl2b1wiLFxuICAgICAgYWxpYXNlczogW1wiYXJxdWl2b1wiLCBcInVwbG9hZFwiLCBcImluY29ycG9yYXJcIiwgXCJtw61kaWFcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCJNw61kaWFcIlxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJzOiB7XG4gICAgZGVmYXVsdDogXCJEaWdpdGUgdGV4dG8gb3UgdXNlICcvJyBwYXJhIGNvbWFuZG9zXCIsXG4gICAgaGVhZGluZzogXCJUw610dWxvXCIsXG4gICAgYnVsbGV0TGlzdEl0ZW06IFwiTGlzdGFcIixcbiAgICBudW1iZXJlZExpc3RJdGVtOiBcIkxpc3RhXCJcbiAgfSxcbiAgZmlsZV9ibG9ja3M6IHtcbiAgICBpbWFnZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFkaWNpb25hciBpbWFnZW1cIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBZGljaW9uYXIgdsOtZGVvXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQWRpY2lvbmFyIMOhdWRpb1wiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQWRpY2lvbmFyIGFycXVpdm9cIlxuICAgIH1cbiAgfSxcbiAgLy8gZnJvbSByZWFjdCBwYWNrYWdlOlxuICBzaWRlX21lbnU6IHtcbiAgICBhZGRfYmxvY2tfbGFiZWw6IFwiQWRpY2lvbmFyIGJsb2NvXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwiQWJyaXIgbWVudSBkbyBibG9jb1wiXG4gIH0sXG4gIGRyYWdfaGFuZGxlOiB7XG4gICAgZGVsZXRlX21lbnVpdGVtOiBcIkV4Y2x1aXJcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwiQ29yZXNcIlxuICB9LFxuICB0YWJsZV9oYW5kbGU6IHtcbiAgICBkZWxldGVfY29sdW1uX21lbnVpdGVtOiBcIkV4Y2x1aXIgY29sdW5hXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCJFeGNsdWlyIGxpbmhhXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiQWRpY2lvbmFyIGNvbHVuYSDDoCBlc3F1ZXJkYVwiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCJBZGljaW9uYXIgY29sdW5hIMOgIGRpcmVpdGFcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwiQWRpY2lvbmFyIGxpbmhhIGFjaW1hXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIkFkaWNpb25hciBsaW5oYSBhYmFpeG9cIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJOZW5odW0gaXRlbSBlbmNvbnRyYWRvXCIsXG4gICAgbG9hZGluZzogXCJDYXJyZWdhbmRv4oCmXCJcbiAgfSxcbiAgY29sb3JfcGlja2VyOiB7XG4gICAgdGV4dF90aXRsZTogXCJUZXh0b1wiLFxuICAgIGJhY2tncm91bmRfdGl0bGU6IFwiRnVuZG9cIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwiUGFkcsOjb1wiLFxuICAgICAgZ3JheTogXCJDaW56YVwiLFxuICAgICAgYnJvd246IFwiTWFycm9tXCIsXG4gICAgICByZWQ6IFwiVmVybWVsaG9cIixcbiAgICAgIG9yYW5nZTogXCJMYXJhbmphXCIsXG4gICAgICB5ZWxsb3c6IFwiQW1hcmVsb1wiLFxuICAgICAgZ3JlZW46IFwiVmVyZGVcIixcbiAgICAgIGJsdWU6IFwiQXp1bFwiLFxuICAgICAgcHVycGxlOiBcIlJveG9cIixcbiAgICAgIHBpbms6IFwiUm9zYVwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIk5lZ3JpdG9cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtCXCJcbiAgICB9LFxuICAgIGl0YWxpYzoge1xuICAgICAgdG9vbHRpcDogXCJJdMOhbGljb1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIlN1YmxpbmhhZG9cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtVXCJcbiAgICB9LFxuICAgIHN0cmlrZToge1xuICAgICAgdG9vbHRpcDogXCJSaXNjYWRvXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIkPDs2RpZ29cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ29yZXNcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCJDcmlhciBsaW5rXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrS1wiXG4gICAgfSxcbiAgICBmaWxlX2NhcHRpb246IHtcbiAgICAgIHRvb2x0aXA6IFwiRWRpdGFyIGxlZ2VuZGFcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkVkaXRhciBsZWdlbmRhXCJcbiAgICB9LFxuICAgIGZpbGVfcmVwbGFjZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJTdWJzdGl0dWlyIGltYWdlbVwiLFxuICAgICAgICB2aWRlbzogXCJTdWJzdGl0dWlyIHbDrWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJTdWJzdGl0dWlyIMOhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlN1YnN0aXR1aXIgYXJxdWl2b1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJSZW5vbWVhciBpbWFnZW1cIixcbiAgICAgICAgdmlkZW86IFwiUmVub21lYXIgdsOtZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlJlbm9tZWFyIMOhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlJlbm9tZWFyIGFycXVpdm9cIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIlJlbm9tZWFyIGltYWdlbVwiLFxuICAgICAgICB2aWRlbzogXCJSZW5vbWVhciB2w61kZW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVub21lYXIgw6F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUmVub21lYXIgYXJxdWl2b1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkJhaXhhciBpbWFnZW1cIixcbiAgICAgICAgdmlkZW86IFwiQmFpeGFyIHbDrWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJCYWl4YXIgw6F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiQmFpeGFyIGFycXVpdm9cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiRXhjbHVpciBpbWFnZW1cIixcbiAgICAgICAgdmlkZW86IFwiRXhjbHVpciB2w61kZW9cIixcbiAgICAgICAgYXVkaW86IFwiRXhjbHVpciDDoXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJFeGNsdWlyIGFycXVpdm9cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCJBbHRlcm5hciB2aXN1YWxpemHDp8Ojb1wiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkFuaW5oYXIgYmxvY29cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiRGVzYW5pbmhhciBibG9jb1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpbmhhciDDoCBlc3F1ZXJkYVwiXG4gICAgfSxcbiAgICBhbGlnbl9jZW50ZXI6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpbmhhciBhbyBjZW50cm9cIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpbmhhciDDoCBkaXJlaXRhXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwiSnVzdGlmaWNhciB0ZXh0b1wiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJVcGxvYWRcIixcbiAgICAgIGZpbGVfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiVXBsb2FkIGRlIGltYWdlbVwiLFxuICAgICAgICB2aWRlbzogXCJVcGxvYWQgZGUgdsOtZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlVwbG9hZCBkZSDDoXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJVcGxvYWQgZGUgYXJxdWl2b1wiXG4gICAgICB9LFxuICAgICAgdXBsb2FkX2Vycm9yOiBcIkVycm86IEZhbGhhIG5vIHVwbG9hZFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiSW5jb3Jwb3JhclwiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcIkluY29ycG9yYXIgaW1hZ2VtXCIsXG4gICAgICAgIHZpZGVvOiBcIkluY29ycG9yYXIgdsOtZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIkluY29ycG9yYXIgw6F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiSW5jb3Jwb3JhciBhcnF1aXZvXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiSW5zaXJhIGEgVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJSZW1vdmVyIGxpbmtcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCJFZGl0YXIgbGlua1wiLFxuICAgICAgdG9vbHRpcDogXCJFZGl0YXJcIlxuICAgIH0sXG4gICAgb3Blbjoge1xuICAgICAgdG9vbHRpcDogXCJBYnJpciBlbSBub3ZhIGFiYVwiXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICB0aXRsZV9wbGFjZWhvbGRlcjogXCJFZGl0YXIgdMOtdHVsb1wiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkVkaXRhciBVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIF9vID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiVGnDqnUgxJHhu4EgSDFcIixcbiAgICAgIHN1YnRleHQ6IFwiU+G7rSBk4bulbmcgY2hvIHRpw6p1IMSR4buBIGPhuqVwIGNhbyBuaOG6pXRcIixcbiAgICAgIGFsaWFzZXM6IFtcImhcIiwgXCJ0aWV1ZGUxXCIsIFwiZGQxXCJdLFxuICAgICAgZ3JvdXA6IFwiVGnDqnUgxJHhu4FcIlxuICAgIH0sXG4gICAgaGVhZGluZ18yOiB7XG4gICAgICB0aXRsZTogXCJUacOqdSDEkeG7gSBIMlwiLFxuICAgICAgc3VidGV4dDogXCJT4butIGThu6VuZyBjaG8gY8OhYyBwaOG6p24gY2jDrW5oXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcInRpZXVkZTJcIiwgXCJ0aWV1ZGVwaHVcIl0sXG4gICAgICBncm91cDogXCJUacOqdSDEkeG7gVwiXG4gICAgfSxcbiAgICBoZWFkaW5nXzM6IHtcbiAgICAgIHRpdGxlOiBcIlRpw6p1IMSR4buBIEgzXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlPhu60gZOG7pW5nIGNobyBwaOG7pSDEkeG7gSB2w6AgdGnDqnUgxJHhu4EgbmjDs21cIixcbiAgICAgIGFsaWFzZXM6IFtcImgzXCIsIFwidGlldWRlM1wiLCBcInRpZXVkZXBodVwiXSxcbiAgICAgIGdyb3VwOiBcIlRpw6p1IMSR4buBXCJcbiAgICB9LFxuICAgIG51bWJlcmVkX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkRhbmggc8OhY2ggxJHDoW5oIHPhu5FcIixcbiAgICAgIHN1YnRleHQ6IFwiU+G7rSBk4bulbmcgxJHhu4MgaGnhu4NuIHRo4buLIGRhbmggc8OhY2ggY8OzIMSRw6FuaCBz4buRXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwiZHNcIiwgXCJkYW5oc2FjaGRzb1wiLCBcImRhbmggc8OhY2ggxJHDoW5oIHPhu5FcIl0sXG4gICAgICBncm91cDogXCJLaOG7kWkgY8ahIGLhuqNuXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJEYW5oIHPDoWNoXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlPhu60gZOG7pW5nIMSR4buDIGhp4buDbiB0aOG7iyBkYW5oIHPDoWNoIGtow7RuZyDEkcOhbmggc+G7kVwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImRzXCIsIFwiZGFuaHNhY2hcIiwgXCJkYW5oIHPDoWNoXCJdLFxuICAgICAgZ3JvdXA6IFwiS2jhu5FpIGPGoSBi4bqjblwiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcIsSQb+G6oW4gdsSDblwiLFxuICAgICAgc3VidGV4dDogXCJT4butIGThu6VuZyBjaG8gbuG7mWkgZHVuZyBjaMOtbmggY+G7p2EgdMOgaSBsaeG7h3VcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJkb2FudmFuXCJdLFxuICAgICAgZ3JvdXA6IFwiS2jhu5FpIGPGoSBi4bqjblwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiQuG6o25nXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlPhu60gZOG7pW5nIMSR4buDIHThuqFvIGLhuqNuZ1wiLFxuICAgICAgYWxpYXNlczogW1wiYmFuZ1wiXSxcbiAgICAgIGdyb3VwOiBcIk7Dom5nIGNhb1wiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiSMOsbmgg4bqjbmhcIixcbiAgICAgIHN1YnRleHQ6IFwiQ2jDqG4gaMOsbmgg4bqjbmhcIixcbiAgICAgIGFsaWFzZXM6IFtcImFuaFwiLCBcInRhaS1sZW4tYW5oXCIsIFwidGFpLWxlblwiLCBcImltZ1wiLCBcImhpbmhcIiwgXCJtZWRpYVwiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIlBoxrDGoW5nIHRp4buHblwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwiVmlkZW9cIixcbiAgICAgIHN1YnRleHQ6IFwiQ2jDqG4gdmlkZW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBcInRhaS1sZW4tdmlkZW9cIixcbiAgICAgICAgXCJ0YWktbGVuXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwicGhpbVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJQaMawxqFuZyB0aeG7h25cIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIsOCbSB0aGFuaFwiLFxuICAgICAgc3VidGV4dDogXCJDaMOobiDDom0gdGhhbmhcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCLDom0gdGhhbmhcIixcbiAgICAgICAgXCJ0YWktbGVuLWFtLXRoYW5oXCIsXG4gICAgICAgIFwidGFpLWxlblwiLFxuICAgICAgICBcIm1wM1wiLFxuICAgICAgICBcImFtIHRoYW5oXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIlBoxrDGoW5nIHRp4buHblwiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICB0aXRsZTogXCJU4buHcFwiLFxuICAgICAgc3VidGV4dDogXCJDaMOobiB04buHcFwiLFxuICAgICAgYWxpYXNlczogW1widGVwXCIsIFwidGFpLWxlblwiLCBcIm5odW5nXCIsIFwibWVkaWFcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCJQaMawxqFuZyB0aeG7h25cIlxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJzOiB7XG4gICAgZGVmYXVsdDogXCJOaOG6rXAgdsSDbiBi4bqjbiBob+G6t2MgZ8O1ICcvJyDEkeG7gyB0aMOqbSDEkeG7i25oIGThuqFuZ1wiLFxuICAgIGhlYWRpbmc6IFwiVGnDqnUgxJHhu4FcIixcbiAgICBidWxsZXRMaXN0SXRlbTogXCJEYW5oIHPDoWNoXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCJEYW5oIHPDoWNoXCJcbiAgfSxcbiAgZmlsZV9ibG9ja3M6IHtcbiAgICBpbWFnZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIlRow6ptIOG6o25oXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiVGjDqm0gdmlkZW9cIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJUaMOqbSDDom0gdGhhbmhcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIlRow6ptIHThu4dwXCJcbiAgICB9XG4gIH0sXG4gIC8vIHThu6sgZ8OzaSBwaOG6o24g4bupbmc6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJUaMOqbSBraOG7kWlcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCJN4bufIHRyw6xuaCDEkcahbiBraOG7kWlcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCJYw7NhXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIk3DoHUgc+G6r2NcIlxuICB9LFxuICB0YWJsZV9oYW5kbGU6IHtcbiAgICBkZWxldGVfY29sdW1uX21lbnVpdGVtOiBcIljDs2EgY+G7mXRcIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIljDs2EgaMOgbmdcIixcbiAgICBhZGRfbGVmdF9tZW51aXRlbTogXCJUaMOqbSBj4buZdCBiw6puIHRyw6FpXCIsXG4gICAgYWRkX3JpZ2h0X21lbnVpdGVtOiBcIlRow6ptIGPhu5l0IGLDqm4gcGjhuqNpXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcIlRow6ptIGjDoG5nIHBow61hIHRyw6puXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIlRow6ptIGjDoG5nIHBow61hIGTGsOG7m2lcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJLaMO0bmcgdMOsbSB0aOG6pXkgbeG7pWMgbsOgb1wiLFxuICAgIGxvYWRpbmc6IFwixJBhbmcgdOG6o2kuLi5cIlxuICB9LFxuICBjb2xvcl9waWNrZXI6IHtcbiAgICB0ZXh0X3RpdGxlOiBcIlbEg24gYuG6o25cIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIk7hu4FuXCIsXG4gICAgY29sb3JzOiB7XG4gICAgICBkZWZhdWx0OiBcIk3hurdjIMSR4buLbmhcIixcbiAgICAgIGdyYXk6IFwiWMOhbVwiLFxuICAgICAgYnJvd246IFwiTsOidVwiLFxuICAgICAgcmVkOiBcIsSQ4buPXCIsXG4gICAgICBvcmFuZ2U6IFwiQ2FtXCIsXG4gICAgICB5ZWxsb3c6IFwiVsOgbmdcIixcbiAgICAgIGdyZWVuOiBcIlhhbmggbMOhXCIsXG4gICAgICBibHVlOiBcIlhhbmggZMawxqFuZ1wiLFxuICAgICAgcHVycGxlOiBcIlTDrW1cIixcbiAgICAgIHBpbms6IFwiSOG7k25nXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiSW4gxJHhuq1tXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwiSW4gbmdoacOqbmdcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtJXCJcbiAgICB9LFxuICAgIHVuZGVybGluZToge1xuICAgICAgdG9vbHRpcDogXCJH4bqhY2ggZMaw4bubaVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIkfhuqFjaCBuZ2FuZ1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCJDb2RlXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcIk3DoHUgc+G6r2NcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCJU4bqhbyBsacOqbiBr4bq/dFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcIkNo4buJbmggc+G7rWEgY2jDuiB0aMOtY2hcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkNo4buJbmggc+G7rWEgY2jDuiB0aMOtY2hcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlRoYXkgdGjhur8gaMOsbmgg4bqjbmhcIixcbiAgICAgICAgdmlkZW86IFwiVGhheSB0aOG6vyB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJUaGF5IHRo4bq/IMOibSB0aGFuaFwiLFxuICAgICAgICBmaWxlOiBcIlRoYXkgdGjhur8gdOG7h3BcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwixJDhu5VpIHTDqm4gaMOsbmgg4bqjbmhcIixcbiAgICAgICAgdmlkZW86IFwixJDhu5VpIHTDqm4gdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwixJDhu5VpIHTDqm4gw6JtIHRoYW5oXCIsXG4gICAgICAgIGZpbGU6IFwixJDhu5VpIHTDqm4gdOG7h3BcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIsSQ4buVaSB0w6puIGjDrG5oIOG6o25oXCIsXG4gICAgICAgIHZpZGVvOiBcIsSQ4buVaSB0w6puIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIsSQ4buVaSB0w6puIMOibSB0aGFuaFwiLFxuICAgICAgICBmaWxlOiBcIsSQ4buVaSB0w6puIHThu4dwXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZG93bmxvYWQ6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiVOG6o2kgeHXhu5FuZyBow6xuaCDhuqNuaFwiLFxuICAgICAgICB2aWRlbzogXCJU4bqjaSB4deG7kW5nIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlThuqNpIHh14buRbmcgw6JtIHRoYW5oXCIsXG4gICAgICAgIGZpbGU6IFwiVOG6o2kgeHXhu5FuZyB04buHcFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2RlbGV0ZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJYw7NhIGjDrG5oIOG6o25oXCIsXG4gICAgICAgIHZpZGVvOiBcIljDs2EgdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiWMOzYSDDom0gdGhhbmhcIixcbiAgICAgICAgZmlsZTogXCJYw7NhIHThu4dwXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ2h1eeG7g24gxJHhu5VpIHhlbSB0csaw4bubY1wiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkzhu5NuZyBraOG7kWlcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiQuG7jyBs4buTbmcga2jhu5FpXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJTaGlmdCtUYWJcIlxuICAgIH0sXG4gICAgYWxpZ25fbGVmdDoge1xuICAgICAgdG9vbHRpcDogXCJDxINuIHRyw6FpIHbEg24gYuG6o25cIlxuICAgIH0sXG4gICAgYWxpZ25fY2VudGVyOiB7XG4gICAgICB0b29sdGlwOiBcIkPEg24gZ2nhu69hIHbEg24gYuG6o25cIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ8SDbiBwaOG6o2kgdsSDbiBi4bqjblwiXG4gICAgfSxcbiAgICBhbGlnbl9qdXN0aWZ5OiB7XG4gICAgICB0b29sdGlwOiBcIkPEg24gxJHhu4F1IHbEg24gYuG6o25cIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwiVOG6o2kgbMOqblwiLFxuICAgICAgZmlsZV9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCJU4bqjaSBsw6puIGjDrG5oIOG6o25oXCIsXG4gICAgICAgIHZpZGVvOiBcIlThuqNpIGzDqm4gdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiVOG6o2kgbMOqbiDDom0gdGhhbmhcIixcbiAgICAgICAgZmlsZTogXCJU4bqjaSBsw6puIHThu4dwXCJcbiAgICAgIH0sXG4gICAgICB1cGxvYWRfZXJyb3I6IFwiTOG7l2k6IFThuqNpIGzDqm4gdGjhuqV0IGLhuqFpXCJcbiAgICB9LFxuICAgIGVtYmVkOiB7XG4gICAgICB0aXRsZTogXCJOaMO6bmdcIixcbiAgICAgIGVtYmVkX2J1dHRvbjoge1xuICAgICAgICBpbWFnZTogXCJOaMO6bmcgaMOsbmgg4bqjbmhcIixcbiAgICAgICAgdmlkZW86IFwiTmjDum5nIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIk5ow7puZyDDom0gdGhhbmhcIixcbiAgICAgICAgZmlsZTogXCJOaMO6bmcgdOG7h3BcIlxuICAgICAgfSxcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCJOaOG6rXAgVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJYw7NhIGxpw6puIGvhur90XCJcbiAgICB9LFxuICAgIGVkaXQ6IHtcbiAgICAgIHRleHQ6IFwiQ2jhu4luaCBz4butYSBsacOqbiBr4bq/dFwiLFxuICAgICAgdG9vbHRpcDogXCJDaOG7iW5oIHPhu61hXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwiTeG7nyB0cm9uZyB0YWIgbeG7m2lcIlxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgdGl0bGVfcGxhY2Vob2xkZXI6IFwiQ2jhu4luaCBz4butYSB0acOqdSDEkeG7gVwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkNo4buJbmggc+G7rWEgVVJMXCJcbiAgICB9XG4gIH0sXG4gIGdlbmVyaWM6IHtcbiAgICBjdHJsX3Nob3J0Y3V0OiBcIkN0cmxcIlxuICB9XG59LCB3byA9IHtcbiAgc2xhc2hfbWVudToge1xuICAgIGhlYWRpbmc6IHtcbiAgICAgIHRpdGxlOiBcIuS4gOe6p+agh+mimFwiLFxuICAgICAgc3VidGV4dDogXCLnlKjkuo7pobbnuqfmoIfpophcIixcbiAgICAgIGFsaWFzZXM6IFtcImhcIiwgXCJoZWFkaW5nMVwiLCBcImgxXCIsIFwi5qCH6aKYXCIsIFwi5LiA57qn5qCH6aKYXCJdLFxuICAgICAgZ3JvdXA6IFwi5qCH6aKYXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwi5LqM57qn5qCH6aKYXCIsXG4gICAgICBzdWJ0ZXh0OiBcIueUqOS6juWFs+mUrumDqOWIhlwiLFxuICAgICAgYWxpYXNlczogW1wiaDJcIiwgXCJoZWFkaW5nMlwiLCBcInN1YmhlYWRpbmdcIiwgXCLmoIfpophcIiwgXCLkuoznuqfmoIfpophcIiwgXCLlia/moIfpophcIl0sXG4gICAgICBncm91cDogXCLmoIfpophcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCLkuInnuqfmoIfpophcIixcbiAgICAgIHN1YnRleHQ6IFwi55So5LqO5bCP6IqC5ZKM5YiG57uE5qCH6aKYXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcImhlYWRpbmczXCIsIFwic3ViaGVhZGluZ1wiLCBcIuagh+mimFwiLCBcIuS4iee6p+agh+mimFwiXSxcbiAgICAgIGdyb3VwOiBcIuagh+mimFwiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCLmnInluo/liJfooahcIixcbiAgICAgIHN1YnRleHQ6IFwi55So5LqO5pi+56S65pyJ5bqP5YiX6KGoXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwib2xcIixcbiAgICAgICAgXCJsaVwiLFxuICAgICAgICBcImxpc3RcIixcbiAgICAgICAgXCJudW1iZXJlZGxpc3RcIixcbiAgICAgICAgXCJudW1iZXJlZCBsaXN0XCIsXG4gICAgICAgIFwi5YiX6KGoXCIsXG4gICAgICAgIFwi5pyJ5bqP5YiX6KGoXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLln7rnoYBcIlxuICAgIH0sXG4gICAgYnVsbGV0X2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIuaXoOW6j+WIl+ihqFwiLFxuICAgICAgc3VidGV4dDogXCLnlKjkuo7mmL7npLrml6Dluo/liJfooahcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ1bFwiLFxuICAgICAgICBcImxpXCIsXG4gICAgICAgIFwibGlzdFwiLFxuICAgICAgICBcImJ1bGxldGxpc3RcIixcbiAgICAgICAgXCJidWxsZXQgbGlzdFwiLFxuICAgICAgICBcIuWIl+ihqFwiLFxuICAgICAgICBcIuaXoOW6j+WIl+ihqFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi5Z+656GAXCJcbiAgICB9LFxuICAgIHBhcmFncmFwaDoge1xuICAgICAgdGl0bGU6IFwi5q616JC9XCIsXG4gICAgICBzdWJ0ZXh0OiBcIueUqOS6juaWh+aho+ato+aWh1wiLFxuICAgICAgYWxpYXNlczogW1wicFwiLCBcInBhcmFncmFwaFwiLCBcInRleHRcIiwgXCLmraPmlodcIl0sXG4gICAgICBncm91cDogXCLln7rnoYBcIlxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIHRpdGxlOiBcIuihqOagvFwiLFxuICAgICAgc3VidGV4dDogXCLkvb/nlKjooajmoLxcIixcbiAgICAgIGFsaWFzZXM6IFtcInRhYmxlXCIsIFwi6KGo5qC8XCJdLFxuICAgICAgZ3JvdXA6IFwi6auY57qn5Yqf6IO9XCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICB0aXRsZTogXCLlm77niYdcIixcbiAgICAgIHN1YnRleHQ6IFwi5o+S5YWl5Zu+54mHXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwi5Zu+54mHXCIsXG4gICAgICAgIFwi5LiK5Lyg5Zu+54mHXCIsXG4gICAgICAgIFwi5LiK5LygXCIsXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCLnm7jlhoxcIixcbiAgICAgICAgXCLlqpLkvZNcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIuWqkuS9k1wiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwi6KeG6aKRXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuaPkuWFpeinhumikVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIuinhumikVwiLFxuICAgICAgICBcIuinhumikeS4iuS8oFwiLFxuICAgICAgICBcIuS4iuS8oFwiLFxuICAgICAgICBcInZpZGVvXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwi55S15b2xXCIsXG4gICAgICAgIFwi5aqS5L2TXCIsXG4gICAgICAgIFwidXJsXCIsXG4gICAgICAgIFwi6amx5YqoXCIsXG4gICAgICAgIFwiZHJvcGJveFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi5aqS5L2TXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICB0aXRsZTogXCLpn7PpopFcIixcbiAgICAgIHN1YnRleHQ6IFwi5o+S5YWl6Z+z6aKRXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwi6Z+z6aKRXCIsXG4gICAgICAgIFwi6Z+z6aKR5LiK5LygXCIsXG4gICAgICAgIFwi5LiK5LygXCIsXG4gICAgICAgIFwiYXVkaW9cIixcbiAgICAgICAgXCJtcDNcIixcbiAgICAgICAgXCLlo7Dpn7NcIixcbiAgICAgICAgXCLlqpLkvZNcIixcbiAgICAgICAgXCJ1cmxcIixcbiAgICAgICAgXCLpqbHliqhcIixcbiAgICAgICAgXCJkcm9wYm94XCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLlqpLkvZNcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwi5paH5Lu2XCIsXG4gICAgICBzdWJ0ZXh0OiBcIuaPkuWFpeaWh+S7tlwiLFxuICAgICAgYWxpYXNlczogW1wi5paH5Lu2XCIsIFwi5LiK5LygXCIsIFwiZmlsZVwiLCBcIuW1jOWFpVwiLCBcIuWqkuS9k1wiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIuWqkuS9k1wiXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcnM6IHtcbiAgICBkZWZhdWx0OiBcIui+k+WFpSAnLycg5Lul5L2/55So5ZG95LukXCIsXG4gICAgaGVhZGluZzogXCLmoIfpophcIixcbiAgICBidWxsZXRMaXN0SXRlbTogXCLliJfooahcIixcbiAgICBudW1iZXJlZExpc3RJdGVtOiBcIuWIl+ihqFwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLmt7vliqDlm77niYdcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLmt7vliqDop4bpopFcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLmt7vliqDpn7PpopFcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIua3u+WKoOaWh+S7tlwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCLmt7vliqDlnZdcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCLmiZPlvIDoj5zljZVcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCLliKDpmaRcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwi6aKc6ImyXCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCLliKDpmaTliJdcIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIuWIoOmZpOihjFwiLFxuICAgIGFkZF9sZWZ0X21lbnVpdGVtOiBcIuW3puS+p+a3u+WKoOWIl1wiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCLlj7Pkvqfmt7vliqDliJdcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwi5LiK5pa55re75Yqg6KGMXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIuS4i+aWuea3u+WKoOihjFwiXG4gIH0sXG4gIHN1Z2dlc3Rpb25fbWVudToge1xuICAgIG5vX2l0ZW1zX3RpdGxlOiBcIuaXoOWMuemFjemhuVwiLFxuICAgIGxvYWRpbmc6IFwi5Yqg6L295Lit4oCmXCJcbiAgfSxcbiAgY29sb3JfcGlja2VyOiB7XG4gICAgdGV4dF90aXRsZTogXCLmlofmnKxcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIuiDjOaZr+iJslwiLFxuICAgIGNvbG9yczoge1xuICAgICAgZGVmYXVsdDogXCLpu5jorqRcIixcbiAgICAgIGdyYXk6IFwi54Gw6ImyXCIsXG4gICAgICBicm93bjogXCLmo5XoibJcIixcbiAgICAgIHJlZDogXCLnuqLoibJcIixcbiAgICAgIG9yYW5nZTogXCLmqZnoibJcIixcbiAgICAgIHllbGxvdzogXCLpu4ToibJcIixcbiAgICAgIGdyZWVuOiBcIue7v+iJslwiLFxuICAgICAgYmx1ZTogXCLok53oibJcIixcbiAgICAgIHB1cnBsZTogXCLntKvoibJcIixcbiAgICAgIHBpbms6IFwi57KJ6ImyXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi5Yqg57KXXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwi5pac5L2TXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrSVwiXG4gICAgfSxcbiAgICB1bmRlcmxpbmU6IHtcbiAgICAgIHRvb2x0aXA6IFwi5LiL5YiS57q/XCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrVVwiXG4gICAgfSxcbiAgICBzdHJpa2U6IHtcbiAgICAgIHRvb2x0aXA6IFwi5Yig6Zmk57q/XCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIuS7o+eggeagh+iusFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiXCJcbiAgICB9LFxuICAgIGNvbG9yczoge1xuICAgICAgdG9vbHRpcDogXCLpopzoibJcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCLmt7vliqDpk77mjqVcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtLXCJcbiAgICB9LFxuICAgIGZpbGVfY2FwdGlvbjoge1xuICAgICAgdG9vbHRpcDogXCLnvJbovpHmoIfpophcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIue8lui+keagh+mimFwiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi5pu/5o2i5Zu+54mHXCIsXG4gICAgICAgIHZpZGVvOiBcIuabv+aNouinhumikVwiLFxuICAgICAgICBhdWRpbzogXCLmm7/mjaLpn7PpopFcIixcbiAgICAgICAgZmlsZTogXCLmm7/mjaLmlofku7ZcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi6YeN5ZG95ZCN5Zu+54mHXCIsXG4gICAgICAgIHZpZGVvOiBcIumHjeWRveWQjeinhumikVwiLFxuICAgICAgICBhdWRpbzogXCLph43lkb3lkI3pn7PpopFcIixcbiAgICAgICAgZmlsZTogXCLph43lkb3lkI3mlofku7ZcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIumHjeWRveWQjeWbvueJh1wiLFxuICAgICAgICB2aWRlbzogXCLph43lkb3lkI3op4bpopFcIixcbiAgICAgICAgYXVkaW86IFwi6YeN5ZG95ZCN6Z+z6aKRXCIsXG4gICAgICAgIGZpbGU6IFwi6YeN5ZG95ZCN5paH5Lu2XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZG93bmxvYWQ6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi5LiL6L295Zu+54mHXCIsXG4gICAgICAgIHZpZGVvOiBcIuS4i+i9veinhumikVwiLFxuICAgICAgICBhdWRpbzogXCLkuIvovb3pn7PpopFcIixcbiAgICAgICAgZmlsZTogXCLkuIvovb3mlofku7ZcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi5Yig6Zmk5Zu+54mHXCIsXG4gICAgICAgIHZpZGVvOiBcIuWIoOmZpOinhumikVwiLFxuICAgICAgICBhdWRpbzogXCLliKDpmaTpn7PpopFcIixcbiAgICAgICAgZmlsZTogXCLliKDpmaTmlofku7ZcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCLliIfmjaLpooTop4hcIlxuICAgIH0sXG4gICAgbmVzdDoge1xuICAgICAgdG9vbHRpcDogXCLltYzlpZdcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwi5Y+W5raI5bWM5aWXXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJTaGlmdCtUYWJcIlxuICAgIH0sXG4gICAgYWxpZ25fbGVmdDoge1xuICAgICAgdG9vbHRpcDogXCLlt6blr7npvZBcIlxuICAgIH0sXG4gICAgYWxpZ25fY2VudGVyOiB7XG4gICAgICB0b29sdGlwOiBcIuWxheS4rVwiXG4gICAgfSxcbiAgICBhbGlnbl9yaWdodDoge1xuICAgICAgdG9vbHRpcDogXCLlj7Plr7npvZBcIlxuICAgIH0sXG4gICAgYWxpZ25fanVzdGlmeToge1xuICAgICAgdG9vbHRpcDogXCLmlofmnKzlr7npvZBcIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwi5LiK5LygXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIuS4iuS8oOWbvueJh1wiLFxuICAgICAgICB2aWRlbzogXCLkuIrkvKDop4bpopFcIixcbiAgICAgICAgYXVkaW86IFwi5LiK5Lyg6Z+z6aKRXCIsXG4gICAgICAgIGZpbGU6IFwi5LiK5Lyg5paH5Lu2XCJcbiAgICAgIH0sXG4gICAgICB1cGxvYWRfZXJyb3I6IFwiRXJyb3LvvJrkuIrkvKDlpLHotKVcIlxuICAgIH0sXG4gICAgZW1iZWQ6IHtcbiAgICAgIHRpdGxlOiBcIuW1jOWFpVwiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcIuW1jOWFpeWbvueJh1wiLFxuICAgICAgICB2aWRlbzogXCLltYzlhaXop4bpopFcIixcbiAgICAgICAgYXVkaW86IFwi5bWM5YWl6Z+z6aKRXCIsXG4gICAgICAgIGZpbGU6IFwi5bWM5YWl5paH5Lu2XCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwi6L6T5YWl5Zu+54mH5Zyw5Z2AXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCLmuIXpmaTpk77mjqVcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCLnvJbovpHpk77mjqVcIixcbiAgICAgIHRvb2x0aXA6IFwi57yW6L6RXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwi5paw56qX5Y+j5omT5byAXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIue8lui+keagh+mimFwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIue8lui+kemTvuaOpeWcsOWdgFwiXG4gICAgfVxuICB9LFxuICBnZW5lcmljOiB7XG4gICAgY3RybF9zaG9ydGN1dDogXCJDdHJsXCJcbiAgfVxufSwgdnIgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBlbjogWmUsXG4gIGZyOiBobyxcbiAgaXM6IG1vLFxuICBqYTogZm8sXG4gIGtvOiBnbyxcbiAgbmw6IGJvLFxuICBwbDoga28sXG4gIHB0OiB5byxcbiAgdmk6IF9vLFxuICB6aDogd29cbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSk7XG5mdW5jdGlvbiB2byh0LCBlID0gSlNPTi5zdHJpbmdpZnkpIHtcbiAgY29uc3QgbyA9IHt9O1xuICByZXR1cm4gdC5maWx0ZXIoKGkpID0+IHtcbiAgICBjb25zdCBuID0gZShpKTtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIG4pID8gITEgOiBvW25dID0gITA7XG4gIH0pO1xufVxuZnVuY3Rpb24geG8odCkge1xuICBjb25zdCBlID0gdC5maWx0ZXIoXG4gICAgKGksIG4pID0+IHQuaW5kZXhPZihpKSAhPT0gblxuICApO1xuICByZXR1cm4gdm8oZSk7XG59XG5jb25zdCBKID0gVC5jcmVhdGUoe1xuICBuYW1lOiBcInVuaXF1ZUlEXCIsXG4gIC8vIHdl4oCZbGwgc2V0IGEgdmVyeSBoaWdoIHByaW9yaXR5IHRvIG1ha2Ugc3VyZSB0aGlzIHJ1bnMgZmlyc3RcbiAgLy8gYW5kIGlzIGNvbXBhdGlibGUgd2l0aCBgYXBwZW5kVHJhbnNhY3Rpb25gIGhvb2tzIG9mIG90aGVyIGV4dGVuc2lvbnNcbiAgcHJpb3JpdHk6IDFlNCxcbiAgYWRkT3B0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXR0cmlidXRlTmFtZTogXCJpZFwiLFxuICAgICAgdHlwZXM6IFtdLFxuICAgICAgZ2VuZXJhdGVJRDogKCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHdpbmRvdy5fX1RFU1RfT1BUSU9OUykge1xuICAgICAgICAgIGNvbnN0IHQgPSB3aW5kb3cuX19URVNUX09QVElPTlM7XG4gICAgICAgICAgcmV0dXJuIHQubW9ja0lEID09PSB2b2lkIDAgPyB0Lm1vY2tJRCA9IDAgOiB0Lm1vY2tJRCsrLCB0Lm1vY2tJRC50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqdCgpO1xuICAgICAgfSxcbiAgICAgIGZpbHRlclRyYW5zYWN0aW9uOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgYWRkR2xvYmFsQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0eXBlczogdGhpcy5vcHRpb25zLnR5cGVzLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgW3RoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lXToge1xuICAgICAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgICAgIHBhcnNlSFRNTDogKHQpID0+IHQuZ2V0QXR0cmlidXRlKGBkYXRhLSR7dGhpcy5vcHRpb25zLmF0dHJpYnV0ZU5hbWV9YCksXG4gICAgICAgICAgICByZW5kZXJIVE1MOiAodCkgPT4gKHtcbiAgICAgICAgICAgICAgW2BkYXRhLSR7dGhpcy5vcHRpb25zLmF0dHJpYnV0ZU5hbWV9YF06IHRbdGhpcy5vcHRpb25zLmF0dHJpYnV0ZU5hbWVdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH0sXG4gIC8vIGNoZWNrIGluaXRpYWwgY29udGVudCBmb3IgbWlzc2luZyBpZHNcbiAgLy8gb25DcmVhdGUoKSB7XG4gIC8vICAgLy8gRG9u4oCZdCBkbyB0aGlzIHdoZW4gdGhlIGNvbGxhYm9yYXRpb24gZXh0ZW5zaW9uIGlzIGFjdGl2ZVxuICAvLyAgIC8vIGJlY2F1c2UgdGhpcyBtYXkgdXBkYXRlIHRoZSBjb250ZW50LCBzbyBZLmpzIHRyaWVzIHRvIG1lcmdlIHRoZXNlIGNoYW5nZXMuXG4gIC8vICAgLy8gVGhpcyBsZWFkcyB0byBlbXB0eSBibG9jayBub2Rlcy5cbiAgLy8gICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS91ZWJlcmRvc2lzL3RpcHRhcC9pc3N1ZXMvMjQwMFxuICAvLyAgIGlmIChcbiAgLy8gICAgIHRoaXMuZWRpdG9yLmV4dGVuc2lvbk1hbmFnZXIuZXh0ZW5zaW9ucy5maW5kKFxuICAvLyAgICAgICAoZXh0ZW5zaW9uKSA9PiBleHRlbnNpb24ubmFtZSA9PT0gXCJjb2xsYWJvcmF0aW9uXCJcbiAgLy8gICAgIClcbiAgLy8gICApIHtcbiAgLy8gICAgIHJldHVybjtcbiAgLy8gICB9XG4gIC8vICAgY29uc3QgeyB2aWV3LCBzdGF0ZSB9ID0gdGhpcy5lZGl0b3I7XG4gIC8vICAgY29uc3QgeyB0ciwgZG9jIH0gPSBzdGF0ZTtcbiAgLy8gICBjb25zdCB7IHR5cGVzLCBhdHRyaWJ1dGVOYW1lLCBnZW5lcmF0ZUlEIH0gPSB0aGlzLm9wdGlvbnM7XG4gIC8vICAgY29uc3Qgbm9kZXNXaXRob3V0SWQgPSBmaW5kQ2hpbGRyZW4oZG9jLCAobm9kZSkgPT4ge1xuICAvLyAgICAgcmV0dXJuIChcbiAgLy8gICAgICAgdHlwZXMuaW5jbHVkZXMobm9kZS50eXBlLm5hbWUpICYmIG5vZGUuYXR0cnNbYXR0cmlidXRlTmFtZV0gPT09IG51bGxcbiAgLy8gICAgICk7XG4gIC8vICAgfSk7XG4gIC8vICAgbm9kZXNXaXRob3V0SWQuZm9yRWFjaCgoeyBub2RlLCBwb3MgfSkgPT4ge1xuICAvLyAgICAgdHIuc2V0Tm9kZU1hcmt1cChwb3MsIHVuZGVmaW5lZCwge1xuICAvLyAgICAgICAuLi5ub2RlLmF0dHJzLFxuICAvLyAgICAgICBbYXR0cmlidXRlTmFtZV06IGdlbmVyYXRlSUQoKSxcbiAgLy8gICAgIH0pO1xuICAvLyAgIH0pO1xuICAvLyAgIHRyLnNldE1ldGEoXCJhZGRUb0hpc3RvcnlcIiwgZmFsc2UpO1xuICAvLyAgIHZpZXcuZGlzcGF0Y2godHIpO1xuICAvLyB9LFxuICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XG4gICAgbGV0IHQgPSBudWxsLCBlID0gITE7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyB3KHtcbiAgICAgICAga2V5OiBuZXcgeChcInVuaXF1ZUlEXCIpLFxuICAgICAgICBhcHBlbmRUcmFuc2FjdGlvbjogKG8sIGksIG4pID0+IHtcbiAgICAgICAgICBjb25zdCByID0gby5zb21lKChtKSA9PiBtLmRvY0NoYW5nZWQpICYmICFpLmRvYy5lcShuLmRvYyksIGEgPSB0aGlzLm9wdGlvbnMuZmlsdGVyVHJhbnNhY3Rpb24gJiYgby5zb21lKChtKSA9PiB7XG4gICAgICAgICAgICBsZXQgZywgeTtcbiAgICAgICAgICAgIHJldHVybiAhKCEoKHkgPSAoZyA9IHRoaXMub3B0aW9ucykuZmlsdGVyVHJhbnNhY3Rpb24pID09PSBudWxsIHx8IHkgPT09IHZvaWQgMCkgJiYgeS5jYWxsKGcsIG0pKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIXIgfHwgYSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCB7IHRyOiBzIH0gPSBuLCB7IHR5cGVzOiBsLCBhdHRyaWJ1dGVOYW1lOiBkLCBnZW5lcmF0ZUlEOiB1IH0gPSB0aGlzLm9wdGlvbnMsIHAgPSBUdChcbiAgICAgICAgICAgIGkuZG9jLFxuICAgICAgICAgICAgb1xuICAgICAgICAgICksIHsgbWFwcGluZzogaCB9ID0gcDtcbiAgICAgICAgICBpZiAoQnQocCkuZm9yRWFjaCgoeyBuZXdSYW5nZTogbSB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnID0gTHQoXG4gICAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgICBtLFxuICAgICAgICAgICAgICAoRSkgPT4gbC5pbmNsdWRlcyhFLnR5cGUubmFtZSlcbiAgICAgICAgICAgICksIHkgPSBnLm1hcCgoeyBub2RlOiBFIH0pID0+IEUuYXR0cnNbZF0pLmZpbHRlcigoRSkgPT4gRSAhPT0gbnVsbCksIEIgPSB4byh5KTtcbiAgICAgICAgICAgIGcuZm9yRWFjaCgoeyBub2RlOiBFLCBwb3M6ICQgfSkgPT4ge1xuICAgICAgICAgICAgICBsZXQgY2U7XG4gICAgICAgICAgICAgIGNvbnN0IEJlID0gKGNlID0gcy5kb2Mubm9kZUF0KCQpKSA9PT0gbnVsbCB8fCBjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2UuYXR0cnNbZF07XG4gICAgICAgICAgICAgIGlmIChCZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IExlID0gaS5kb2MudHlwZS5jcmVhdGVBbmRGaWxsKCkuY29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoaS5kb2MuY29udGVudC5maW5kRGlmZlN0YXJ0KExlKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgSWUgPSBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuLmRvYy50b0pTT04oKSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpZiAoSWUuY29udGVudFswXS5jb250ZW50WzBdLmF0dHJzLmlkID0gXCJpbml0aWFsQmxvY2tJZFwiLCBKU09OLnN0cmluZ2lmeShJZS5jb250ZW50KSA9PT0gSlNPTi5zdHJpbmdpZnkoTGUudG9KU09OKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuc2V0Tm9kZU1hcmt1cCgkLCB2b2lkIDAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5FLmF0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgIFtkXTogXCJpbml0aWFsQmxvY2tJZFwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMuc2V0Tm9kZU1hcmt1cCgkLCB2b2lkIDAsIHtcbiAgICAgICAgICAgICAgICAgIC4uLkUuYXR0cnMsXG4gICAgICAgICAgICAgICAgICBbZF06IHUoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCB7IGRlbGV0ZWQ6IHh0IH0gPSBoLmludmVydCgpLm1hcFJlc3VsdCgkKTtcbiAgICAgICAgICAgICAgeHQgJiYgQi5pbmNsdWRlcyhCZSkgJiYgcy5zZXROb2RlTWFya3VwKCQsIHZvaWQgMCwge1xuICAgICAgICAgICAgICAgIC4uLkUuYXR0cnMsXG4gICAgICAgICAgICAgICAgW2RdOiB1KClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSwgISFzLnN0ZXBzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9LFxuICAgICAgICAvLyB3ZSByZWdpc3RlciBhIGdsb2JhbCBkcmFnIGhhbmRsZXIgdG8gdHJhY2sgdGhlIGN1cnJlbnQgZHJhZyBzb3VyY2UgZWxlbWVudFxuICAgICAgICB2aWV3KG8pIHtcbiAgICAgICAgICBjb25zdCBpID0gKG4pID0+IHtcbiAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgdCA9ICEoKHIgPSBvLmRvbS5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCByID09PSB2b2lkIDApICYmIHIuY29udGFpbnMobi50YXJnZXQpID8gby5kb20ucGFyZW50RWxlbWVudCA6IG51bGw7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgaSksIHtcbiAgICAgICAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgLy8gYGhhbmRsZURPTUV2ZW50c2AgaXMgY2FsbGVkIGJlZm9yZSBgdHJhbnNmb3JtUGFzdGVkYFxuICAgICAgICAgIC8vIHNvIHdlIGNhbiBkbyBzb21lIGNoZWNrcyBiZWZvcmVcbiAgICAgICAgICBoYW5kbGVET01FdmVudHM6IHtcbiAgICAgICAgICAgIC8vIG9ubHkgY3JlYXRlIG5ldyBpZHMgZm9yIGRyb3BwZWQgY29udGVudCB3aGlsZSBob2xkaW5nIGBhbHRgXG4gICAgICAgICAgICAvLyBvciBjb250ZW50IGlzIGRyYWdnZWQgZnJvbSBhbm90aGVyIGVkaXRvclxuICAgICAgICAgICAgZHJvcDogKG8sIGkpID0+IHtcbiAgICAgICAgICAgICAgbGV0IG47XG4gICAgICAgICAgICAgIHJldHVybiAodCAhPT0gby5kb20ucGFyZW50RWxlbWVudCB8fCAoKG4gPSBpLmRhdGFUcmFuc2ZlcikgPT09IG51bGwgfHwgbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbi5lZmZlY3RBbGxvd2VkKSA9PT0gXCJjb3B5XCIpICYmICh0ID0gbnVsbCwgZSA9ICEwKSwgITE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gYWx3YXlzIGNyZWF0ZSBuZXcgaWRzIG9uIHBhc3RlZCBjb250ZW50XG4gICAgICAgICAgICBwYXN0ZTogKCkgPT4gKGUgPSAhMCwgITEpXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyB3ZeKAmWxsIHJlbW92ZSBpZHMgZm9yIGV2ZXJ5IHBhc3RlZCBub2RlXG4gICAgICAgICAgLy8gc28gd2UgY2FuIGNyZWF0ZSBhIG5ldyBvbmUgd2l0aGluIGBhcHBlbmRUcmFuc2FjdGlvbmBcbiAgICAgICAgICB0cmFuc2Zvcm1QYXN0ZWQ6IChvKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUpXG4gICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlczogaSwgYXR0cmlidXRlTmFtZTogbiB9ID0gdGhpcy5vcHRpb25zLCByID0gKGEpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcyA9IFtdO1xuICAgICAgICAgICAgICByZXR1cm4gYS5mb3JFYWNoKChsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGwuaXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgICBzLnB1c2gobCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaS5pbmNsdWRlcyhsLnR5cGUubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIHMucHVzaChsLmNvcHkocihsLmNvbnRlbnQpKSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBsLnR5cGUuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAuLi5sLmF0dHJzLFxuICAgICAgICAgICAgICAgICAgICBbbl06IG51bGxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICByKGwuY29udGVudCksXG4gICAgICAgICAgICAgICAgICBsLm1hcmtzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzLnB1c2goZCk7XG4gICAgICAgICAgICAgIH0pLCBNLmZyb20ocyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGUgPSAhMSwgbmV3IEgoXG4gICAgICAgICAgICAgIHIoby5jb250ZW50KSxcbiAgICAgICAgICAgICAgby5vcGVuU3RhcnQsXG4gICAgICAgICAgICAgIG8ub3BlbkVuZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgXTtcbiAgfVxufSk7XG5mdW5jdGlvbiBKZSh0KSB7XG4gIGNvbnN0IGUgPSB0LmF0dHJzLmlkLCBvID0gdC5maXJzdENoaWxkLCBpID0gby50eXBlLCBuID0gdC5jaGlsZENvdW50ID09PSAyID8gdC5sYXN0Q2hpbGQuY2hpbGRDb3VudCA6IDA7XG4gIHJldHVybiB7XG4gICAgaWQ6IGUsXG4gICAgbm9kZTogdCxcbiAgICBjb250ZW50Tm9kZTogbyxcbiAgICBjb250ZW50VHlwZTogaSxcbiAgICBudW1DaGlsZEJsb2NrczogblxuICB9O1xufVxuZnVuY3Rpb24gYih0LCBlKSB7XG4gIGNvbnN0IGkgPSB0Lm5vZGVTaXplIC0gMjtcbiAgaWYgKGUgPD0gMSlcbiAgICBmb3IgKGUgPSAxICsgMTsgdC5yZXNvbHZlKGUpLnBhcmVudC50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIiAmJiBlIDwgaTsgKVxuICAgICAgZSsrO1xuICBlbHNlIGlmIChlID49IGkpXG4gICAgZm9yIChlID0gaSAtIDE7IHQucmVzb2x2ZShlKS5wYXJlbnQudHlwZS5uYW1lICE9PSBcImJsb2NrQ29udGFpbmVyXCIgJiYgZSA+IDE7IClcbiAgICAgIGUtLTtcbiAgdC5yZXNvbHZlKGUpLnBhcmVudC50eXBlLm5hbWUgPT09IFwiYmxvY2tHcm91cFwiICYmIGUrKztcbiAgY29uc3QgbiA9IHQucmVzb2x2ZShlKSwgciA9IG4uZGVwdGg7XG4gIGxldCBhID0gbi5ub2RlKHIpLCBzID0gcjtcbiAgZm9yICg7IDsgKSB7XG4gICAgaWYgKHMgPCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNvdWxkIG5vdCBmaW5kIGJsb2NrQ29udGFpbmVyIG5vZGUuIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHRoZSB1bmRlcmx5aW5nIEJsb2NrTm90ZSBzY2hlbWEgaGFzIGJlZW4gZWRpdGVkLlwiXG4gICAgICApO1xuICAgIGlmIChhLnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiKVxuICAgICAgYnJlYWs7XG4gICAgcyAtPSAxLCBhID0gbi5ub2RlKHMpO1xuICB9XG4gIGNvbnN0IHsgaWQ6IGwsIGNvbnRlbnROb2RlOiBkLCBjb250ZW50VHlwZTogdSwgbnVtQ2hpbGRCbG9ja3M6IHAgfSA9IEplKGEpLCBoID0gbi5zdGFydChzKSwgZiA9IG4uZW5kKHMpO1xuICByZXR1cm4ge1xuICAgIGlkOiBsLFxuICAgIG5vZGU6IGEsXG4gICAgY29udGVudE5vZGU6IGQsXG4gICAgY29udGVudFR5cGU6IHUsXG4gICAgbnVtQ2hpbGRCbG9ja3M6IHAsXG4gICAgc3RhcnRQb3M6IGgsXG4gICAgZW5kUG9zOiBmLFxuICAgIGRlcHRoOiBzXG4gIH07XG59XG5mdW5jdGlvbiBIZSh0KSB7XG4gIHJldHVybiB0LnR5cGUgPT09IFwibGlua1wiO1xufVxuZnVuY3Rpb24gWWUodCkge1xuICByZXR1cm4gdHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiB0LnR5cGUgPT09IFwibGlua1wiO1xufVxuZnVuY3Rpb24gWih0KSB7XG4gIHJldHVybiB0eXBlb2YgdCAhPSBcInN0cmluZ1wiICYmIHQudHlwZSA9PT0gXCJ0ZXh0XCI7XG59XG5jbGFzcyBJIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgc3VwZXIoYFVucmVhY2hhYmxlIGNhc2U6ICR7ZX1gKTtcbiAgfVxufVxuZnVuY3Rpb24geHIodCwgZSA9ICEwKSB7XG4gIGNvbnN0IHsgXCJkYXRhLXRlc3RcIjogbywgLi4uaSB9ID0gdDtcbiAgaWYgKE9iamVjdC5rZXlzKGkpLmxlbmd0aCA+IDAgJiYgZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYmplY3QgbXVzdCBiZSBlbXB0eSBcIiArIEpTT04uc3RyaW5naWZ5KHQpKTtcbn1cbmZ1bmN0aW9uIFVlKHQsIGUsIG8pIHtcbiAgY29uc3QgaSA9IFtdO1xuICBmb3IgKGNvbnN0IFtuLCByXSBvZiBPYmplY3QuZW50cmllcyh0LnN0eWxlcykpIHtcbiAgICBjb25zdCBhID0gb1tuXTtcbiAgICBpZiAoIWEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0eWxlICR7bn0gbm90IGZvdW5kIGluIHN0eWxlU2NoZW1hYCk7XG4gICAgaWYgKGEucHJvcFNjaGVtYSA9PT0gXCJib29sZWFuXCIpXG4gICAgICBpLnB1c2goZS5tYXJrKG4pKTtcbiAgICBlbHNlIGlmIChhLnByb3BTY2hlbWEgPT09IFwic3RyaW5nXCIpXG4gICAgICBpLnB1c2goZS5tYXJrKG4sIHsgc3RyaW5nVmFsdWU6IHIgfSkpO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBJKGEucHJvcFNjaGVtYSk7XG4gIH1cbiAgcmV0dXJuIHQudGV4dC5zcGxpdCgvKFxcbikvZykuZmlsdGVyKChuKSA9PiBuLmxlbmd0aCA+IDApLm1hcCgobikgPT4gbiA9PT0gYFxuYCA/IGUubm9kZXMuaGFyZEJyZWFrLmNyZWF0ZSgpIDogZS50ZXh0KG4sIGkpKTtcbn1cbmZ1bmN0aW9uIEVvKHQsIGUsIG8pIHtcbiAgY29uc3QgaSA9IGUubWFya3MubGluay5jcmVhdGUoe1xuICAgIGhyZWY6IHQuaHJlZlxuICB9KTtcbiAgcmV0dXJuIGJlKHQuY29udGVudCwgZSwgbykubWFwKFxuICAgIChuKSA9PiB7XG4gICAgICBpZiAobi50eXBlLm5hbWUgPT09IFwidGV4dFwiKVxuICAgICAgICByZXR1cm4gbi5tYXJrKFsuLi5uLm1hcmtzLCBpXSk7XG4gICAgICBpZiAobi50eXBlLm5hbWUgPT09IFwiaGFyZEJyZWFrXCIpXG4gICAgICAgIHJldHVybiBuO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCBub2RlIHR5cGVcIik7XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gYmUodCwgZSwgbykge1xuICBjb25zdCBpID0gW107XG4gIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBpLnB1c2goXG4gICAgICAuLi5VZShcbiAgICAgICAgeyB0eXBlOiBcInRleHRcIiwgdGV4dDogdCwgc3R5bGVzOiB7fSB9LFxuICAgICAgICBlLFxuICAgICAgICBvXG4gICAgICApXG4gICAgKSwgaTtcbiAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgaS5wdXNoKC4uLlVlKG4sIGUsIG8pKTtcbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBpZSh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBbXTtcbiAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiA/IGkucHVzaCguLi5iZShuLCBlLCBvKSkgOiBZZShuKSA/IGkucHVzaCguLi5FbyhuLCBlLCBvKSkgOiBaKG4pID8gaS5wdXNoKC4uLmJlKFtuXSwgZSwgbykpIDogaS5wdXNoKFxuICAgICAgZXQobiwgZSwgbylcbiAgICApO1xuICByZXR1cm4gaTtcbn1cbmZ1bmN0aW9uIFFlKHQsIGUsIG8pIHtcbiAgY29uc3QgaSA9IFtdO1xuICBmb3IgKGNvbnN0IG4gb2YgdC5yb3dzKSB7XG4gICAgY29uc3QgciA9IFtdO1xuICAgIGZvciAoY29uc3QgcyBvZiBuLmNlbGxzKSB7XG4gICAgICBsZXQgbDtcbiAgICAgIGlmICghcylcbiAgICAgICAgbCA9IGUubm9kZXMudGFibGVQYXJhZ3JhcGguY3JlYXRlKHt9KTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBzID09IFwic3RyaW5nXCIpXG4gICAgICAgIGwgPSBlLm5vZGVzLnRhYmxlUGFyYWdyYXBoLmNyZWF0ZSh7fSwgZS50ZXh0KHMpKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB1ID0gaWUocywgZSwgbyk7XG4gICAgICAgIGwgPSBlLm5vZGVzLnRhYmxlUGFyYWdyYXBoLmNyZWF0ZSh7fSwgdSk7XG4gICAgICB9XG4gICAgICBjb25zdCBkID0gZS5ub2Rlcy50YWJsZUNlbGwuY3JlYXRlKHt9LCBsKTtcbiAgICAgIHIucHVzaChkKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IGUubm9kZXMudGFibGVSb3cuY3JlYXRlKHt9LCByKTtcbiAgICBpLnB1c2goYSk7XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBldCh0LCBlLCBvKSB7XG4gIGxldCBpLCBuID0gdC50eXBlO1xuICBpZiAobiA9PT0gdm9pZCAwICYmIChuID0gXCJwYXJhZ3JhcGhcIiksICFlLm5vZGVzW25dKVxuICAgIHRocm93IG5ldyBFcnJvcihgbm9kZSB0eXBlICR7bn0gbm90IGZvdW5kIGluIHNjaGVtYWApO1xuICBpZiAoIXQuY29udGVudClcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUodC5wcm9wcyk7XG4gIGVsc2UgaWYgKHR5cGVvZiB0LmNvbnRlbnQgPT0gXCJzdHJpbmdcIilcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUoXG4gICAgICB0LnByb3BzLFxuICAgICAgZS50ZXh0KHQuY29udGVudClcbiAgICApO1xuICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHQuY29udGVudCkpIHtcbiAgICBjb25zdCByID0gaWUodC5jb250ZW50LCBlLCBvKTtcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUodC5wcm9wcywgcik7XG4gIH0gZWxzZSBpZiAodC5jb250ZW50LnR5cGUgPT09IFwidGFibGVDb250ZW50XCIpIHtcbiAgICBjb25zdCByID0gUWUodC5jb250ZW50LCBlLCBvKTtcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUodC5wcm9wcywgcik7XG4gIH0gZWxzZVxuICAgIHRocm93IG5ldyBJKHQuY29udGVudC50eXBlKTtcbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBOKHQsIGUsIG8pIHtcbiAgbGV0IGkgPSB0LmlkO1xuICBpID09PSB2b2lkIDAgJiYgKGkgPSBKLm9wdGlvbnMuZ2VuZXJhdGVJRCgpKTtcbiAgY29uc3QgbiA9IGV0KFxuICAgIHQsXG4gICAgZSxcbiAgICBvXG4gICksIHIgPSBbXTtcbiAgaWYgKHQuY2hpbGRyZW4pXG4gICAgZm9yIChjb25zdCBzIG9mIHQuY2hpbGRyZW4pXG4gICAgICByLnB1c2goTihzLCBlLCBvKSk7XG4gIGNvbnN0IGEgPSBlLm5vZGVzLmJsb2NrR3JvdXAuY3JlYXRlKHt9LCByKTtcbiAgcmV0dXJuIGUubm9kZXMuYmxvY2tDb250YWluZXIuY3JlYXRlKFxuICAgIHtcbiAgICAgIGlkOiBpLFxuICAgICAgLi4udC5wcm9wc1xuICAgIH0sXG4gICAgci5sZW5ndGggPiAwID8gW24sIGFdIDogblxuICApO1xufVxuZnVuY3Rpb24gQ28odCwgZSwgbykge1xuICBjb25zdCBpID0ge1xuICAgIHR5cGU6IFwidGFibGVDb250ZW50XCIsXG4gICAgcm93czogW11cbiAgfTtcbiAgcmV0dXJuIHQuY29udGVudC5mb3JFYWNoKChuKSA9PiB7XG4gICAgY29uc3QgciA9IHtcbiAgICAgIGNlbGxzOiBbXVxuICAgIH07XG4gICAgbi5jb250ZW50LmZvckVhY2goKGEpID0+IHtcbiAgICAgIHIuY2VsbHMucHVzaChcbiAgICAgICAgdmUoXG4gICAgICAgICAgYS5maXJzdENoaWxkLFxuICAgICAgICAgIGUsXG4gICAgICAgICAgb1xuICAgICAgICApXG4gICAgICApO1xuICAgIH0pLCBpLnJvd3MucHVzaChyKTtcbiAgfSksIGk7XG59XG5mdW5jdGlvbiB2ZSh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBbXTtcbiAgbGV0IG47XG4gIHJldHVybiB0LmNvbnRlbnQuZm9yRWFjaCgocikgPT4ge1xuICAgIGlmIChyLnR5cGUubmFtZSA9PT0gXCJoYXJkQnJlYWtcIikge1xuICAgICAgaWYgKG4pXG4gICAgICAgIGlmIChaKG4pKVxuICAgICAgICAgIG4udGV4dCArPSBgXG5gO1xuICAgICAgICBlbHNlIGlmIChIZShuKSlcbiAgICAgICAgICBuLmNvbnRlbnRbbi5jb250ZW50Lmxlbmd0aCAtIDFdLnRleHQgKz0gYFxuYDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWRcIik7XG4gICAgICBlbHNlXG4gICAgICAgIG4gPSB7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgdGV4dDogYFxuYCxcbiAgICAgICAgICBzdHlsZXM6IHt9XG4gICAgICAgIH07XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyLnR5cGUubmFtZSAhPT0gXCJsaW5rXCIgJiYgci50eXBlLm5hbWUgIT09IFwidGV4dFwiICYmIGVbci50eXBlLm5hbWVdKSB7XG4gICAgICBuICYmIChpLnB1c2gobiksIG4gPSB2b2lkIDApLCBpLnB1c2goXG4gICAgICAgIHR0KHIsIGUsIG8pXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhID0ge307XG4gICAgbGV0IHM7XG4gICAgZm9yIChjb25zdCBsIG9mIHIubWFya3MpXG4gICAgICBpZiAobC50eXBlLm5hbWUgPT09IFwibGlua1wiKVxuICAgICAgICBzID0gbDtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBkID0gb1tsLnR5cGUubmFtZV07XG4gICAgICAgIGlmICghZClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0eWxlICR7bC50eXBlLm5hbWV9IG5vdCBmb3VuZCBpbiBzdHlsZVNjaGVtYWApO1xuICAgICAgICBpZiAoZC5wcm9wU2NoZW1hID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgICBhW2QudHlwZV0gPSAhMDtcbiAgICAgICAgZWxzZSBpZiAoZC5wcm9wU2NoZW1hID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgIGFbZC50eXBlXSA9IGwuYXR0cnMuc3RyaW5nVmFsdWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aHJvdyBuZXcgSShkLnByb3BTY2hlbWEpO1xuICAgICAgfVxuICAgIG4gPyBaKG4pID8gcyA/IChpLnB1c2gobiksIG4gPSB7XG4gICAgICB0eXBlOiBcImxpbmtcIixcbiAgICAgIGhyZWY6IHMuYXR0cnMuaHJlZixcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIHRleHQ6IHIudGV4dENvbnRlbnQsXG4gICAgICAgICAgc3R5bGVzOiBhXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KSA6IEpTT04uc3RyaW5naWZ5KG4uc3R5bGVzKSA9PT0gSlNPTi5zdHJpbmdpZnkoYSkgPyBuLnRleHQgKz0gci50ZXh0Q29udGVudCA6IChpLnB1c2gobiksIG4gPSB7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRleHQ6IHIudGV4dENvbnRlbnQsXG4gICAgICBzdHlsZXM6IGFcbiAgICB9KSA6IEhlKG4pICYmIChzID8gbi5ocmVmID09PSBzLmF0dHJzLmhyZWYgPyBKU09OLnN0cmluZ2lmeShcbiAgICAgIG4uY29udGVudFtuLmNvbnRlbnQubGVuZ3RoIC0gMV0uc3R5bGVzXG4gICAgKSA9PT0gSlNPTi5zdHJpbmdpZnkoYSkgPyBuLmNvbnRlbnRbbi5jb250ZW50Lmxlbmd0aCAtIDFdLnRleHQgKz0gci50ZXh0Q29udGVudCA6IG4uY29udGVudC5wdXNoKHtcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgdGV4dDogci50ZXh0Q29udGVudCxcbiAgICAgIHN0eWxlczogYVxuICAgIH0pIDogKGkucHVzaChuKSwgbiA9IHtcbiAgICAgIHR5cGU6IFwibGlua1wiLFxuICAgICAgaHJlZjogcy5hdHRycy5ocmVmLFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgdGV4dDogci50ZXh0Q29udGVudCxcbiAgICAgICAgICBzdHlsZXM6IGFcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pIDogKGkucHVzaChuKSwgbiA9IHtcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgdGV4dDogci50ZXh0Q29udGVudCxcbiAgICAgIHN0eWxlczogYVxuICAgIH0pKSA6IHMgPyBuID0ge1xuICAgICAgdHlwZTogXCJsaW5rXCIsXG4gICAgICBocmVmOiBzLmF0dHJzLmhyZWYsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICB0ZXh0OiByLnRleHRDb250ZW50LFxuICAgICAgICAgIHN0eWxlczogYVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSA6IG4gPSB7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRleHQ6IHIudGV4dENvbnRlbnQsXG4gICAgICBzdHlsZXM6IGFcbiAgICB9O1xuICB9KSwgbiAmJiBpLnB1c2gobiksIGk7XG59XG5mdW5jdGlvbiB0dCh0LCBlLCBvKSB7XG4gIGlmICh0LnR5cGUubmFtZSA9PT0gXCJ0ZXh0XCIgfHwgdC50eXBlLm5hbWUgPT09IFwibGlua1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWRcIik7XG4gIGNvbnN0IGkgPSB7fSwgbiA9IGVbdC50eXBlLm5hbWVdO1xuICBmb3IgKGNvbnN0IFtzLCBsXSBvZiBPYmplY3QuZW50cmllcyh0LmF0dHJzKSkge1xuICAgIGlmICghbilcbiAgICAgIHRocm93IEVycm9yKFwiaWMgbm9kZSBpcyBvZiBhbiB1bnJlY29nbml6ZWQgdHlwZTogXCIgKyB0LnR5cGUubmFtZSk7XG4gICAgY29uc3QgZCA9IG4ucHJvcFNjaGVtYTtcbiAgICBzIGluIGQgJiYgKGlbc10gPSBsKTtcbiAgfVxuICBsZXQgcjtcbiAgcmV0dXJuIG4uY29udGVudCA9PT0gXCJzdHlsZWRcIiA/IHIgPSB2ZShcbiAgICB0LFxuICAgIGUsXG4gICAgb1xuICApIDogciA9IHZvaWQgMCwge1xuICAgIHR5cGU6IHQudHlwZS5uYW1lLFxuICAgIHByb3BzOiBpLFxuICAgIGNvbnRlbnQ6IHJcbiAgfTtcbn1cbmZ1bmN0aW9uIF8odCwgZSwgbywgaSwgbikge1xuICBpZiAodC50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIilcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgIFwiTm9kZSBtdXN0IGJlIG9mIHR5cGUgYmxvY2tDb250YWluZXIsIGJ1dCBpcyBvZiB0eXBlXCIgKyB0LnR5cGUubmFtZSArIFwiLlwiXG4gICAgKTtcbiAgY29uc3QgciA9IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uZ2V0KHQpO1xuICBpZiAocilcbiAgICByZXR1cm4gcjtcbiAgY29uc3QgYSA9IEplKHQpO1xuICBsZXQgcyA9IGEuaWQ7XG4gIHMgPT09IG51bGwgJiYgKHMgPSBKLm9wdGlvbnMuZ2VuZXJhdGVJRCgpKTtcbiAgY29uc3QgbCA9IHt9O1xuICBmb3IgKGNvbnN0IFtmLCBtXSBvZiBPYmplY3QuZW50cmllcyh7XG4gICAgLi4udC5hdHRycyxcbiAgICAuLi5hLmNvbnRlbnROb2RlLmF0dHJzXG4gIH0pKSB7XG4gICAgY29uc3QgZyA9IGVbYS5jb250ZW50VHlwZS5uYW1lXTtcbiAgICBpZiAoIWcpXG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJCbG9jayBpcyBvZiBhbiB1bnJlY29nbml6ZWQgdHlwZTogXCIgKyBhLmNvbnRlbnRUeXBlLm5hbWVcbiAgICAgICk7XG4gICAgY29uc3QgeSA9IGcucHJvcFNjaGVtYTtcbiAgICBmIGluIHkgJiYgKGxbZl0gPSBtKTtcbiAgfVxuICBjb25zdCBkID0gZVthLmNvbnRlbnRUeXBlLm5hbWVdLCB1ID0gW107XG4gIGZvciAobGV0IGYgPSAwOyBmIDwgYS5udW1DaGlsZEJsb2NrczsgZisrKVxuICAgIHUucHVzaChcbiAgICAgIF8oXG4gICAgICAgIHQubGFzdENoaWxkLmNoaWxkKGYpLFxuICAgICAgICBlLFxuICAgICAgICBvLFxuICAgICAgICBpLFxuICAgICAgICBuXG4gICAgICApXG4gICAgKTtcbiAgbGV0IHA7XG4gIGlmIChkLmNvbnRlbnQgPT09IFwiaW5saW5lXCIpXG4gICAgcCA9IHZlKFxuICAgICAgYS5jb250ZW50Tm9kZSxcbiAgICAgIG8sXG4gICAgICBpXG4gICAgKTtcbiAgZWxzZSBpZiAoZC5jb250ZW50ID09PSBcInRhYmxlXCIpXG4gICAgcCA9IENvKFxuICAgICAgYS5jb250ZW50Tm9kZSxcbiAgICAgIG8sXG4gICAgICBpXG4gICAgKTtcbiAgZWxzZSBpZiAoZC5jb250ZW50ID09PSBcIm5vbmVcIilcbiAgICBwID0gdm9pZCAwO1xuICBlbHNlXG4gICAgdGhyb3cgbmV3IEkoZC5jb250ZW50KTtcbiAgY29uc3QgaCA9IHtcbiAgICBpZDogcyxcbiAgICB0eXBlOiBkLnR5cGUsXG4gICAgcHJvcHM6IGwsXG4gICAgY29udGVudDogcCxcbiAgICBjaGlsZHJlbjogdVxuICB9O1xuICByZXR1cm4gbiA9PSBudWxsIHx8IG4uc2V0KHQsIGgpLCBoO1xufVxuZnVuY3Rpb24gU28odCkge1xuICByZXR1cm4gdC5kb2N1bWVudCB8fCB3aW5kb3cuZG9jdW1lbnQ7XG59XG5jb25zdCBvdCA9ICh0LCBlLCBvLCBpLCBuKSA9PiB7XG4gIGlmICghby5ub2Rlc1t0LnR5cGUubmFtZV0pXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2VyaWFsaXplciBpcyBtaXNzaW5nIGEgbm9kZSB0eXBlOiBcIiArIHQudHlwZS5uYW1lKTtcbiAgY29uc3QgeyBkb206IHIsIGNvbnRlbnRET006IGEgfSA9IGtlLnJlbmRlclNwZWMoXG4gICAgU28oZSksXG4gICAgby5ub2Rlc1t0LnR5cGUubmFtZV0odClcbiAgKTtcbiAgaWYgKGEpIHtcbiAgICBpZiAodC5pc0xlYWYpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNvbnRlbnQgaG9sZSBub3QgYWxsb3dlZCBpbiBhIGxlYWYgbm9kZSBzcGVjXCIpO1xuICAgIGlmICh0LnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiKSB7XG4gICAgICBjb25zdCBzID0gdC5jaGlsZENvdW50ID4gMCAmJiB0LmZpcnN0Q2hpbGQudHlwZS5zcGVjLmdyb3VwID09PSBcImJsb2NrQ29udGVudFwiID8gdC5maXJzdENoaWxkIDogdm9pZCAwLCBsID0gdC5jaGlsZENvdW50ID4gMCAmJiB0Lmxhc3RDaGlsZC50eXBlLnNwZWMuZ3JvdXAgPT09IFwiYmxvY2tHcm91cFwiID8gdC5sYXN0Q2hpbGQgOiB2b2lkIDA7XG4gICAgICBpZiAocyAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGNvbnN0IGQgPSBpLmJsb2NrSW1wbGVtZW50YXRpb25zW3MudHlwZS5uYW1lXS5pbXBsZW1lbnRhdGlvbiwgcCA9IChuID8gZC50b0V4dGVybmFsSFRNTCA6IGQudG9JbnRlcm5hbEhUTUwpKFxuICAgICAgICAgIF8oXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgaS5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICAgICAgICBpLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgICAgICAgaS5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICAgICAgICBpLmJsb2NrQ2FjaGVcbiAgICAgICAgICApLFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHAuY29udGVudERPTSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgaWYgKHQuaXNMZWFmKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgICAgICAgIFwiQ29udGVudCBob2xlIG5vdCBhbGxvd2VkIGluIGEgbGVhZiBub2RlIHNwZWNcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBwLmNvbnRlbnRET00uYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICBvLnNlcmlhbGl6ZUZyYWdtZW50KHMuY29udGVudCwgZSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGEuYXBwZW5kQ2hpbGQocC5kb20pO1xuICAgICAgfVxuICAgICAgbCAhPT0gdm9pZCAwICYmIG8uc2VyaWFsaXplRnJhZ21lbnQoXG4gICAgICAgIE0uZnJvbShsKSxcbiAgICAgICAgZSxcbiAgICAgICAgYVxuICAgICAgKTtcbiAgICB9IGVsc2VcbiAgICAgIG8uc2VyaWFsaXplRnJhZ21lbnQodC5jb250ZW50LCBlLCBhKTtcbiAgfVxuICByZXR1cm4gcjtcbn0sIGl0ID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IGUuc2VyaWFsaXplRnJhZ21lbnQodCksIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByZXR1cm4gaS5hcHBlbmRDaGlsZChvKSwgaS5pbm5lckhUTUw7XG59O1xuZnVuY3Rpb24gTW8odCkge1xuICBjb25zdCBlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICAgIC4uLnQub3JkZXJlZExpc3RJdGVtQmxvY2tUeXBlcyxcbiAgICAuLi50LnVub3JkZXJlZExpc3RJdGVtQmxvY2tUeXBlc1xuICBdKSwgbyA9IChpKSA9PiB7XG4gICAgdmFyIGE7XG4gICAgaWYgKGkuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmICgoYSA9IGkuY2hpbGRyZW5bMF0ucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IGEuZGF0YU5vZGVUeXBlKSA9PT0gXCJibG9ja0dyb3VwXCIpIHtcbiAgICAgIGNvbnN0IHMgPSBpLmNoaWxkcmVuWzBdO1xuICAgICAgaS5jaGlsZHJlbi5wb3AoKSwgaS5jaGlsZHJlbi5wdXNoKC4uLnMuY2hpbGRyZW4pO1xuICAgIH1cbiAgICBsZXQgbiA9IGkuY2hpbGRyZW4ubGVuZ3RoLCByO1xuICAgIGZvciAobGV0IHMgPSAwOyBzIDwgbjsgcysrKSB7XG4gICAgICBjb25zdCBkID0gaS5jaGlsZHJlbltzXS5jaGlsZHJlblswXSwgdSA9IGQuY2hpbGRyZW5bMF0sIHAgPSBkLmNoaWxkcmVuLmxlbmd0aCA9PT0gMiA/IGQuY2hpbGRyZW5bMV0gOiBudWxsLCBoID0gZS5oYXMoXG4gICAgICAgIHUucHJvcGVydGllcy5kYXRhQ29udGVudFR5cGVcbiAgICAgICksIGYgPSBoID8gdC5vcmRlcmVkTGlzdEl0ZW1CbG9ja1R5cGVzLmhhcyhcbiAgICAgICAgdS5wcm9wZXJ0aWVzLmRhdGFDb250ZW50VHlwZVxuICAgICAgKSA/IFwib2xcIiA6IFwidWxcIiA6IG51bGw7XG4gICAgICBpZiAocCAhPT0gbnVsbCAmJiBvKHApLCByICYmIHIudGFnTmFtZSAhPT0gZikge1xuICAgICAgICBpLmNoaWxkcmVuLnNwbGljZShcbiAgICAgICAgICBzIC0gci5jaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgICAgci5jaGlsZHJlbi5sZW5ndGgsXG4gICAgICAgICAgclxuICAgICAgICApO1xuICAgICAgICBjb25zdCBtID0gci5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgICBzIC09IG0sIG4gLT0gbSwgciA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGlmIChoKSB7XG4gICAgICAgIHIgfHwgKHIgPSBQZShcbiAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGYpXG4gICAgICAgICkpO1xuICAgICAgICBjb25zdCBtID0gUGUoXG4gICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpXG4gICAgICAgICk7XG4gICAgICAgIG0uY2hpbGRyZW4ucHVzaCh1LmNoaWxkcmVuWzBdKSwgcCAhPT0gbnVsbCAmJiBtLmNoaWxkcmVuLnB1c2goLi4ucC5jaGlsZHJlbiksIHIuY2hpbGRyZW4ucHVzaChtKTtcbiAgICAgIH0gZWxzZSBpZiAocCAhPT0gbnVsbCkge1xuICAgICAgICBpLmNoaWxkcmVuLnNwbGljZShzICsgMSwgMCwgLi4ucC5jaGlsZHJlbiksIGkuY2hpbGRyZW5bc10gPSB1LmNoaWxkcmVuWzBdO1xuICAgICAgICBjb25zdCBtID0gcC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIHMgKz0gbSwgbiArPSBtO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGkuY2hpbGRyZW5bc10gPSB1LmNoaWxkcmVuWzBdO1xuICAgIH1cbiAgICByICYmIGkuY2hpbGRyZW4uc3BsaWNlKFxuICAgICAgbiAtIHIuY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgci5jaGlsZHJlbi5sZW5ndGgsXG4gICAgICByXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIG87XG59XG5jb25zdCBuZSA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSBrZS5mcm9tU2NoZW1hKHQpO1xuICByZXR1cm4gby5zZXJpYWxpemVOb2RlSW5uZXIgPSAoaSwgbikgPT4gb3QoaSwgbiwgbywgZSwgITApLCBvLmV4cG9ydFByb3NlTWlycm9yRnJhZ21lbnQgPSAoaSkgPT4geWUoKS51c2UoS2UsIHsgZnJhZ21lbnQ6ICEwIH0pLnVzZShNbywge1xuICAgIG9yZGVyZWRMaXN0SXRlbUJsb2NrVHlwZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcIm51bWJlcmVkTGlzdEl0ZW1cIl0pLFxuICAgIHVub3JkZXJlZExpc3RJdGVtQmxvY2tUeXBlczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1wiYnVsbGV0TGlzdEl0ZW1cIl0pXG4gIH0pLnVzZShxZSkucHJvY2Vzc1N5bmMoaXQoaSwgbykpLnZhbHVlLCBvLmV4cG9ydEJsb2NrcyA9IChpKSA9PiB7XG4gICAgY29uc3QgbiA9IGkubWFwKFxuICAgICAgKGEpID0+IE4oYSwgdCwgZS5zY2hlbWEuc3R5bGVTY2hlbWEpXG4gICAgKSwgciA9IHQubm9kZXMuYmxvY2tHcm91cC5jcmVhdGUobnVsbCwgbik7XG4gICAgcmV0dXJuIG8uZXhwb3J0UHJvc2VNaXJyb3JGcmFnbWVudChNLmZyb20ocikpO1xuICB9LCBvO1xufSwgbnQgPSAodCwgZSkgPT4ge1xuICBjb25zdCBvID0ga2UuZnJvbVNjaGVtYSh0KTtcbiAgcmV0dXJuIG8uc2VyaWFsaXplTm9kZUlubmVyID0gKGksIG4pID0+IG90KGksIG4sIG8sIGUsICExKSwgby5zZXJpYWxpemVQcm9zZU1pcnJvckZyYWdtZW50ID0gKGkpID0+IGl0KGksIG8pLCBvLnNlcmlhbGl6ZUJsb2NrcyA9IChpKSA9PiB7XG4gICAgY29uc3QgbiA9IGkubWFwKFxuICAgICAgKGEpID0+IE4oYSwgdCwgZS5zY2hlbWEuc3R5bGVTY2hlbWEpXG4gICAgKSwgciA9IHQubm9kZXMuYmxvY2tHcm91cC5jcmVhdGUobnVsbCwgbik7XG4gICAgcmV0dXJuIG8uc2VyaWFsaXplUHJvc2VNaXJyb3JGcmFnbWVudChNLmZyb20ocikpO1xuICB9LCBvO1xufSwgVG8gPSAoKSA9PiB0eXBlb2YgbmF2aWdhdG9yIDwgXCJ1XCIgJiYgKC9NYWMvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSB8fCAvQXBwbGVXZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgL01vYmlsZVxcL1xcdysvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO1xuZnVuY3Rpb24gUih0LCBlID0gXCJDdHJsXCIpIHtcbiAgcmV0dXJuIFRvKCkgPyB0LnJlcGxhY2UoXCJNb2RcIiwgXCLijJhcIikgOiB0LnJlcGxhY2UoXCJNb2RcIiwgZSk7XG59XG5mdW5jdGlvbiBEKC4uLnQpIHtcbiAgcmV0dXJuIHQuZmlsdGVyKChlKSA9PiBlKS5qb2luKFwiIFwiKTtcbn1cbmNvbnN0IEVyID0gKCkgPT4gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmZ1bmN0aW9uIFkodCwgZSwgbywgaSkge1xuICBjb25zdCBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbi5jbGFzc05hbWUgPSBEKFxuICAgIFwiYm4tYmxvY2stY29udGVudFwiLFxuICAgIG8uY2xhc3NcbiAgKSwgbi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRlbnQtdHlwZVwiLCB0KTtcbiAgZm9yIChjb25zdCBbYSwgc10gb2YgT2JqZWN0LmVudHJpZXMobykpXG4gICAgYSAhPT0gXCJjbGFzc1wiICYmIG4uc2V0QXR0cmlidXRlKGEsIHMpO1xuICBjb25zdCByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTtcbiAgci5jbGFzc05hbWUgPSBEKFxuICAgIFwiYm4taW5saW5lLWNvbnRlbnRcIixcbiAgICBpLmNsYXNzXG4gICk7XG4gIGZvciAoY29uc3QgW2EsIHNdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgIGlcbiAgKSlcbiAgICBhICE9PSBcImNsYXNzXCIgJiYgci5zZXRBdHRyaWJ1dGUoYSwgcyk7XG4gIHJldHVybiBuLmFwcGVuZENoaWxkKHIpLCB7XG4gICAgZG9tOiBuLFxuICAgIGNvbnRlbnRET006IHJcbiAgfTtcbn1cbmNvbnN0IERlID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IE4oXG4gICAgdCxcbiAgICBlLl90aXB0YXBFZGl0b3Iuc2NoZW1hLFxuICAgIGUuc2NoZW1hLnN0eWxlU2NoZW1hXG4gICkuZmlyc3RDaGlsZCwgaSA9IGUuX3RpcHRhcEVkaXRvci5zY2hlbWEubm9kZXNbby50eXBlLm5hbWVdLnNwZWMudG9ET007XG4gIGlmIChpID09PSB2b2lkIDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGlzIGJsb2NrIGhhcyBubyBkZWZhdWx0IEhUTUwgc2VyaWFsaXphdGlvbiBhcyBpdHMgY29ycmVzcG9uZGluZyBUaXBUYXAgbm9kZSBkb2Vzbid0IGltcGxlbWVudCBgcmVuZGVySFRNTGAuXCJcbiAgICApO1xuICBjb25zdCBuID0gaShvKTtcbiAgaWYgKHR5cGVvZiBuICE9IFwib2JqZWN0XCIgfHwgIShcImRvbVwiIGluIG4pKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ2Fubm90IHVzZSB0aGlzIGJsb2NrJ3MgZGVmYXVsdCBIVE1MIHNlcmlhbGl6YXRpb24gYXMgaXRzIGNvcnJlc3BvbmRpbmcgVGlwVGFwIG5vZGUncyBgcmVuZGVySFRNTGAgZnVuY3Rpb24gZG9lcyBub3QgcmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBgZG9tYCBwcm9wZXJ0eS5cIlxuICAgICk7XG4gIHJldHVybiBuO1xufSwgayA9IHtcbiAgYmFja2dyb3VuZENvbG9yOiB7XG4gICAgZGVmYXVsdDogXCJkZWZhdWx0XCJcbiAgfSxcbiAgdGV4dENvbG9yOiB7XG4gICAgZGVmYXVsdDogXCJkZWZhdWx0XCJcbiAgfSxcbiAgdGV4dEFsaWdubWVudDoge1xuICAgIGRlZmF1bHQ6IFwibGVmdFwiLFxuICAgIHZhbHVlczogW1wibGVmdFwiLCBcImNlbnRlclwiLCBcInJpZ2h0XCIsIFwianVzdGlmeVwiXVxuICB9XG59LCBydCA9IFtcImJhY2tncm91bmRDb2xvclwiLCBcInRleHRDb2xvclwiXTtcbmZ1bmN0aW9uIG9lKHQpIHtcbiAgcmV0dXJuIFwiZGF0YS1cIiArIHQucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gQ3IodCkge1xuICBjb25zdCBlID0gdC5zcGxpdChcIi9cIik7XG4gIHJldHVybiAhZS5sZW5ndGggfHwgLy8gaW52YWxpZD9cbiAgZVtlLmxlbmd0aCAtIDFdID09PSBcIlwiID8gdCA6IGVbZS5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIGF0KHQpIHtcbiAgY29uc3QgZSA9IHt9O1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXModCkuZmlsdGVyKChbbywgaV0pID0+ICFydC5pbmNsdWRlcyhvKSkuZm9yRWFjaCgoW28sIGldKSA9PiB7XG4gICAgZVtvXSA9IHtcbiAgICAgIGRlZmF1bHQ6IGkuZGVmYXVsdCxcbiAgICAgIGtlZXBPblNwbGl0OiAhMCxcbiAgICAgIC8vIFByb3BzIGFyZSBkaXNwbGF5ZWQgaW4ga2ViYWItY2FzZSBhcyBIVE1MIGF0dHJpYnV0ZXMuIElmIGEgcHJvcCdzXG4gICAgICAvLyB2YWx1ZSBpcyB0aGUgc2FtZSBhcyBpdHMgZGVmYXVsdCwgd2UgZG9uJ3QgZGlzcGxheSBhbiBIVE1MXG4gICAgICAvLyBhdHRyaWJ1dGUgZm9yIGl0LlxuICAgICAgcGFyc2VIVE1MOiAobikgPT4ge1xuICAgICAgICBjb25zdCByID0gbi5nZXRBdHRyaWJ1dGUob2UobykpO1xuICAgICAgICBpZiAociA9PT0gbnVsbClcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBpLmRlZmF1bHQgPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgcmV0dXJuIHIgPT09IFwidHJ1ZVwiID8gITAgOiByID09PSBcImZhbHNlXCIgPyAhMSA6IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgaS5kZWZhdWx0ID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBjb25zdCBhID0gcGFyc2VGbG9hdChyKTtcbiAgICAgICAgICByZXR1cm4gIU51bWJlci5pc05hTihhKSAmJiBOdW1iZXIuaXNGaW5pdGUoYSkgPyBhIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH0sXG4gICAgICByZW5kZXJIVE1MOiAobikgPT4gbltvXSAhPT0gaS5kZWZhdWx0ID8ge1xuICAgICAgICBbb2UobyldOiBuW29dXG4gICAgICB9IDoge31cbiAgICB9O1xuICB9KSwgZTtcbn1cbmZ1bmN0aW9uIEJvKHQsIGUsIG8sIGkpIHtcbiAgaWYgKHR5cGVvZiB0ID09IFwiYm9vbGVhblwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ2Fubm90IGZpbmQgbm9kZSBwb3NpdGlvbiBhcyBnZXRQb3MgaXMgYSBib29sZWFuLCBub3QgYSBmdW5jdGlvbi5cIlxuICAgICk7XG4gIGNvbnN0IG4gPSB0KCksIGEgPSBvLnN0YXRlLmRvYy5yZXNvbHZlKG4pLm5vZGUoKS5hdHRycy5pZDtcbiAgaWYgKCFhKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkJsb2NrIGRvZXNuJ3QgaGF2ZSBpZFwiKTtcbiAgY29uc3QgcyA9IGUuZ2V0QmxvY2soYSk7XG4gIGlmIChzLnR5cGUgIT09IGkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQmxvY2sgdHlwZSBkb2VzIG5vdCBtYXRjaFwiKTtcbiAgcmV0dXJuIHM7XG59XG5mdW5jdGlvbiBwZSh0LCBlLCBvLCBpLCBuID0gITEsIHIpIHtcbiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGlmIChyICE9PSB2b2lkIDApXG4gICAgZm9yIChjb25zdCBbcywgbF0gb2YgT2JqZWN0LmVudHJpZXMocikpXG4gICAgICBzICE9PSBcImNsYXNzXCIgJiYgYS5zZXRBdHRyaWJ1dGUocywgbCk7XG4gIGEuY2xhc3NOYW1lID0gRChcbiAgICBcImJuLWJsb2NrLWNvbnRlbnRcIixcbiAgICAociA9PSBudWxsID8gdm9pZCAwIDogci5jbGFzcykgfHwgXCJcIlxuICApLCBhLnNldEF0dHJpYnV0ZShcImRhdGEtY29udGVudC10eXBlXCIsIGUpO1xuICBmb3IgKGNvbnN0IFtzLCBsXSBvZiBPYmplY3QuZW50cmllcyhvKSlcbiAgICAhcnQuaW5jbHVkZXMocykgJiYgbCAhPT0gaVtzXS5kZWZhdWx0ICYmIGEuc2V0QXR0cmlidXRlKG9lKHMpLCBsKTtcbiAgcmV0dXJuIG4gJiYgYS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWZpbGUtYmxvY2tcIiwgXCJcIiksIGEuYXBwZW5kQ2hpbGQodC5kb20pLCB0LmNvbnRlbnRET00gIT09IHZvaWQgMCAmJiAodC5jb250ZW50RE9NLmNsYXNzTmFtZSA9IEQoXG4gICAgXCJibi1pbmxpbmUtY29udGVudFwiLFxuICAgIHQuY29udGVudERPTS5jbGFzc05hbWVcbiAgKSwgdC5jb250ZW50RE9NLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGFibGVcIiwgXCJcIikpLCB7XG4gICAgLi4udCxcbiAgICBkb206IGFcbiAgfTtcbn1cbmZ1bmN0aW9uIEcodCkge1xuICByZXR1cm4gRi5jcmVhdGUodCk7XG59XG5mdW5jdGlvbiBzdCh0LCBlKSB7XG4gIHJldHVybiB7XG4gICAgY29uZmlnOiB0LFxuICAgIGltcGxlbWVudGF0aW9uOiBlXG4gIH07XG59XG5mdW5jdGlvbiBRKHQsIGUsIG8pIHtcbiAgcmV0dXJuIHN0KFxuICAgIHtcbiAgICAgIHR5cGU6IHQubmFtZSxcbiAgICAgIGNvbnRlbnQ6IHQuY29uZmlnLmNvbnRlbnQgPT09IFwiaW5saW5lKlwiID8gXCJpbmxpbmVcIiA6IHQuY29uZmlnLmNvbnRlbnQgPT09IFwidGFibGVSb3crXCIgPyBcInRhYmxlXCIgOiBcIm5vbmVcIixcbiAgICAgIHByb3BTY2hlbWE6IGVcbiAgICB9LFxuICAgIHtcbiAgICAgIG5vZGU6IHQsXG4gICAgICByZXF1aXJlZEV4dGVuc2lvbnM6IG8sXG4gICAgICB0b0ludGVybmFsSFRNTDogRGUsXG4gICAgICB0b0V4dGVybmFsSFRNTDogRGVcbiAgICAgIC8vIHBhcnNlOiAoKSA9PiB1bmRlZmluZWQsIC8vIHBhcnNlIHJ1bGVzIGFyZSBpbiBub2RlIGFscmVhZHlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBsdCh0KSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXModCkubWFwKChbZSwgb10pID0+IFtlLCBvLmNvbmZpZ10pXG4gICk7XG59XG5mdW5jdGlvbiBMbyh0LCBlKSB7XG4gIGNvbnN0IG8gPSBbXG4gICAge1xuICAgICAgdGFnOiBcIltkYXRhLWNvbnRlbnQtdHlwZT1cIiArIHQudHlwZSArIFwiXVwiLFxuICAgICAgY29udGVudEVsZW1lbnQ6IFwiW2RhdGEtZWRpdGFibGVdXCJcbiAgICB9XG4gIF07XG4gIHJldHVybiBlICYmIG8ucHVzaCh7XG4gICAgdGFnOiBcIipcIixcbiAgICBnZXRBdHRycyhpKSB7XG4gICAgICBpZiAodHlwZW9mIGkgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgY29uc3QgbiA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUoaSk7XG4gICAgICByZXR1cm4gbiA9PT0gdm9pZCAwID8gITEgOiBuO1xuICAgIH1cbiAgfSksIG87XG59XG5mdW5jdGlvbiByZSh0LCBlKSB7XG4gIGNvbnN0IG8gPSBHKHtcbiAgICBuYW1lOiB0LnR5cGUsXG4gICAgY29udGVudDogdC5jb250ZW50ID09PSBcImlubGluZVwiID8gXCJpbmxpbmUqXCIgOiBcIlwiLFxuICAgIGdyb3VwOiBcImJsb2NrQ29udGVudFwiLFxuICAgIHNlbGVjdGFibGU6ICEwLFxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgICByZXR1cm4gYXQodC5wcm9wU2NoZW1hKTtcbiAgICB9LFxuICAgIHBhcnNlSFRNTCgpIHtcbiAgICAgIHJldHVybiBMbyh0LCBlLnBhcnNlKTtcbiAgICB9LFxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJldHVybiBpLnNldEF0dHJpYnV0ZShcImRhdGEtdG1wLXBsYWNlaG9sZGVyXCIsIFwidHJ1ZVwiKSwge1xuICAgICAgICBkb206IGlcbiAgICAgIH07XG4gICAgfSxcbiAgICBhZGROb2RlVmlldygpIHtcbiAgICAgIHJldHVybiAoeyBnZXRQb3M6IGkgfSkgPT4ge1xuICAgICAgICB2YXIgbDtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMub3B0aW9ucy5lZGl0b3IsIHIgPSBCbyhcbiAgICAgICAgICBpLFxuICAgICAgICAgIG4sXG4gICAgICAgICAgdGhpcy5lZGl0b3IsXG4gICAgICAgICAgdC50eXBlXG4gICAgICAgICksIGEgPSAoKGwgPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IGwuYmxvY2tDb250ZW50KSB8fCB7fSwgcyA9IGUucmVuZGVyKHIsIG4pO1xuICAgICAgICByZXR1cm4gcGUoXG4gICAgICAgICAgcyxcbiAgICAgICAgICByLnR5cGUsXG4gICAgICAgICAgci5wcm9wcyxcbiAgICAgICAgICB0LnByb3BTY2hlbWEsXG4gICAgICAgICAgYVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICBpZiAoby5uYW1lICE9PSB0LnR5cGUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJOb2RlIG5hbWUgZG9lcyBub3QgbWF0Y2ggYmxvY2sgdHlwZS4gVGhpcyBpcyBhIGJ1ZyBpbiBCbG9ja05vdGUuXCJcbiAgICApO1xuICByZXR1cm4gc3QodCwge1xuICAgIG5vZGU6IG8sXG4gICAgdG9JbnRlcm5hbEhUTUw6IChpLCBuKSA9PiB7XG4gICAgICB2YXIgcztcbiAgICAgIGNvbnN0IHIgPSAoKHMgPSBvLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHMuYmxvY2tDb250ZW50KSB8fCB7fSwgYSA9IGUucmVuZGVyKGksIG4pO1xuICAgICAgcmV0dXJuIHBlKFxuICAgICAgICBhLFxuICAgICAgICBpLnR5cGUsXG4gICAgICAgIGkucHJvcHMsXG4gICAgICAgIHQucHJvcFNjaGVtYSxcbiAgICAgICAgdC5pc0ZpbGVCbG9jayxcbiAgICAgICAgclxuICAgICAgKTtcbiAgICB9LFxuICAgIHRvRXh0ZXJuYWxIVE1MOiAoaSwgbikgPT4ge1xuICAgICAgdmFyIHMsIGw7XG4gICAgICBjb25zdCByID0gKChzID0gby5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBzLmJsb2NrQ29udGVudCkgfHwge307XG4gICAgICBsZXQgYSA9IChsID0gZS50b0V4dGVybmFsSFRNTCkgPT0gbnVsbCA/IHZvaWQgMCA6IGwuY2FsbChcbiAgICAgICAgZSxcbiAgICAgICAgaSxcbiAgICAgICAgblxuICAgICAgKTtcbiAgICAgIHJldHVybiBhID09PSB2b2lkIDAgJiYgKGEgPSBlLnJlbmRlcihpLCBuKSksIHBlKFxuICAgICAgICBhLFxuICAgICAgICBpLnR5cGUsXG4gICAgICAgIGkucHJvcHMsXG4gICAgICAgIHQucHJvcFNjaGVtYSxcbiAgICAgICAgclxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gSW8odCwgZSwgbywgaSkge1xuICByZXR1cm4gdC5kb20uc2V0QXR0cmlidXRlKFwiZGF0YS1pbmxpbmUtY29udGVudC10eXBlXCIsIGUpLCBPYmplY3QuZW50cmllcyhvKS5maWx0ZXIoKFtuLCByXSkgPT4gciAhPT0gaVtuXS5kZWZhdWx0KS5tYXAoKFtuLCByXSkgPT4gW29lKG4pLCByXSkuZm9yRWFjaCgoW24sIHJdKSA9PiB0LmRvbS5zZXRBdHRyaWJ1dGUobiwgcikpLCB0LmNvbnRlbnRET00gIT09IHZvaWQgMCAmJiB0LmNvbnRlbnRET00uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0YWJsZVwiLCBcIlwiKSwgdDtcbn1cbmZ1bmN0aW9uIEFvKHQpIHtcbiAgcmV0dXJuIHtcbiAgICBCYWNrc3BhY2U6ICh7IGVkaXRvcjogZSB9KSA9PiB7XG4gICAgICBjb25zdCBvID0gZS5zdGF0ZS5zZWxlY3Rpb24uJGZyb207XG4gICAgICByZXR1cm4gZS5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkgJiYgby5ub2RlKCkudHlwZS5uYW1lID09PSB0LnR5cGUgJiYgby5wYXJlbnRPZmZzZXQgPT09IDA7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gTm8odCwgZSkge1xuICByZXR1cm4ge1xuICAgIGNvbmZpZzogdCxcbiAgICBpbXBsZW1lbnRhdGlvbjogZVxuICB9O1xufVxuZnVuY3Rpb24gUG8odCwgZSkge1xuICByZXR1cm4gTm8oXG4gICAge1xuICAgICAgdHlwZTogdC5uYW1lLFxuICAgICAgcHJvcFNjaGVtYTogZSxcbiAgICAgIGNvbnRlbnQ6IHQuY29uZmlnLmNvbnRlbnQgPT09IFwiaW5saW5lKlwiID8gXCJzdHlsZWRcIiA6IFwibm9uZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBub2RlOiB0XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gZHQodCkge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKHQpLm1hcCgoW2UsIG9dKSA9PiBbZSwgby5jb25maWddKVxuICApO1xufVxuZnVuY3Rpb24gSG8odCkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHRhZzogYFtkYXRhLWlubGluZS1jb250ZW50LXR5cGU9XCIke3QudHlwZX1cIl1gLFxuICAgICAgY29udGVudEVsZW1lbnQ6IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IG8gPSBlO1xuICAgICAgICByZXR1cm4gby5tYXRjaGVzKFwiW2RhdGEtZWRpdGFibGVdXCIpID8gbyA6IG8ucXVlcnlTZWxlY3RvcihcIltkYXRhLWVkaXRhYmxlXVwiKSB8fCBvO1xuICAgICAgfVxuICAgIH1cbiAgXTtcbn1cbmZ1bmN0aW9uIFNyKHQsIGUpIHtcbiAgY29uc3QgbyA9IEYuY3JlYXRlKHtcbiAgICBuYW1lOiB0LnR5cGUsXG4gICAgaW5saW5lOiAhMCxcbiAgICBncm91cDogXCJpbmxpbmVcIixcbiAgICBzZWxlY3RhYmxlOiB0LmNvbnRlbnQgPT09IFwic3R5bGVkXCIsXG4gICAgYXRvbTogdC5jb250ZW50ID09PSBcIm5vbmVcIixcbiAgICBjb250ZW50OiB0LmNvbnRlbnQgPT09IFwic3R5bGVkXCIgPyBcImlubGluZSpcIiA6IFwiXCIsXG4gICAgYWRkQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBhdCh0LnByb3BTY2hlbWEpO1xuICAgIH0sXG4gICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgICByZXR1cm4gQW8odCk7XG4gICAgfSxcbiAgICBwYXJzZUhUTUwoKSB7XG4gICAgICByZXR1cm4gSG8odCk7XG4gICAgfSxcbiAgICByZW5kZXJIVE1MKHsgbm9kZTogaSB9KSB7XG4gICAgICBjb25zdCBuID0gdGhpcy5vcHRpb25zLmVkaXRvciwgciA9IGUucmVuZGVyKFxuICAgICAgICB0dChcbiAgICAgICAgICBpLFxuICAgICAgICAgIG4uc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICAgICAgbi5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICAgKVxuICAgICAgICAvLyBUT0RPOiBmaXggY2FzdFxuICAgICAgKTtcbiAgICAgIHJldHVybiBJbyhcbiAgICAgICAgcixcbiAgICAgICAgdC50eXBlLFxuICAgICAgICBpLmF0dHJzLFxuICAgICAgICB0LnByb3BTY2hlbWFcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFBvKFxuICAgIG8sXG4gICAgdC5wcm9wU2NoZW1hXG4gICk7XG59XG5mdW5jdGlvbiBVbyh0KSB7XG4gIHJldHVybiB0ID09PSBcImJvb2xlYW5cIiA/IHt9IDoge1xuICAgIHN0cmluZ1ZhbHVlOiB7XG4gICAgICBkZWZhdWx0OiB2b2lkIDAsXG4gICAgICBrZWVwT25TcGxpdDogITAsXG4gICAgICBwYXJzZUhUTUw6IChlKSA9PiBlLmdldEF0dHJpYnV0ZShcImRhdGEtdmFsdWVcIiksXG4gICAgICByZW5kZXJIVE1MOiAoZSkgPT4gZS5zdHJpbmdWYWx1ZSAhPT0gdm9pZCAwID8ge1xuICAgICAgICBcImRhdGEtdmFsdWVcIjogZS5zdHJpbmdWYWx1ZVxuICAgICAgfSA6IHt9XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gRG8odCwgZSwgbywgaSkge1xuICByZXR1cm4gdC5kb20uc2V0QXR0cmlidXRlKFwiZGF0YS1zdHlsZS10eXBlXCIsIGUpLCBpID09PSBcInN0cmluZ1wiICYmIHQuZG9tLnNldEF0dHJpYnV0ZShcImRhdGEtdmFsdWVcIiwgbyksIHQuY29udGVudERPTSAhPT0gdm9pZCAwICYmIHQuY29udGVudERPTS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRhYmxlXCIsIFwiXCIpLCB0O1xufVxuZnVuY3Rpb24gY3QodCwgZSkge1xuICByZXR1cm4ge1xuICAgIGNvbmZpZzogdCxcbiAgICBpbXBsZW1lbnRhdGlvbjogZVxuICB9O1xufVxuZnVuY3Rpb24gUCh0LCBlKSB7XG4gIHJldHVybiBjdChcbiAgICB7XG4gICAgICB0eXBlOiB0Lm5hbWUsXG4gICAgICBwcm9wU2NoZW1hOiBlXG4gICAgfSxcbiAgICB7XG4gICAgICBtYXJrOiB0XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gdXQodCkge1xuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKHQpLm1hcCgoW2UsIG9dKSA9PiBbZSwgby5jb25maWddKVxuICApO1xufVxuZnVuY3Rpb24gT28odCkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIHRhZzogYFtkYXRhLXN0eWxlLXR5cGU9XCIke3QudHlwZX1cIl1gLFxuICAgICAgY29udGVudEVsZW1lbnQ6IChlKSA9PiB7XG4gICAgICAgIGNvbnN0IG8gPSBlO1xuICAgICAgICByZXR1cm4gby5tYXRjaGVzKFwiW2RhdGEtZWRpdGFibGVdXCIpID8gbyA6IG8ucXVlcnlTZWxlY3RvcihcIltkYXRhLWVkaXRhYmxlXVwiKSB8fCBvO1xuICAgICAgfVxuICAgIH1cbiAgXTtcbn1cbmZ1bmN0aW9uIE1yKHQsIGUpIHtcbiAgY29uc3QgbyA9IF9lLmNyZWF0ZSh7XG4gICAgbmFtZTogdC50eXBlLFxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgICByZXR1cm4gVW8odC5wcm9wU2NoZW1hKTtcbiAgICB9LFxuICAgIHBhcnNlSFRNTCgpIHtcbiAgICAgIHJldHVybiBPbyh0KTtcbiAgICB9LFxuICAgIHJlbmRlckhUTUwoeyBtYXJrOiBpIH0pIHtcbiAgICAgIGxldCBuO1xuICAgICAgaWYgKHQucHJvcFNjaGVtYSA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgIG4gPSBlLnJlbmRlcigpO1xuICAgICAgZWxzZSBpZiAodC5wcm9wU2NoZW1hID09PSBcInN0cmluZ1wiKVxuICAgICAgICBuID0gZS5yZW5kZXIoaS5hdHRycy5zdHJpbmdWYWx1ZSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBJKHQucHJvcFNjaGVtYSk7XG4gICAgICByZXR1cm4gRG8oXG4gICAgICAgIG4sXG4gICAgICAgIHQudHlwZSxcbiAgICAgICAgaS5hdHRycy5zdHJpbmdWYWx1ZSxcbiAgICAgICAgdC5wcm9wU2NoZW1hXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjdCh0LCB7XG4gICAgbWFyazogb1xuICB9KTtcbn1cbmNvbnN0IGFlID0gKHQpID0+IHtcbiAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGUuY2xhc3NOYW1lID0gXCJibi1maWxlLWRlZmF1bHQtcHJldmlld1wiO1xuICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgby5jbGFzc05hbWUgPSBcImJuLWZpbGUtZGVmYXVsdC1wcmV2aWV3LWljb25cIiwgby5pbm5lckhUTUwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48cGF0aCBkPVwiTTMgOEw5LjAwMzE5IDJIMTkuOTk3OEMyMC41NTEzIDIgMjEgMi40NTUzMSAyMSAyLjk5MThWMjEuMDA4MkMyMSAyMS41NTYgMjAuNTU1MSAyMiAyMC4wMDY2IDIySDMuOTkzNEMzLjQ0NDc2IDIyIDMgMjEuNTUwMSAzIDIwLjk5MzJWOFpNMTAgNFY5SDVWMjBIMTlWNEgxMFpcIj48L3BhdGg+PC9zdmc+JztcbiAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICByZXR1cm4gaS5jbGFzc05hbWUgPSBcImJuLWZpbGUtZGVmYXVsdC1wcmV2aWV3LW5hbWVcIiwgaS50ZXh0Q29udGVudCA9IHQucHJvcHMubmFtZSB8fCBcIlwiLCBlLmFwcGVuZENoaWxkKG8pLCBlLmFwcGVuZENoaWxkKGkpLCB7XG4gICAgZG9tOiBlXG4gIH07XG59LCBPID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG8uY2xhc3NOYW1lID0gXCJibi1maWxlLWFuZC1jYXB0aW9uLXdyYXBwZXJcIjtcbiAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICByZXR1cm4gaS5jbGFzc05hbWUgPSBcImJuLWZpbGUtY2FwdGlvblwiLCBpLnRleHRDb250ZW50ID0gdC5wcm9wcy5jYXB0aW9uLCBvLmFwcGVuZENoaWxkKGUpLCBvLmFwcGVuZENoaWxkKGkpLCB7XG4gICAgZG9tOiBvXG4gIH07XG59LCBzZSA9ICh0LCBlLCBvLCBpKSA9PiB7XG4gIGNvbnN0IG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBuLmNsYXNzTmFtZSA9IFwiYm4tYWRkLWZpbGUtYnV0dG9uXCI7XG4gIGNvbnN0IHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByLmNsYXNzTmFtZSA9IFwiYm4tYWRkLWZpbGUtYnV0dG9uLWljb25cIiwgaSA/IHIuYXBwZW5kQ2hpbGQoaSkgOiByLmlubmVySFRNTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPjxwYXRoIGQ9XCJNMyA4TDkuMDAzMTkgMkgxOS45OTc4QzIwLjU1MTMgMiAyMSAyLjQ1NTMxIDIxIDIuOTkxOFYyMS4wMDgyQzIxIDIxLjU1NiAyMC41NTUxIDIyIDIwLjAwNjYgMjJIMy45OTM0QzMuNDQ0NzYgMjIgMyAyMS41NTAxIDMgMjAuOTkzMlY4Wk0xMCA0VjlINVYyMEgxOVY0SDEwWlwiPjwvcGF0aD48L3N2Zz4nO1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGEuY2xhc3NOYW1lID0gXCJibi1hZGQtZmlsZS1idXR0b24tdGV4dFwiLCBhLmlubmVySFRNTCA9IG8gfHwgZS5kaWN0aW9uYXJ5LmZpbGVfYmxvY2tzLmZpbGUuYWRkX2J1dHRvbl90ZXh0O1xuICBjb25zdCBzID0gKGQpID0+IHtcbiAgICBkLnByZXZlbnREZWZhdWx0KCk7XG4gIH0sIGwgPSAoKSA9PiB7XG4gICAgZS5fdGlwdGFwRWRpdG9yLnZpZXcuZGlzcGF0Y2goXG4gICAgICBlLl90aXB0YXBFZGl0b3Iuc3RhdGUudHIuc2V0TWV0YShlLmZpbGVQYW5lbC5wbHVnaW4sIHtcbiAgICAgICAgYmxvY2s6IHRcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIG4uYXBwZW5kQ2hpbGQociksIG4uYXBwZW5kQ2hpbGQoYSksIG4uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcIm1vdXNlZG93blwiLFxuICAgIHMsXG4gICAgITBcbiAgKSwgbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbCwgITApLCB7XG4gICAgZG9tOiBuLFxuICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgIG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWRvd25cIixcbiAgICAgICAgcyxcbiAgICAgICAgITBcbiAgICAgICksIG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICBsLFxuICAgICAgICAhMFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59LCBPZSA9ICh0KSA9PiAoeyB1cmw6IHQuc3JjIHx8IHZvaWQgMCB9KSwgbGUgPSAodCwgZSkgPT4ge1xuICBjb25zdCBvID0gdC5xdWVyeVNlbGVjdG9yKFxuICAgIGVcbiAgKTtcbiAgaWYgKCFvKVxuICAgIHJldHVybjtcbiAgY29uc3QgaSA9IHQucXVlcnlTZWxlY3RvcihcImZpZ2NhcHRpb25cIiksIG4gPSAoaSA9PSBudWxsID8gdm9pZCAwIDogaS50ZXh0Q29udGVudCkgPz8gdm9pZCAwO1xuICByZXR1cm4geyB0YXJnZXRFbGVtZW50OiBvLCBjYXB0aW9uOiBuIH07XG59LCBkZSA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIHJldHVybiBpLnRleHRDb250ZW50ID0gZSwgby5hcHBlbmRDaGlsZCh0KSwgby5hcHBlbmRDaGlsZChpKSwge1xuICAgIGRvbTogb1xuICB9O1xufSwgeGUgPSAodCwgZSkgPT4ge1xuICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZ3VyZVwiKSwgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWdjYXB0aW9uXCIpO1xuICByZXR1cm4gaS50ZXh0Q29udGVudCA9IGUsIG8uYXBwZW5kQ2hpbGQodCksIG8uYXBwZW5kQ2hpbGQoaSksIHsgZG9tOiBvIH07XG59LCBwdCA9ICh0LCBlLCBvLCBpLCBuKSA9PiB7XG4gIGlmICghdC5wcm9wcy5wcmV2aWV3V2lkdGgpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQmxvY2sgbXVzdCBoYXZlIGEgYHByZXZpZXdXaWR0aGAgcHJvcC5cIik7XG4gIGNvbnN0IHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByLmNsYXNzTmFtZSA9IFwiYm4tdmlzdWFsLW1lZGlhLXdyYXBwZXJcIjtcbiAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGEuY2xhc3NOYW1lID0gXCJibi12aXN1YWwtbWVkaWEtcmVzaXplLWhhbmRsZVwiLCBhLnN0eWxlLmxlZnQgPSBcIjRweFwiO1xuICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcy5jbGFzc05hbWUgPSBcImJuLXZpc3VhbC1tZWRpYS1yZXNpemUtaGFuZGxlXCIsIHMuc3R5bGUucmlnaHQgPSBcIjRweFwiO1xuICBsZXQgbDtcbiAgY29uc3QgZCA9IChnKSA9PiB7XG4gICAgaWYgKCFsKSB7XG4gICAgICAhZS5pc0VkaXRhYmxlICYmIHIuY29udGFpbnMoYSkgJiYgci5jb250YWlucyhzKSAmJiAoci5yZW1vdmVDaGlsZChhKSwgci5yZW1vdmVDaGlsZChzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB5O1xuICAgIHQucHJvcHMudGV4dEFsaWdubWVudCA9PT0gXCJjZW50ZXJcIiA/IGwuaGFuZGxlVXNlZCA9PT0gXCJsZWZ0XCIgPyB5ID0gbC5pbml0aWFsV2lkdGggKyAobC5pbml0aWFsQ2xpZW50WCAtIGcuY2xpZW50WCkgKiAyIDogeSA9IGwuaW5pdGlhbFdpZHRoICsgKGcuY2xpZW50WCAtIGwuaW5pdGlhbENsaWVudFgpICogMiA6IGwuaGFuZGxlVXNlZCA9PT0gXCJsZWZ0XCIgPyB5ID0gbC5pbml0aWFsV2lkdGggKyBsLmluaXRpYWxDbGllbnRYIC0gZy5jbGllbnRYIDogeSA9IGwuaW5pdGlhbFdpZHRoICsgZy5jbGllbnRYIC0gbC5pbml0aWFsQ2xpZW50WDtcbiAgICBjb25zdCBCID0gNjQ7XG4gICAgeSA8IEIgPyBuKEIpIDogeSA+IGUuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRXaWR0aCA/IG4oZS5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoKSA6IG4oeSk7XG4gIH0sIHUgPSAoZykgPT4ge1xuICAgICghZy50YXJnZXQgfHwgIXIuY29udGFpbnMoZy50YXJnZXQpIHx8ICFlLmlzRWRpdGFibGUpICYmIHIuY29udGFpbnMoYSkgJiYgci5jb250YWlucyhzKSAmJiAoci5yZW1vdmVDaGlsZChhKSwgci5yZW1vdmVDaGlsZChzKSksIGwgJiYgKGwgPSB2b2lkIDAsIGUudXBkYXRlQmxvY2sodCwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgcHJldmlld1dpZHRoOiBpKClcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0sIHAgPSAoKSA9PiB7XG4gICAgZS5pc0VkaXRhYmxlICYmIChyLmFwcGVuZENoaWxkKGEpLCByLmFwcGVuZENoaWxkKHMpKTtcbiAgfSwgaCA9IChnKSA9PiB7XG4gICAgZy5yZWxhdGVkVGFyZ2V0ID09PSBhIHx8IGcucmVsYXRlZFRhcmdldCA9PT0gcyB8fCBsIHx8IGUuaXNFZGl0YWJsZSAmJiByLmNvbnRhaW5zKGEpICYmIHIuY29udGFpbnMocykgJiYgKHIucmVtb3ZlQ2hpbGQoYSksIHIucmVtb3ZlQ2hpbGQocykpO1xuICB9LCBmID0gKGcpID0+IHtcbiAgICBnLnByZXZlbnREZWZhdWx0KCksIHIuYXBwZW5kQ2hpbGQoYSksIHIuYXBwZW5kQ2hpbGQocyksIGwgPSB7XG4gICAgICBoYW5kbGVVc2VkOiBcImxlZnRcIixcbiAgICAgIGluaXRpYWxXaWR0aDogdC5wcm9wcy5wcmV2aWV3V2lkdGgsXG4gICAgICBpbml0aWFsQ2xpZW50WDogZy5jbGllbnRYXG4gICAgfTtcbiAgfSwgbSA9IChnKSA9PiB7XG4gICAgZy5wcmV2ZW50RGVmYXVsdCgpLCByLmFwcGVuZENoaWxkKGEpLCByLmFwcGVuZENoaWxkKHMpLCBsID0ge1xuICAgICAgaGFuZGxlVXNlZDogXCJyaWdodFwiLFxuICAgICAgaW5pdGlhbFdpZHRoOiB0LnByb3BzLnByZXZpZXdXaWR0aCxcbiAgICAgIGluaXRpYWxDbGllbnRYOiBnLmNsaWVudFhcbiAgICB9O1xuICB9O1xuICByZXR1cm4gci5hcHBlbmRDaGlsZChvKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZCksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB1KSwgby5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBwKSwgby5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBoKSwgYS5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwibW91c2Vkb3duXCIsXG4gICAgZlxuICApLCBzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJtb3VzZWRvd25cIixcbiAgICBtXG4gICksIHtcbiAgICBkb206IHIsXG4gICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZCksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB1KSwgby5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCBwKSwgby5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCBoKSwgYS5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlZG93blwiLFxuICAgICAgICBmXG4gICAgICApLCBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICAgIG1cbiAgICAgICk7XG4gICAgfVxuICB9O1xufSwgUm8gPSB7XG4gIGJhY2tncm91bmRDb2xvcjogay5iYWNrZ3JvdW5kQ29sb3IsXG4gIC8vIEZpbGUgbmFtZS5cbiAgbmFtZToge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSB1cmwuXG4gIHVybDoge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSBjYXB0aW9uLlxuICBjYXB0aW9uOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9XG59LCBWbyA9IHtcbiAgdHlwZTogXCJmaWxlXCIsXG4gIHByb3BTY2hlbWE6IFJvLFxuICBjb250ZW50OiBcIm5vbmVcIixcbiAgaXNGaWxlQmxvY2s6ICEwLFxuICBpc0ZpbGVCbG9ja1BsYWNlaG9sZGVyOiAodCkgPT4gIXQucHJvcHMudXJsXG59LCBqbyA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBpZiAoby5jbGFzc05hbWUgPSBcImJuLWZpbGUtYmxvY2stY29udGVudC13cmFwcGVyXCIsIHQucHJvcHMudXJsID09PSBcIlwiKSB7XG4gICAgY29uc3QgaSA9IHNlKHQsIGUpO1xuICAgIHJldHVybiBvLmFwcGVuZENoaWxkKGkuZG9tKSwge1xuICAgICAgZG9tOiBvLFxuICAgICAgZGVzdHJveTogaS5kZXN0cm95XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpID0gYWUodCkuZG9tLCBuID0gTyh0LCBpKTtcbiAgICByZXR1cm4gby5hcHBlbmRDaGlsZChuLmRvbSksIHtcbiAgICAgIGRvbTogb1xuICAgIH07XG4gIH1cbn0sIHpvID0gKHQpID0+IHtcbiAgaWYgKHQudGFnTmFtZSA9PT0gXCJFTUJFRFwiKVxuICAgIHJldHVybiBPZSh0KTtcbiAgaWYgKHQudGFnTmFtZSA9PT0gXCJGSUdVUkVcIikge1xuICAgIGNvbnN0IGUgPSBsZSh0LCBcImVtYmVkXCIpO1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IHRhcmdldEVsZW1lbnQ6IG8sIGNhcHRpb246IGkgfSA9IGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLk9lKG8pLFxuICAgICAgY2FwdGlvbjogaVxuICAgIH07XG4gIH1cbn0sIEZvID0gKHQpID0+IHtcbiAgaWYgKCF0LnByb3BzLnVybCkge1xuICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICByZXR1cm4gby50ZXh0Q29udGVudCA9IFwiQWRkIGZpbGVcIiwge1xuICAgICAgZG9tOiBvXG4gICAgfTtcbiAgfVxuICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gIHJldHVybiBlLmhyZWYgPSB0LnByb3BzLnVybCwgZS50ZXh0Q29udGVudCA9IHQucHJvcHMubmFtZSB8fCB0LnByb3BzLnVybCwgdC5wcm9wcy5jYXB0aW9uID8gZGUoZSwgdC5wcm9wcy5jYXB0aW9uKSA6IHtcbiAgICBkb206IGVcbiAgfTtcbn0sIEdvID0gcmUoVm8sIHtcbiAgcmVuZGVyOiBqbyxcbiAgcGFyc2U6IHpvLFxuICB0b0V4dGVybmFsSFRNTDogRm9cbn0pLCBSZSA9ICh0KSA9PiB7XG4gIGNvbnN0IGUgPSB0LnNyYyB8fCB2b2lkIDAsIG8gPSB0LndpZHRoIHx8IHZvaWQgMDtcbiAgcmV0dXJuIHsgdXJsOiBlLCBwcmV2aWV3V2lkdGg6IG8gfTtcbn0sIFdvID0ge1xuICB0ZXh0QWxpZ25tZW50OiBrLnRleHRBbGlnbm1lbnQsXG4gIGJhY2tncm91bmRDb2xvcjogay5iYWNrZ3JvdW5kQ29sb3IsXG4gIC8vIEZpbGUgbmFtZS5cbiAgbmFtZToge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSB1cmwuXG4gIHVybDoge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSBjYXB0aW9uLlxuICBjYXB0aW9uOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICBzaG93UHJldmlldzoge1xuICAgIGRlZmF1bHQ6ICEwXG4gIH0sXG4gIC8vIEZpbGUgcHJldmlldyB3aWR0aCBpbiBweC5cbiAgcHJldmlld1dpZHRoOiB7XG4gICAgZGVmYXVsdDogNTEyXG4gIH1cbn0sICRvID0ge1xuICB0eXBlOiBcImltYWdlXCIsXG4gIHByb3BTY2hlbWE6IFdvLFxuICBjb250ZW50OiBcIm5vbmVcIixcbiAgaXNGaWxlQmxvY2s6ICEwLFxuICBpc0ZpbGVCbG9ja1BsYWNlaG9sZGVyOiAodCkgPT4gIXQucHJvcHMudXJsLFxuICBmaWxlQmxvY2tBY2NlcHRNaW1lVHlwZXM6IFtcImltYWdlLypcIl1cbn0sIEtvID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGlmIChvLmNsYXNzTmFtZSA9IFwiYm4tZmlsZS1ibG9jay1jb250ZW50LXdyYXBwZXJcIiwgdC5wcm9wcy51cmwgPT09IFwiXCIpIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpLmlubmVySFRNTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPjxwYXRoIGQ9XCJNNSAxMS4xMDA1TDcgOS4xMDA1TDEyLjUgMTQuNjAwNUwxNiAxMS4xMDA1TDE5IDE0LjEwMDVWNUg1VjExLjEwMDVaTTQgM0gyMEMyMC41NTIzIDMgMjEgMy40NDc3MiAyMSA0VjIwQzIxIDIwLjU1MjMgMjAuNTUyMyAyMSAyMCAyMUg0QzMuNDQ3NzIgMjEgMyAyMC41NTIzIDMgMjBWNEMzIDMuNDQ3NzIgMy40NDc3MiAzIDQgM1pNMTUuNSAxMEMxNC42NzE2IDEwIDE0IDkuMzI4NDMgMTQgOC41QzE0IDcuNjcxNTcgMTQuNjcxNiA3IDE1LjUgN0MxNi4zMjg0IDcgMTcgNy42NzE1NyAxNyA4LjVDMTcgOS4zMjg0MyAxNi4zMjg0IDEwIDE1LjUgMTBaXCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgY29uc3QgbiA9IHNlKFxuICAgICAgdCxcbiAgICAgIGUsXG4gICAgICBlLmRpY3Rpb25hcnkuZmlsZV9ibG9ja3MuaW1hZ2UuYWRkX2J1dHRvbl90ZXh0LFxuICAgICAgaS5maXJzdEVsZW1lbnRDaGlsZFxuICAgICk7XG4gICAgcmV0dXJuIG8uYXBwZW5kQ2hpbGQobi5kb20pLCB7XG4gICAgICBkb206IG8sXG4gICAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICAgIHZhciByO1xuICAgICAgICAociA9IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uZGVzdHJveSkgPT0gbnVsbCB8fCByLmNhbGwobik7XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIGlmICh0LnByb3BzLnNob3dQcmV2aWV3KSB7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgaS5jbGFzc05hbWUgPSBcImJuLXZpc3VhbC1tZWRpYVwiLCBpLnNyYyA9IHQucHJvcHMudXJsLCBpLmFsdCA9IHQucHJvcHMubmFtZSB8fCB0LnByb3BzLmNhcHRpb24gfHwgXCJCbG9ja05vdGUgaW1hZ2VcIiwgaS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCIsIGkuZHJhZ2dhYmxlID0gITEsIGkud2lkdGggPSBNYXRoLm1pbihcbiAgICAgIHQucHJvcHMucHJldmlld1dpZHRoLFxuICAgICAgZS5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoXG4gICAgKTtcbiAgICBjb25zdCBuID0gcHQoXG4gICAgICB0LFxuICAgICAgZSxcbiAgICAgIGksXG4gICAgICAoKSA9PiBpLndpZHRoLFxuICAgICAgKGEpID0+IGkud2lkdGggPSBhXG4gICAgKSwgciA9IE8odCwgbi5kb20pO1xuICAgIHJldHVybiBvLmFwcGVuZENoaWxkKHIuZG9tKSwge1xuICAgICAgZG9tOiBvLFxuICAgICAgZGVzdHJveTogbi5kZXN0cm95XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpID0gYWUodCkuZG9tO1xuICAgIHJldHVybiB7XG4gICAgICBkb206IE8odCwgaSkuZG9tXG4gICAgfTtcbiAgfVxufSwgcW8gPSAodCkgPT4ge1xuICBpZiAodC50YWdOYW1lID09PSBcIklNR1wiKVxuICAgIHJldHVybiBSZSh0KTtcbiAgaWYgKHQudGFnTmFtZSA9PT0gXCJGSUdVUkVcIikge1xuICAgIGNvbnN0IGUgPSBsZSh0LCBcImltZ1wiKTtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyB0YXJnZXRFbGVtZW50OiBvLCBjYXB0aW9uOiBpIH0gPSBlO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5SZShvKSxcbiAgICAgIGNhcHRpb246IGlcbiAgICB9O1xuICB9XG59LCBYbyA9ICh0KSA9PiB7XG4gIGlmICghdC5wcm9wcy51cmwpIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcmV0dXJuIG8udGV4dENvbnRlbnQgPSBcIkFkZCBpbWFnZVwiLCB7XG4gICAgICBkb206IG9cbiAgICB9O1xuICB9XG4gIGxldCBlO1xuICByZXR1cm4gdC5wcm9wcy5zaG93UHJldmlldyA/IChlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSwgZS5zcmMgPSB0LnByb3BzLnVybCwgZS5hbHQgPSB0LnByb3BzLm5hbWUgfHwgdC5wcm9wcy5jYXB0aW9uIHx8IFwiQmxvY2tOb3RlIGltYWdlXCIsIGUud2lkdGggPSB0LnByb3BzLnByZXZpZXdXaWR0aCkgOiAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLCBlLmhyZWYgPSB0LnByb3BzLnVybCwgZS50ZXh0Q29udGVudCA9IHQucHJvcHMubmFtZSB8fCB0LnByb3BzLnVybCksIHQucHJvcHMuY2FwdGlvbiA/IHQucHJvcHMuc2hvd1ByZXZpZXcgPyB4ZShlLCB0LnByb3BzLmNhcHRpb24pIDogZGUoZSwgdC5wcm9wcy5jYXB0aW9uKSA6IHtcbiAgICBkb206IGVcbiAgfTtcbn0sIFpvID0gcmUoJG8sIHtcbiAgcmVuZGVyOiBLbyxcbiAgcGFyc2U6IHFvLFxuICB0b0V4dGVybmFsSFRNTDogWG9cbn0pLCBWZSA9ICh0KSA9PiB7XG4gIGNvbnN0IGUgPSB0LnNyYyB8fCB2b2lkIDAsIG8gPSB0LndpZHRoIHx8IHZvaWQgMDtcbiAgcmV0dXJuIHsgdXJsOiBlLCBwcmV2aWV3V2lkdGg6IG8gfTtcbn0sIEpvID0ge1xuICB0ZXh0QWxpZ25tZW50OiBrLnRleHRBbGlnbm1lbnQsXG4gIGJhY2tncm91bmRDb2xvcjogay5iYWNrZ3JvdW5kQ29sb3IsXG4gIC8vIEZpbGUgbmFtZS5cbiAgbmFtZToge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSB1cmwuXG4gIHVybDoge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSBjYXB0aW9uLlxuICBjYXB0aW9uOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICBzaG93UHJldmlldzoge1xuICAgIGRlZmF1bHQ6ICEwXG4gIH0sXG4gIC8vIEZpbGUgcHJldmlldyB3aWR0aCBpbiBweC5cbiAgcHJldmlld1dpZHRoOiB7XG4gICAgZGVmYXVsdDogNTEyXG4gIH1cbn0sIFlvID0ge1xuICB0eXBlOiBcInZpZGVvXCIsXG4gIHByb3BTY2hlbWE6IEpvLFxuICBjb250ZW50OiBcIm5vbmVcIixcbiAgaXNGaWxlQmxvY2s6ICEwLFxuICBpc0ZpbGVCbG9ja1BsYWNlaG9sZGVyOiAodCkgPT4gIXQucHJvcHMudXJsLFxuICBmaWxlQmxvY2tBY2NlcHRNaW1lVHlwZXM6IFtcInZpZGVvLypcIl1cbn0sIFFvID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGlmIChvLmNsYXNzTmFtZSA9IFwiYm4tZmlsZS1ibG9jay1jb250ZW50LXdyYXBwZXJcIiwgdC5wcm9wcy51cmwgPT09IFwiXCIpIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpLmlubmVySFRNTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPjxwYXRoIGQ9XCJNMiAzLjk5MzRDMiAzLjQ0NDc2IDIuNDU1MzEgMyAyLjk5MTggM0gyMS4wMDgyQzIxLjU1NiAzIDIyIDMuNDQ0OTUgMjIgMy45OTM0VjIwLjAwNjZDMjIgMjAuNTU1MiAyMS41NDQ3IDIxIDIxLjAwODIgMjFIMi45OTE4QzIuNDQ0MDUgMjEgMiAyMC41NTUxIDIgMjAuMDA2NlYzLjk5MzRaTTggNVYxOUgxNlY1SDhaTTQgNVY3SDZWNUg0Wk0xOCA1VjdIMjBWNUgxOFpNNCA5VjExSDZWOUg0Wk0xOCA5VjExSDIwVjlIMThaTTQgMTNWMTVINlYxM0g0Wk0xOCAxM1YxNUgyMFYxM0gxOFpNNCAxN1YxOUg2VjE3SDRaTTE4IDE3VjE5SDIwVjE3SDE4WlwiPjwvcGF0aD48L3N2Zz4nO1xuICAgIGNvbnN0IG4gPSBzZShcbiAgICAgIHQsXG4gICAgICBlLFxuICAgICAgZS5kaWN0aW9uYXJ5LmZpbGVfYmxvY2tzLnZpZGVvLmFkZF9idXR0b25fdGV4dCxcbiAgICAgIGkuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICApO1xuICAgIHJldHVybiBvLmFwcGVuZENoaWxkKG4uZG9tKSwge1xuICAgICAgZG9tOiBvLFxuICAgICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgICB2YXIgcjtcbiAgICAgICAgKHIgPSBuID09IG51bGwgPyB2b2lkIDAgOiBuLmRlc3Ryb3kpID09IG51bGwgfHwgci5jYWxsKG4pO1xuICAgICAgfVxuICAgIH07XG4gIH0gZWxzZSBpZiAodC5wcm9wcy5zaG93UHJldmlldykge1xuICAgIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XG4gICAgaS5jbGFzc05hbWUgPSBcImJuLXZpc3VhbC1tZWRpYVwiLCBpLnNyYyA9IHQucHJvcHMudXJsLCBpLmNvbnRyb2xzID0gITAsIGkuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiLCBpLmRyYWdnYWJsZSA9ICExLCBpLndpZHRoID0gTWF0aC5taW4oXG4gICAgICB0LnByb3BzLnByZXZpZXdXaWR0aCxcbiAgICAgIGUuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRXaWR0aFxuICAgICk7XG4gICAgY29uc3QgbiA9IHB0KFxuICAgICAgdCxcbiAgICAgIGUsXG4gICAgICBpLFxuICAgICAgKCkgPT4gaS53aWR0aCxcbiAgICAgIChhKSA9PiBpLndpZHRoID0gYVxuICAgICksIHIgPSBPKHQsIG4uZG9tKTtcbiAgICByZXR1cm4gby5hcHBlbmRDaGlsZChyLmRvbSksIHtcbiAgICAgIGRvbTogbyxcbiAgICAgIGRlc3Ryb3k6IG4uZGVzdHJveVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaSA9IGFlKHQpLmRvbTtcbiAgICByZXR1cm4ge1xuICAgICAgZG9tOiBPKHQsIGkpLmRvbVxuICAgIH07XG4gIH1cbn0sIGVpID0gKHQpID0+IHtcbiAgaWYgKHQudGFnTmFtZSA9PT0gXCJWSURFT1wiKVxuICAgIHJldHVybiBWZSh0KTtcbiAgaWYgKHQudGFnTmFtZSA9PT0gXCJGSUdVUkVcIikge1xuICAgIGNvbnN0IGUgPSBsZSh0LCBcInZpZGVvXCIpO1xuICAgIGlmICghZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IHRhcmdldEVsZW1lbnQ6IG8sIGNhcHRpb246IGkgfSA9IGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLlZlKG8pLFxuICAgICAgY2FwdGlvbjogaVxuICAgIH07XG4gIH1cbn0sIHRpID0gKHQpID0+IHtcbiAgaWYgKCF0LnByb3BzLnVybCkge1xuICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICByZXR1cm4gby50ZXh0Q29udGVudCA9IFwiQWRkIHZpZGVvXCIsIHtcbiAgICAgIGRvbTogb1xuICAgIH07XG4gIH1cbiAgbGV0IGU7XG4gIHJldHVybiB0LnByb3BzLnNob3dQcmV2aWV3ID8gKGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksIGUuc3JjID0gdC5wcm9wcy51cmwsIGUud2lkdGggPSB0LnByb3BzLnByZXZpZXdXaWR0aCkgOiAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLCBlLmhyZWYgPSB0LnByb3BzLnVybCwgZS50ZXh0Q29udGVudCA9IHQucHJvcHMubmFtZSB8fCB0LnByb3BzLnVybCksIHQucHJvcHMuY2FwdGlvbiA/IHQucHJvcHMuc2hvd1ByZXZpZXcgPyB4ZShlLCB0LnByb3BzLmNhcHRpb24pIDogZGUoZSwgdC5wcm9wcy5jYXB0aW9uKSA6IHtcbiAgICBkb206IGVcbiAgfTtcbn0sIG9pID0gcmUoWW8sIHtcbiAgcmVuZGVyOiBRbyxcbiAgcGFyc2U6IGVpLFxuICB0b0V4dGVybmFsSFRNTDogdGlcbn0pLCBqZSA9ICh0KSA9PiAoeyB1cmw6IHQuc3JjIHx8IHZvaWQgMCB9KSwgaWkgPSB7XG4gIGJhY2tncm91bmRDb2xvcjogay5iYWNrZ3JvdW5kQ29sb3IsXG4gIC8vIEZpbGUgbmFtZS5cbiAgbmFtZToge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSB1cmwuXG4gIHVybDoge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgLy8gRmlsZSBjYXB0aW9uLlxuICBjYXB0aW9uOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICBzaG93UHJldmlldzoge1xuICAgIGRlZmF1bHQ6ICEwXG4gIH1cbn0sIG5pID0ge1xuICB0eXBlOiBcImF1ZGlvXCIsXG4gIHByb3BTY2hlbWE6IGlpLFxuICBjb250ZW50OiBcIm5vbmVcIixcbiAgaXNGaWxlQmxvY2s6ICEwLFxuICBpc0ZpbGVCbG9ja1BsYWNlaG9sZGVyOiAodCkgPT4gIXQucHJvcHMudXJsLFxuICBmaWxlQmxvY2tBY2NlcHRNaW1lVHlwZXM6IFtcImF1ZGlvLypcIl1cbn0sIHJpID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGlmIChvLmNsYXNzTmFtZSA9IFwiYm4tZmlsZS1ibG9jay1jb250ZW50LXdyYXBwZXJcIiwgdC5wcm9wcy51cmwgPT09IFwiXCIpIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpLmlubmVySFRNTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPjxwYXRoIGQ9XCJNMiAxNi4wMDAxSDUuODg4ODlMMTEuMTgzNCAyMC4zMzE5QzExLjI3MjcgMjAuNDA1IDExLjM4NDYgMjAuNDQ0OSAxMS41IDIwLjQ0NDlDMTEuNzc2MSAyMC40NDQ5IDEyIDIwLjIyMTEgMTIgMTkuOTQ0OVY0LjA1NTE5QzEyIDMuOTM5NzcgMTEuOTYwMSAzLjgyNzkgMTEuODg3IDMuNzM4NTdDMTEuNzEyMSAzLjUyNDg1IDExLjM5NzEgMy40OTMzNSAxMS4xODM0IDMuNjY4MjFMNS44ODg4OSA4LjAwMDA3SDJDMS40NDc3MiA4LjAwMDA3IDEgOC40NDc3OCAxIDkuMDAwMDdWMTUuMDAwMUMxIDE1LjU1MjQgMS40NDc3MiAxNi4wMDAxIDIgMTYuMDAwMVpNMjMgMTJDMjMgMTUuMjkyIDIxLjU1MzkgMTguMjQ2MyAxOS4yNjIyIDIwLjI2MjJMMTcuODQ0NSAxOC44NDQ0QzE5Ljc3NTggMTcuMTkzNyAyMSAxNC43Mzk4IDIxIDEyQzIxIDkuMjYwMTYgMTkuNzc1OCA2LjgwNjI5IDE3Ljg0NDUgNS4xNTU1N0wxOS4yNjIyIDMuNzM3NzlDMjEuNTUzOSA1Ljc1MzY4IDIzIDguNzA3OTUgMjMgMTJaTTE4IDEyQzE4IDEwLjA4ODMgMTcuMTA2IDguMzg1NDggMTUuNzEzMyA3LjI4NjczTDE0LjI4NDIgOC43MTU4NEMxNS4zMjEzIDkuNDM4NTUgMTYgMTAuNjQgMTYgMTJDMTYgMTMuMzYgMTUuMzIxMyAxNC41NjE0IDE0LjI4NDIgMTUuMjg0MUwxNS43MTMzIDE2LjcxMzJDMTcuMTA2IDE1LjYxNDUgMTggMTMuOTExNiAxOCAxMlpcIj48L3BhdGg+PC9zdmc+JztcbiAgICBjb25zdCBuID0gc2UoXG4gICAgICB0LFxuICAgICAgZSxcbiAgICAgIGUuZGljdGlvbmFyeS5maWxlX2Jsb2Nrcy5hdWRpby5hZGRfYnV0dG9uX3RleHQsXG4gICAgICBpLmZpcnN0RWxlbWVudENoaWxkXG4gICAgKTtcbiAgICByZXR1cm4gby5hcHBlbmRDaGlsZChuLmRvbSksIHtcbiAgICAgIGRvbTogbyxcbiAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgdmFyIHI7XG4gICAgICAgIChyID0gbiA9PSBudWxsID8gdm9pZCAwIDogbi5kZXN0cm95KSA9PSBudWxsIHx8IHIuY2FsbChuKTtcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2UgaWYgKHQucHJvcHMuc2hvd1ByZXZpZXcpIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO1xuICAgIGkuY2xhc3NOYW1lID0gXCJibi1hdWRpb1wiLCBpLnNyYyA9IHQucHJvcHMudXJsLCBpLmNvbnRyb2xzID0gITAsIGkuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiLCBpLmRyYWdnYWJsZSA9ICExO1xuICAgIGNvbnN0IG4gPSBPKHQsIGkpO1xuICAgIHJldHVybiBvLmFwcGVuZENoaWxkKG4uZG9tKSwge1xuICAgICAgZG9tOiBvXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpID0gYWUodCkuZG9tO1xuICAgIHJldHVybiB7XG4gICAgICBkb206IE8odCwgaSkuZG9tXG4gICAgfTtcbiAgfVxufSwgYWkgPSAodCkgPT4ge1xuICBpZiAodC50YWdOYW1lID09PSBcIkFVRElPXCIpXG4gICAgcmV0dXJuIGplKHQpO1xuICBpZiAodC50YWdOYW1lID09PSBcIkZJR1VSRVwiKSB7XG4gICAgY29uc3QgZSA9IGxlKHQsIFwiYXVkaW9cIik7XG4gICAgaWYgKCFlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgdGFyZ2V0RWxlbWVudDogbywgY2FwdGlvbjogaSB9ID0gZTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uamUobyksXG4gICAgICBjYXB0aW9uOiBpXG4gICAgfTtcbiAgfVxufSwgc2kgPSAodCkgPT4ge1xuICBpZiAoIXQucHJvcHMudXJsKSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHJldHVybiBvLnRleHRDb250ZW50ID0gXCJBZGQgYXVkaW9cIiwge1xuICAgICAgZG9tOiBvXG4gICAgfTtcbiAgfVxuICBsZXQgZTtcbiAgcmV0dXJuIHQucHJvcHMuc2hvd1ByZXZpZXcgPyAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSwgZS5zcmMgPSB0LnByb3BzLnVybCkgOiAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLCBlLmhyZWYgPSB0LnByb3BzLnVybCwgZS50ZXh0Q29udGVudCA9IHQucHJvcHMubmFtZSB8fCB0LnByb3BzLnVybCksIHQucHJvcHMuY2FwdGlvbiA/IHQucHJvcHMuc2hvd1ByZXZpZXcgPyB4ZShlLCB0LnByb3BzLmNhcHRpb24pIDogZGUoZSwgdC5wcm9wcy5jYXB0aW9uKSA6IHtcbiAgICBkb206IGVcbiAgfTtcbn0sIGxpID0gcmUobmksIHtcbiAgcmVuZGVyOiByaSxcbiAgcGFyc2U6IGFpLFxuICB0b0V4dGVybmFsSFRNTDogc2lcbn0pLCBUciA9IGFzeW5jICh0KSA9PiB7XG4gIGNvbnN0IGUgPSBuZXcgRm9ybURhdGEoKTtcbiAgcmV0dXJuIGUuYXBwZW5kKFwiZmlsZVwiLCB0KSwgKGF3YWl0IChhd2FpdCBmZXRjaChcImh0dHBzOi8vdG1wZmlsZXMub3JnL2FwaS92MS91cGxvYWRcIiwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogZVxuICB9KSkuanNvbigpKS5kYXRhLnVybC5yZXBsYWNlKFxuICAgIFwidG1wZmlsZXMub3JnL1wiLFxuICAgIFwidG1wZmlsZXMub3JnL2RsL1wiXG4gICk7XG59LCBkaSA9IF9lLmNyZWF0ZSh7XG4gIG5hbWU6IFwiYmFja2dyb3VuZENvbG9yXCIsXG4gIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmluZ1ZhbHVlOiB7XG4gICAgICAgIGRlZmF1bHQ6IHZvaWQgMCxcbiAgICAgICAgcGFyc2VIVE1MOiAodCkgPT4gdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtY29sb3JcIiksXG4gICAgICAgIHJlbmRlckhUTUw6ICh0KSA9PiAoe1xuICAgICAgICAgIFwiZGF0YS1iYWNrZ3JvdW5kLWNvbG9yXCI6IHQuc3RyaW5nVmFsdWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcInNwYW5cIixcbiAgICAgICAgZ2V0QXR0cnM6ICh0KSA9PiB0eXBlb2YgdCA9PSBcInN0cmluZ1wiID8gITEgOiB0Lmhhc0F0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1jb2xvclwiKSA/IHtcbiAgICAgICAgICBzdHJpbmdWYWx1ZTogdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtY29sb3JcIilcbiAgICAgICAgfSA6ICExXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICByZXR1cm4gW1wic3BhblwiLCB0LCAwXTtcbiAgfVxufSksIGNpID0gUChcbiAgZGksXG4gIFwic3RyaW5nXCJcbiksIHVpID0gX2UuY3JlYXRlKHtcbiAgbmFtZTogXCJ0ZXh0Q29sb3JcIixcbiAgYWRkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyaW5nVmFsdWU6IHtcbiAgICAgICAgZGVmYXVsdDogdm9pZCAwLFxuICAgICAgICBwYXJzZUhUTUw6ICh0KSA9PiB0LmdldEF0dHJpYnV0ZShcImRhdGEtdGV4dC1jb2xvclwiKSxcbiAgICAgICAgcmVuZGVySFRNTDogKHQpID0+ICh7XG4gICAgICAgICAgXCJkYXRhLXRleHQtY29sb3JcIjogdC5zdHJpbmdWYWx1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHBhcnNlSFRNTCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyAhMSA6IHQuaGFzQXR0cmlidXRlKFwiZGF0YS10ZXh0LWNvbG9yXCIpID8geyBzdHJpbmdWYWx1ZTogdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRleHQtY29sb3JcIikgfSA6ICExXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICByZXR1cm4gW1wic3BhblwiLCB0LCAwXTtcbiAgfVxufSksIHBpID0gUCh1aSwgXCJzdHJpbmdcIiksIEwgPSAodCkgPT4ge1xuICBjb25zdCB7IGNvbnRlbnRUeXBlOiBlIH0gPSBiKFxuICAgIHQuc3RhdGUuZG9jLFxuICAgIHQuc3RhdGUuc2VsZWN0aW9uLmZyb21cbiAgKTtcbiAgcmV0dXJuIGUuc3BlYy5jb250ZW50O1xufSwgaGkgPSB7XG4gIC4uLmssXG4gIGxldmVsOiB7IGRlZmF1bHQ6IDEsIHZhbHVlczogWzEsIDIsIDNdIH1cbn0sIG1pID0gRyh7XG4gIG5hbWU6IFwiaGVhZGluZ1wiLFxuICBjb250ZW50OiBcImlubGluZSpcIixcbiAgZ3JvdXA6IFwiYmxvY2tDb250ZW50XCIsXG4gIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiB7XG4gICAgICAgIGRlZmF1bHQ6IDEsXG4gICAgICAgIC8vIGluc3RlYWQgb2YgXCJsZXZlbFwiIGF0dHJpYnV0ZXMsIHVzZSBcImRhdGEtbGV2ZWxcIlxuICAgICAgICBwYXJzZUhUTUw6ICh0KSA9PiB7XG4gICAgICAgICAgY29uc3QgZSA9IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZXZlbFwiKSwgbyA9IHBhcnNlSW50KGUpO1xuICAgICAgICAgIGlmIChpc0Zpbml0ZShvKSlcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJIVE1MOiAodCkgPT4gKHtcbiAgICAgICAgICBcImRhdGEtbGV2ZWxcIjogdC5sZXZlbC50b1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgYWRkSW5wdXRSdWxlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgLi4uWzEsIDIsIDNdLm1hcCgodCkgPT4gbmV3IHdlKHtcbiAgICAgICAgZmluZDogbmV3IFJlZ0V4cChgXigjeyR7dH19KVxcXFxzJGApLFxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZTogZSwgY2hhaW46IG8sIHJhbmdlOiBpIH0pID0+IHtcbiAgICAgICAgICBMKHRoaXMuZWRpdG9yKSA9PT0gXCJpbmxpbmUqXCIgJiYgbygpLkJOVXBkYXRlQmxvY2soZS5zZWxlY3Rpb24uZnJvbSwge1xuICAgICAgICAgICAgdHlwZTogXCJoZWFkaW5nXCIsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICBsZXZlbDogdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmRlbGV0ZVJhbmdlKHsgZnJvbTogaS5mcm9tLCB0bzogaS50byB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpXG4gICAgXTtcbiAgfSxcbiAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwiTW9kLUFsdC0xXCI6ICgpID0+IEwodGhpcy5lZGl0b3IpICE9PSBcImlubGluZSpcIiA/ICEwIDogdGhpcy5lZGl0b3IuY29tbWFuZHMuQk5VcGRhdGVCbG9jayhcbiAgICAgICAgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBsZXZlbDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIFwiTW9kLUFsdC0yXCI6ICgpID0+IEwodGhpcy5lZGl0b3IpICE9PSBcImlubGluZSpcIiA/ICEwIDogdGhpcy5lZGl0b3IuY29tbWFuZHMuQk5VcGRhdGVCbG9jayhcbiAgICAgICAgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBsZXZlbDogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIFwiTW9kLUFsdC0zXCI6ICgpID0+IEwodGhpcy5lZGl0b3IpICE9PSBcImlubGluZSpcIiA/ICEwIDogdGhpcy5lZGl0b3IuY29tbWFuZHMuQk5VcGRhdGVCbG9jayhcbiAgICAgICAgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBsZXZlbDogM1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH07XG4gIH0sXG4gIHBhcnNlSFRNTCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0YWc6IFwiZGl2W2RhdGEtY29udGVudC10eXBlPVwiICsgdGhpcy5uYW1lICsgXCJdXCIsXG4gICAgICAgIGdldEF0dHJzOiAodCkgPT4gdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/ICExIDoge1xuICAgICAgICAgIGxldmVsOiB0LmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIilcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImgxXCIsXG4gICAgICAgIGF0dHJzOiB7IGxldmVsOiAxIH0sXG4gICAgICAgIG5vZGU6IFwiaGVhZGluZ1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0YWc6IFwiaDJcIixcbiAgICAgICAgYXR0cnM6IHsgbGV2ZWw6IDIgfSxcbiAgICAgICAgbm9kZTogXCJoZWFkaW5nXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJoM1wiLFxuICAgICAgICBhdHRyczogeyBsZXZlbDogMyB9LFxuICAgICAgICBub2RlOiBcImhlYWRpbmdcIlxuICAgICAgfVxuICAgIF07XG4gIH0sXG4gIHJlbmRlckhUTUwoeyBub2RlOiB0LCBIVE1MQXR0cmlidXRlczogZSB9KSB7XG4gICAgdmFyIG8sIGk7XG4gICAgcmV0dXJuIFkoXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICBgaCR7dC5hdHRycy5sZXZlbH1gLFxuICAgICAge1xuICAgICAgICAuLi4oKG8gPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uYmxvY2tDb250ZW50KSB8fCB7fSxcbiAgICAgICAgLi4uZVxuICAgICAgfSxcbiAgICAgICgoaSA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogaS5pbmxpbmVDb250ZW50KSB8fCB7fVxuICAgICk7XG4gIH1cbn0pLCBmaSA9IFEoXG4gIG1pLFxuICBoaVxuKSwgRWUgPSAodCkgPT4ge1xuICBjb25zdCB7IG5vZGU6IGUsIGNvbnRlbnRUeXBlOiBvIH0gPSBiKFxuICAgIHQuc3RhdGUuZG9jLFxuICAgIHQuc3RhdGUuc2VsZWN0aW9uLmZyb21cbiAgKSwgaSA9IHQuc3RhdGUuc2VsZWN0aW9uLmFuY2hvciA9PT0gdC5zdGF0ZS5zZWxlY3Rpb24uaGVhZDtcbiAgcmV0dXJuICEoby5uYW1lID09PSBcImJ1bGxldExpc3RJdGVtXCIgfHwgby5uYW1lID09PSBcIm51bWJlcmVkTGlzdEl0ZW1cIikgfHwgIWkgPyAhMSA6IHQuY29tbWFuZHMuZmlyc3QoKHsgc3RhdGU6IG4sIGNoYWluOiByLCBjb21tYW5kczogYSB9KSA9PiBbXG4gICAgKCkgPT4gKFxuICAgICAgLy8gQ2hhbmdlcyBsaXN0IGl0ZW0gYmxvY2sgdG8gYSB0ZXh0IGJsb2NrIGlmIHRoZSBjb250ZW50IGlzIGVtcHR5LlxuICAgICAgYS5jb21tYW5kKCgpID0+IGUudGV4dENvbnRlbnQubGVuZ3RoID09PSAwID8gYS5CTlVwZGF0ZUJsb2NrKG4uc2VsZWN0aW9uLmZyb20sIHtcbiAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIixcbiAgICAgICAgcHJvcHM6IHt9XG4gICAgICB9KSA6ICExKVxuICAgICksXG4gICAgKCkgPT4gKFxuICAgICAgLy8gU3BsaXRzIHRoZSBjdXJyZW50IGJsb2NrLCBtb3ZpbmcgY29udGVudCBpbnNpZGUgdGhhdCdzIGFmdGVyIHRoZSBjdXJzb3IgdG8gYSBuZXcgYmxvY2sgb2YgdGhlIHNhbWUgdHlwZVxuICAgICAgLy8gYmVsb3cuXG4gICAgICBhLmNvbW1hbmQoKCkgPT4gZS50ZXh0Q29udGVudC5sZW5ndGggPiAwID8gKHIoKS5kZWxldGVTZWxlY3Rpb24oKS5CTlNwbGl0QmxvY2sobi5zZWxlY3Rpb24uZnJvbSwgITApLnJ1bigpLCAhMCkgOiAhMSlcbiAgICApXG4gIF0pO1xufSwgZ2kgPSB7XG4gIC4uLmtcbn0sIGJpID0gRyh7XG4gIG5hbWU6IFwiYnVsbGV0TGlzdEl0ZW1cIixcbiAgY29udGVudDogXCJpbmxpbmUqXCIsXG4gIGdyb3VwOiBcImJsb2NrQ29udGVudFwiLFxuICBhZGRJbnB1dFJ1bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICAvLyBDcmVhdGVzIGFuIHVub3JkZXJlZCBsaXN0IHdoZW4gc3RhcnRpbmcgd2l0aCBcIi1cIiwgXCIrXCIsIG9yIFwiKlwiLlxuICAgICAgbmV3IHdlKHtcbiAgICAgICAgZmluZDogbmV3IFJlZ0V4cChcIl5bLSsqXVxcXFxzJFwiKSxcbiAgICAgICAgaGFuZGxlcjogKHsgc3RhdGU6IHQsIGNoYWluOiBlLCByYW5nZTogbyB9KSA9PiB7XG4gICAgICAgICAgTCh0aGlzLmVkaXRvcikgPT09IFwiaW5saW5lKlwiICYmIGUoKS5CTlVwZGF0ZUJsb2NrKHQuc2VsZWN0aW9uLmZyb20sIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYnVsbGV0TGlzdEl0ZW1cIixcbiAgICAgICAgICAgIHByb3BzOiB7fVxuICAgICAgICAgIH0pLmRlbGV0ZVJhbmdlKHsgZnJvbTogby5mcm9tLCB0bzogby50byB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdO1xuICB9LFxuICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgRW50ZXI6ICgpID0+IEVlKHRoaXMuZWRpdG9yKSxcbiAgICAgIFwiTW9kLVNoaWZ0LThcIjogKCkgPT4gTCh0aGlzLmVkaXRvcikgIT09IFwiaW5saW5lKlwiID8gITAgOiB0aGlzLmVkaXRvci5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKFxuICAgICAgICB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJidWxsZXRMaXN0SXRlbVwiLFxuICAgICAgICAgIHByb3BzOiB7fVxuICAgICAgICB9XG4gICAgICApXG4gICAgfTtcbiAgfSxcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbXG4gICAgICAvLyBDYXNlIGZvciByZWd1bGFyIEhUTUwgbGlzdCBzdHJ1Y3R1cmUuXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJkaXZbZGF0YS1jb250ZW50LXR5cGU9XCIgKyB0aGlzLm5hbWUgKyBcIl1cIlxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgaWYgd2UgY2FuJ3QgY29tZSB1cCB3aXRoIHRlc3QgY2FzZSB0aGF0IG5lZWRzIHRoaXNcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJsaVwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICBjb25zdCBlID0gdC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIHJldHVybiBlID09PSBudWxsID8gITEgOiBlLnRhZ05hbWUgPT09IFwiVUxcIiB8fCBlLnRhZ05hbWUgPT09IFwiRElWXCIgJiYgZS5wYXJlbnRFbGVtZW50LnRhZ05hbWUgPT09IFwiVUxcIiA/IHt9IDogITE7XG4gICAgICAgIH0sXG4gICAgICAgIG5vZGU6IFwiYnVsbGV0TGlzdEl0ZW1cIlxuICAgICAgfSxcbiAgICAgIC8vIENhc2UgZm9yIEJsb2NrTm90ZSBsaXN0IHN0cnVjdHVyZS5cbiAgICAgIHtcbiAgICAgICAgdGFnOiBcInBcIixcbiAgICAgICAgZ2V0QXR0cnM6ICh0KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgY29uc3QgZSA9IHQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gZSA9PT0gbnVsbCA/ICExIDogZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRlbnQtdHlwZVwiKSA9PT0gXCJidWxsZXRMaXN0SXRlbVwiID8ge30gOiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IDMwMCxcbiAgICAgICAgbm9kZTogXCJidWxsZXRMaXN0SXRlbVwiXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICB2YXIgZSwgbztcbiAgICByZXR1cm4gWShcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIC8vIFdlIHVzZSBhIDxwPiB0YWcsIGJlY2F1c2UgZm9yIDxsaT4gdGFncyB3ZSdkIG5lZWQgYSA8dWw+IGVsZW1lbnQgdG8gcHV0XG4gICAgICAvLyB0aGVtIGluIHRvIGJlIHNlbWFudGljYWxseSBjb3JyZWN0LCB3aGljaCB3ZSBjYW4ndCBoYXZlIGR1ZSB0byB0aGVcbiAgICAgIC8vIHNjaGVtYS5cbiAgICAgIFwicFwiLFxuICAgICAge1xuICAgICAgICAuLi4oKGUgPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IGUuYmxvY2tDb250ZW50KSB8fCB7fSxcbiAgICAgICAgLi4udFxuICAgICAgfSxcbiAgICAgICgobyA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogby5pbmxpbmVDb250ZW50KSB8fCB7fVxuICAgICk7XG4gIH1cbn0pLCBraSA9IFEoXG4gIGJpLFxuICBnaVxuKSwgeWkgPSBuZXcgeChcIm51bWJlcmVkLWxpc3QtaW5kZXhpbmdcIiksIF9pID0gKCkgPT4gbmV3IHcoe1xuICBrZXk6IHlpLFxuICBhcHBlbmRUcmFuc2FjdGlvbjogKHQsIGUsIG8pID0+IHtcbiAgICBjb25zdCBpID0gby50cjtcbiAgICBpLnNldE1ldGEoXCJudW1iZXJlZExpc3RJbmRleGluZ1wiLCAhMCk7XG4gICAgbGV0IG4gPSAhMTtcbiAgICByZXR1cm4gby5kb2MuZGVzY2VuZGFudHMoKHIsIGEpID0+IHtcbiAgICAgIGlmIChyLnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiICYmIHIuZmlyc3RDaGlsZC50eXBlLm5hbWUgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiKSB7XG4gICAgICAgIGxldCBzID0gXCIxXCI7XG4gICAgICAgIGNvbnN0IGwgPSBhID09PSAxLCBkID0gYihpLmRvYywgYSArIDEpO1xuICAgICAgICBpZiAoZCA9PT0gdm9pZCAwKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFsKSB7XG4gICAgICAgICAgY29uc3QgaCA9IGIoaS5kb2MsIGEgLSAyKTtcbiAgICAgICAgICBpZiAoaCA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGlmICghKGQuZGVwdGggIT09IGguZGVwdGgpKSB7XG4gICAgICAgICAgICBjb25zdCBtID0gaC5jb250ZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChoLmNvbnRlbnRUeXBlLm5hbWUgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IEIgPSBtLmF0dHJzLmluZGV4O1xuICAgICAgICAgICAgICBzID0gKHBhcnNlSW50KEIpICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZC5jb250ZW50Tm9kZS5hdHRycy5pbmRleCAhPT0gcyAmJiAobiA9ICEwLCBpLnNldE5vZGVNYXJrdXAoYSArIDEsIHZvaWQgMCwge1xuICAgICAgICAgIGluZGV4OiBzXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KSwgbiA/IGkgOiBudWxsO1xuICB9XG59KSwgd2kgPSB7XG4gIC4uLmtcbn0sIHZpID0gRyh7XG4gIG5hbWU6IFwibnVtYmVyZWRMaXN0SXRlbVwiLFxuICBjb250ZW50OiBcImlubGluZSpcIixcbiAgZ3JvdXA6IFwiYmxvY2tDb250ZW50XCIsXG4gIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4OiB7XG4gICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICAgIHBhcnNlSFRNTDogKHQpID0+IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKSxcbiAgICAgICAgcmVuZGVySFRNTDogKHQpID0+ICh7XG4gICAgICAgICAgXCJkYXRhLWluZGV4XCI6IHQuaW5kZXhcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBhZGRJbnB1dFJ1bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICAvLyBDcmVhdGVzIGFuIG9yZGVyZWQgbGlzdCB3aGVuIHN0YXJ0aW5nIHdpdGggXCIxLlwiLlxuICAgICAgbmV3IHdlKHtcbiAgICAgICAgZmluZDogbmV3IFJlZ0V4cChcIl4xXFxcXC5cXFxccyRcIiksXG4gICAgICAgIGhhbmRsZXI6ICh7IHN0YXRlOiB0LCBjaGFpbjogZSwgcmFuZ2U6IG8gfSkgPT4ge1xuICAgICAgICAgIEwodGhpcy5lZGl0b3IpID09PSBcImlubGluZSpcIiAmJiBlKCkuQk5VcGRhdGVCbG9jayh0LnNlbGVjdGlvbi5mcm9tLCB7XG4gICAgICAgICAgICB0eXBlOiBcIm51bWJlcmVkTGlzdEl0ZW1cIixcbiAgICAgICAgICAgIHByb3BzOiB7fVxuICAgICAgICAgIH0pLmRlbGV0ZVJhbmdlKHsgZnJvbTogby5mcm9tLCB0bzogby50byB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdO1xuICB9LFxuICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgRW50ZXI6ICgpID0+IEVlKHRoaXMuZWRpdG9yKSxcbiAgICAgIFwiTW9kLVNoaWZ0LTdcIjogKCkgPT4gTCh0aGlzLmVkaXRvcikgIT09IFwiaW5saW5lKlwiID8gITAgOiB0aGlzLmVkaXRvci5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKFxuICAgICAgICB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJudW1iZXJlZExpc3RJdGVtXCIsXG4gICAgICAgICAgcHJvcHM6IHt9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9O1xuICB9LFxuICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XG4gICAgcmV0dXJuIFtfaSgpXTtcbiAgfSxcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJkaXZbZGF0YS1jb250ZW50LXR5cGU9XCIgKyB0aGlzLm5hbWUgKyBcIl1cIlxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgaWYgd2UgY2FuJ3QgY29tZSB1cCB3aXRoIHRlc3QgY2FzZSB0aGF0IG5lZWRzIHRoaXNcbiAgICAgIH0sXG4gICAgICAvLyBDYXNlIGZvciByZWd1bGFyIEhUTUwgbGlzdCBzdHJ1Y3R1cmUuXG4gICAgICAvLyAoZS5nLjogd2hlbiBwYXN0aW5nIGZyb20gb3RoZXIgYXBwcylcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImxpXCIsXG4gICAgICAgIGdldEF0dHJzOiAodCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgIGNvbnN0IGUgPSB0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgcmV0dXJuIGUgPT09IG51bGwgPyAhMSA6IGUudGFnTmFtZSA9PT0gXCJPTFwiIHx8IGUudGFnTmFtZSA9PT0gXCJESVZcIiAmJiBlLnBhcmVudEVsZW1lbnQudGFnTmFtZSA9PT0gXCJPTFwiID8ge30gOiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgbm9kZTogXCJudW1iZXJlZExpc3RJdGVtXCJcbiAgICAgIH0sXG4gICAgICAvLyBDYXNlIGZvciBCbG9ja05vdGUgbGlzdCBzdHJ1Y3R1cmUuXG4gICAgICAvLyAoZS5nLjogd2hlbiBwYXN0aW5nIGZyb20gYmxvY2tub3RlKVxuICAgICAge1xuICAgICAgICB0YWc6IFwicFwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICBjb25zdCBlID0gdC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIHJldHVybiBlID09PSBudWxsID8gITEgOiBlLmdldEF0dHJpYnV0ZShcImRhdGEtY29udGVudC10eXBlXCIpID09PSBcIm51bWJlcmVkTGlzdEl0ZW1cIiA/IHt9IDogITE7XG4gICAgICAgIH0sXG4gICAgICAgIHByaW9yaXR5OiAzMDAsXG4gICAgICAgIG5vZGU6IFwibnVtYmVyZWRMaXN0SXRlbVwiXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICB2YXIgZSwgbztcbiAgICByZXR1cm4gWShcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIC8vIFdlIHVzZSBhIDxwPiB0YWcsIGJlY2F1c2UgZm9yIDxsaT4gdGFncyB3ZSdkIG5lZWQgYW4gPG9sPiBlbGVtZW50IHRvXG4gICAgICAvLyBwdXQgdGhlbSBpbiB0byBiZSBzZW1hbnRpY2FsbHkgY29ycmVjdCwgd2hpY2ggd2UgY2FuJ3QgaGF2ZSBkdWUgdG8gdGhlXG4gICAgICAvLyBzY2hlbWEuXG4gICAgICBcInBcIixcbiAgICAgIHtcbiAgICAgICAgLi4uKChlID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBlLmJsb2NrQ29udGVudCkgfHwge30sXG4gICAgICAgIC4uLnRcbiAgICAgIH0sXG4gICAgICAoKG8gPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uaW5saW5lQ29udGVudCkgfHwge31cbiAgICApO1xuICB9XG59KSwgeGkgPSBRKFxuICB2aSxcbiAgd2lcbiksIEVpID0ge1xuICAuLi5rXG59LCBDaSA9IEcoe1xuICBuYW1lOiBcInBhcmFncmFwaFwiLFxuICBjb250ZW50OiBcImlubGluZSpcIixcbiAgZ3JvdXA6IFwiYmxvY2tDb250ZW50XCIsXG4gIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBFbnRlcjogKCkgPT4gRWUodGhpcy5lZGl0b3IpLFxuICAgICAgXCJNb2QtQWx0LTBcIjogKCkgPT4gTCh0aGlzLmVkaXRvcikgIT09IFwiaW5saW5lKlwiID8gITAgOiB0aGlzLmVkaXRvci5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKFxuICAgICAgICB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIixcbiAgICAgICAgICBwcm9wczoge31cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH07XG4gIH0sXG4gIHBhcnNlSFRNTCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyB0YWc6IFwiZGl2W2RhdGEtY29udGVudC10eXBlPVwiICsgdGhpcy5uYW1lICsgXCJdXCIgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcInBcIixcbiAgICAgICAgcHJpb3JpdHk6IDIwMCxcbiAgICAgICAgbm9kZTogXCJwYXJhZ3JhcGhcIlxuICAgICAgfVxuICAgIF07XG4gIH0sXG4gIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlczogdCB9KSB7XG4gICAgdmFyIGUsIG87XG4gICAgcmV0dXJuIFkoXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICBcInBcIixcbiAgICAgIHtcbiAgICAgICAgLi4uKChlID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBlLmJsb2NrQ29udGVudCkgfHwge30sXG4gICAgICAgIC4uLnRcbiAgICAgIH0sXG4gICAgICAoKG8gPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uaW5saW5lQ29udGVudCkgfHwge31cbiAgICApO1xuICB9XG59KSwgU2kgPSBRKFxuICBDaSxcbiAgRWlcbiksIE1pID0gVC5jcmVhdGUoe1xuICBuYW1lOiBcIkJsb2NrTm90ZVRhYmxlRXh0ZW5zaW9uXCIsXG4gIGFkZFByb3NlTWlycm9yUGx1Z2luczogKCkgPT4gW1xuICAgIFp0KHtcbiAgICAgIGNlbGxNaW5XaWR0aDogMTAwXG4gICAgfSksXG4gICAgSnQoKVxuICBdLFxuICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gTWFrZXMgZW50ZXIgY3JlYXRlIGEgbmV3IGxpbmUgd2l0aGluIHRoZSBjZWxsLlxuICAgICAgRW50ZXI6ICgpID0+IHRoaXMuZWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5lbXB0eSAmJiB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uJGhlYWQucGFyZW50LnR5cGUubmFtZSA9PT0gXCJ0YWJsZVBhcmFncmFwaFwiID8gKHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNldEhhcmRCcmVhaygpLCAhMCkgOiAhMSxcbiAgICAgIC8vIEVuc3VyZXMgdGhhdCBiYWNrc3BhY2Ugd29uJ3QgZGVsZXRlIHRoZSB0YWJsZSBpZiB0aGUgdGV4dCBjdXJzb3IgaXMgYXRcbiAgICAgIC8vIHRoZSBzdGFydCBvZiBhIGNlbGwgYW5kIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHkuXG4gICAgICBCYWNrc3BhY2U6ICgpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZWRpdG9yLnN0YXRlLnNlbGVjdGlvbiwgZSA9IHQuZW1wdHksIG8gPSB0LiRoZWFkLnBhcmVudE9mZnNldCA9PT0gMCwgaSA9IHQuJGhlYWQubm9kZSgpLnR5cGUubmFtZSA9PT0gXCJ0YWJsZVBhcmFncmFwaFwiO1xuICAgICAgICByZXR1cm4gZSAmJiBvICYmIGk7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgZXh0ZW5kTm9kZVNjaGVtYSh0KSB7XG4gICAgY29uc3QgZSA9IHtcbiAgICAgIG5hbWU6IHQubmFtZSxcbiAgICAgIG9wdGlvbnM6IHQub3B0aW9ucyxcbiAgICAgIHN0b3JhZ2U6IHQuc3RvcmFnZVxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhYmxlUm9sZTogSXQoXG4gICAgICAgIEF0KHQsIFwidGFibGVSb2xlXCIsIGUpXG4gICAgICApXG4gICAgfTtcbiAgfVxufSksIFRpID0ge1xuICAuLi5rXG59LCBCaSA9IEcoe1xuICBuYW1lOiBcInRhYmxlXCIsXG4gIGNvbnRlbnQ6IFwidGFibGVSb3crXCIsXG4gIGdyb3VwOiBcImJsb2NrQ29udGVudFwiLFxuICB0YWJsZVJvbGU6IFwidGFibGVcIixcbiAgaXNvbGF0aW5nOiAhMCxcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbeyB0YWc6IFwidGFibGVcIiB9XTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICB2YXIgZSwgbztcbiAgICByZXR1cm4gWShcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIFwidGFibGVcIixcbiAgICAgIHtcbiAgICAgICAgLi4uKChlID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBlLmJsb2NrQ29udGVudCkgfHwge30sXG4gICAgICAgIC4uLnRcbiAgICAgIH0sXG4gICAgICAoKG8gPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uaW5saW5lQ29udGVudCkgfHwge31cbiAgICApO1xuICB9XG59KSwgTGkgPSBGLmNyZWF0ZSh7XG4gIG5hbWU6IFwidGFibGVQYXJhZ3JhcGhcIixcbiAgZ3JvdXA6IFwidGFibGVDb250ZW50XCIsXG4gIGNvbnRlbnQ6IFwiaW5saW5lKlwiLFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFt7IHRhZzogXCJwXCIgfV07XG4gIH0sXG4gIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlczogdCB9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwicFwiLFxuICAgICAgTnQodGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCB0KSxcbiAgICAgIDBcbiAgICBdO1xuICB9XG59KSwgSWkgPSBRKFxuICBCaSxcbiAgVGksXG4gIFtcbiAgICBNaSxcbiAgICBMaSxcbiAgICBxdC5leHRlbmQoe1xuICAgICAgY29udGVudDogXCJ0YWJsZUNvbnRlbnRcIlxuICAgIH0pLFxuICAgIEt0LmV4dGVuZCh7XG4gICAgICBjb250ZW50OiBcInRhYmxlQ29udGVudFwiXG4gICAgfSksXG4gICAgWHRcbiAgXVxuKSwgaHQgPSB7XG4gIHBhcmFncmFwaDogU2ksXG4gIGhlYWRpbmc6IGZpLFxuICBidWxsZXRMaXN0SXRlbToga2ksXG4gIG51bWJlcmVkTGlzdEl0ZW06IHhpLFxuICBmaWxlOiBHbyxcbiAgaW1hZ2U6IFpvLFxuICB2aWRlbzogb2ksXG4gIGF1ZGlvOiBsaSxcbiAgdGFibGU6IElpXG59LCBBaSA9IGx0KGh0KSwgbXQgPSB7XG4gIGJvbGQ6IFAoenQsIFwiYm9vbGVhblwiKSxcbiAgaXRhbGljOiBQKEd0LCBcImJvb2xlYW5cIiksXG4gIHVuZGVybGluZTogUCgkdCwgXCJib29sZWFuXCIpLFxuICBzdHJpa2U6IFAoV3QsIFwiYm9vbGVhblwiKSxcbiAgY29kZTogUChGdCwgXCJib29sZWFuXCIpLFxuICB0ZXh0Q29sb3I6IHBpLFxuICBiYWNrZ3JvdW5kQ29sb3I6IGNpXG59LCBCciA9IHV0KG10KSwgZnQgPSB7XG4gIHRleHQ6IHsgY29uZmlnOiBcInRleHRcIiwgaW1wbGVtZW50YXRpb246IHt9IH0sXG4gIGxpbms6IHsgY29uZmlnOiBcImxpbmtcIiwgaW1wbGVtZW50YXRpb246IHt9IH1cbn0sIExyID0gZHQoXG4gIGZ0XG4pO1xuZnVuY3Rpb24gUyh0LCBlKSB7XG4gIHJldHVybiB0IGluIGUuc2NoZW1hLmJsb2NrU2NoZW1hICYmIGUuc2NoZW1hLmJsb2NrU2NoZW1hW3RdID09PSBBaVt0XTtcbn1cbmZ1bmN0aW9uIElyKHQsIGUsIG8pIHtcbiAgcmV0dXJuIGUudHlwZSA9PT0gdCAmJiBlLnR5cGUgaW4gby5zY2hlbWEuYmxvY2tTY2hlbWEgJiYgUyhlLnR5cGUsIG8pO1xufVxuZnVuY3Rpb24gQXIodCwgZSkge1xuICByZXR1cm4gdC50eXBlIGluIGUuc2NoZW1hLmJsb2NrU2NoZW1hICYmIGUuc2NoZW1hLmJsb2NrU2NoZW1hW3QudHlwZV0uaXNGaWxlQmxvY2sgfHwgITE7XG59XG5mdW5jdGlvbiBOcih0LCBlKSB7XG4gIHJldHVybiB0LnR5cGUgaW4gZS5zY2hlbWEuYmxvY2tTY2hlbWEgJiYgZS5zY2hlbWEuYmxvY2tTY2hlbWFbdC50eXBlXS5pc0ZpbGVCbG9jayAmJiBcInNob3dQcmV2aWV3XCIgaW4gZS5zY2hlbWEuYmxvY2tTY2hlbWFbdC50eXBlXS5wcm9wU2NoZW1hIHx8ICExO1xufVxuZnVuY3Rpb24gUHIodCwgZSkge1xuICBjb25zdCBvID0gZS5zY2hlbWEuYmxvY2tTY2hlbWFbdC50eXBlXTtcbiAgcmV0dXJuIG8uaXNGaWxlQmxvY2sgJiYgby5pc0ZpbGVCbG9ja1BsYWNlaG9sZGVyKHQpO1xufVxuZnVuY3Rpb24gTmkodCwgZSwgbykge1xuICByZXR1cm4gZSBpbiBvLnNjaGVtYS5ibG9ja1NjaGVtYSAmJiB0IGluIG8uc2NoZW1hLmJsb2NrU2NoZW1hW2VdLnByb3BTY2hlbWEgJiYgby5zY2hlbWEuYmxvY2tTY2hlbWFbZV0ucHJvcFNjaGVtYVt0XSA9PT0ga1t0XTtcbn1cbmZ1bmN0aW9uIEhyKHQsIGUsIG8pIHtcbiAgcmV0dXJuIE5pKHQsIGUudHlwZSwgbyk7XG59XG5mdW5jdGlvbiBDZSh0LCBlKSB7XG4gIGxldCBvLCBpO1xuICBpZiAoZS5maXJzdENoaWxkLmRlc2NlbmRhbnRzKChuLCByKSA9PiBvID8gITEgOiBuLnR5cGUubmFtZSAhPT0gXCJibG9ja0NvbnRhaW5lclwiIHx8IG4uYXR0cnMuaWQgIT09IHQgPyAhMCA6IChvID0gbiwgaSA9IHIgKyAxLCAhMSkpLCBvID09PSB2b2lkIDAgfHwgaSA9PT0gdm9pZCAwKVxuICAgIHRocm93IEVycm9yKFwiQ291bGQgbm90IGZpbmQgYmxvY2sgaW4gdGhlIGVkaXRvciB3aXRoIG1hdGNoaW5nIElELlwiKTtcbiAgcmV0dXJuIHtcbiAgICBub2RlOiBvLFxuICAgIHBvc0JlZm9yZU5vZGU6IGlcbiAgfTtcbn1cbmZ1bmN0aW9uIFBpKHQsIGUsIG8gPSBcImJlZm9yZVwiLCBpKSB7XG4gIGNvbnN0IG4gPSBpLl90aXB0YXBFZGl0b3IsIHIgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gZSA6IGUuaWQsIGEgPSBbXTtcbiAgZm9yIChjb25zdCB1IG9mIHQpXG4gICAgYS5wdXNoKFxuICAgICAgTih1LCBuLnNjaGVtYSwgaS5zY2hlbWEuc3R5bGVTY2hlbWEpXG4gICAgKTtcbiAgY29uc3QgeyBub2RlOiBzLCBwb3NCZWZvcmVOb2RlOiBsIH0gPSBDZShyLCBuLnN0YXRlLmRvYyk7XG4gIGlmIChvID09PSBcImJlZm9yZVwiICYmIG4udmlldy5kaXNwYXRjaChcbiAgICBuLnN0YXRlLnRyLmluc2VydChsLCBhKVxuICApLCBvID09PSBcImFmdGVyXCIgJiYgbi52aWV3LmRpc3BhdGNoKFxuICAgIG4uc3RhdGUudHIuaW5zZXJ0KGwgKyBzLm5vZGVTaXplLCBhKVxuICApLCBvID09PSBcIm5lc3RlZFwiICYmIHMuY2hpbGRDb3VudCA8IDIpIHtcbiAgICBjb25zdCB1ID0gbi5zdGF0ZS5zY2hlbWEubm9kZXMuYmxvY2tHcm91cC5jcmVhdGUoXG4gICAgICB7fSxcbiAgICAgIGFcbiAgICApO1xuICAgIG4udmlldy5kaXNwYXRjaChcbiAgICAgIG4uc3RhdGUudHIuaW5zZXJ0KFxuICAgICAgICBsICsgcy5maXJzdENoaWxkLm5vZGVTaXplICsgMSxcbiAgICAgICAgdVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgY29uc3QgZCA9IFtdO1xuICBmb3IgKGNvbnN0IHUgb2YgYSlcbiAgICBkLnB1c2goXG4gICAgICBfKFxuICAgICAgICB1LFxuICAgICAgICBpLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgICAgaS5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgaS5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICAgIGkuYmxvY2tDYWNoZVxuICAgICAgKVxuICAgICk7XG4gIHJldHVybiBkO1xufVxuZnVuY3Rpb24gSGkodCwgZSwgbykge1xuICBjb25zdCBpID0gby5fdGlwdGFwRWRpdG9yLCBuID0gdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/IHQgOiB0LmlkLCB7IHBvc0JlZm9yZU5vZGU6IHIgfSA9IENlKG4sIGkuc3RhdGUuZG9jKTtcbiAgaS5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKHIgKyAxLCBlKTtcbiAgY29uc3QgYSA9IGkuc3RhdGUuZG9jLnJlc29sdmUociArIDEpLm5vZGUoKTtcbiAgcmV0dXJuIF8oXG4gICAgYSxcbiAgICBvLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICBvLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgIG8uc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgIG8uYmxvY2tDYWNoZVxuICApO1xufVxuZnVuY3Rpb24gZ3QodCwgZSwgbykge1xuICBjb25zdCBpID0gZS5fdGlwdGFwRWRpdG9yLCBuID0gaS5zdGF0ZS50ciwgciA9IG5ldyBTZXQoXG4gICAgdC5tYXAoXG4gICAgICAobCkgPT4gdHlwZW9mIGwgPT0gXCJzdHJpbmdcIiA/IGwgOiBsLmlkXG4gICAgKVxuICApLCBhID0gW107XG4gIGxldCBzID0gMDtcbiAgaWYgKGkuc3RhdGUuZG9jLmRlc2NlbmRhbnRzKChsLCBkKSA9PiB7XG4gICAgaWYgKHIuc2l6ZSA9PT0gMClcbiAgICAgIHJldHVybiAhMTtcbiAgICBpZiAobC50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIiB8fCAhci5oYXMobC5hdHRycy5pZCkpXG4gICAgICByZXR1cm4gITA7XG4gICAgYS5wdXNoKFxuICAgICAgXyhcbiAgICAgICAgbCxcbiAgICAgICAgZS5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICAgIGUuc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICAgIGUuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgICBlLmJsb2NrQ2FjaGVcbiAgICAgIClcbiAgICApLCByLmRlbGV0ZShsLmF0dHJzLmlkKSwgcyA9IChvID09IG51bGwgPyB2b2lkIDAgOiBvKGwsIGQsIG4sIHMpKSB8fCBzO1xuICAgIGNvbnN0IHUgPSBuLmRvYy5ub2RlU2l6ZTtcbiAgICBuLmRlbGV0ZShkIC0gcyAtIDEsIGQgLSBzICsgbC5ub2RlU2l6ZSArIDEpO1xuICAgIGNvbnN0IHAgPSBuLmRvYy5ub2RlU2l6ZTtcbiAgICByZXR1cm4gcyArPSB1IC0gcCwgITE7XG4gIH0pLCByLnNpemUgPiAwKSB7XG4gICAgY29uc3QgbCA9IFsuLi5yXS5qb2luKGBcbmApO1xuICAgIHRocm93IEVycm9yKFxuICAgICAgXCJCbG9ja3Mgd2l0aCB0aGUgZm9sbG93aW5nIElEcyBjb3VsZCBub3QgYmUgZm91bmQgaW4gdGhlIGVkaXRvcjogXCIgKyBsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gaS52aWV3LmRpc3BhdGNoKG4pLCBhO1xufVxuZnVuY3Rpb24gVWkodCwgZSkge1xuICByZXR1cm4gZ3QodCwgZSk7XG59XG5mdW5jdGlvbiBEaSh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBvLl90aXB0YXBFZGl0b3IsIG4gPSBbXTtcbiAgZm9yIChjb25zdCBsIG9mIGUpXG4gICAgbi5wdXNoKFxuICAgICAgTihsLCBpLnNjaGVtYSwgby5zY2hlbWEuc3R5bGVTY2hlbWEpXG4gICAgKTtcbiAgY29uc3QgciA9IHR5cGVvZiB0WzBdID09IFwic3RyaW5nXCIgPyB0WzBdIDogdFswXS5pZCwgYSA9IGd0KFxuICAgIHQsXG4gICAgbyxcbiAgICAobCwgZCwgdSwgcCkgPT4ge1xuICAgICAgaWYgKGwuYXR0cnMuaWQgPT09IHIpIHtcbiAgICAgICAgY29uc3QgaCA9IHUuZG9jLm5vZGVTaXplO1xuICAgICAgICB1Lmluc2VydChkLCBuKTtcbiAgICAgICAgY29uc3QgZiA9IHUuZG9jLm5vZGVTaXplO1xuICAgICAgICByZXR1cm4gcCArIGggLSBmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICApLCBzID0gW107XG4gIGZvciAoY29uc3QgbCBvZiBuKVxuICAgIHMucHVzaChcbiAgICAgIF8oXG4gICAgICAgIGwsXG4gICAgICAgIG8uc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICBvLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgICBvLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgICAgby5ibG9ja0NhY2hlXG4gICAgICApXG4gICAgKTtcbiAgcmV0dXJuIHsgaW5zZXJ0ZWRCbG9ja3M6IHMsIHJlbW92ZWRCbG9ja3M6IGEgfTtcbn1cbmZ1bmN0aW9uIE9pKHQsIGUsIG8sIGkgPSB7IHVwZGF0ZVNlbGVjdGlvbjogITAgfSkge1xuICBjb25zdCBuID0gby5fdGlwdGFwRWRpdG9yLCByID0gbi5zdGF0ZS50cjtcbiAgbGV0IHsgZnJvbTogYSwgdG86IHMgfSA9IHR5cGVvZiB0ID09IFwibnVtYmVyXCIgPyB7IGZyb206IHQsIHRvOiB0IH0gOiB7IGZyb206IHQuZnJvbSwgdG86IHQudG8gfSwgbCA9ICEwLCBkID0gITAsIHUgPSBcIlwiO1xuICBpZiAoZS5mb3JFYWNoKChwKSA9PiB7XG4gICAgcC5jaGVjaygpLCBsICYmIHAuaXNUZXh0ICYmIHAubWFya3MubGVuZ3RoID09PSAwID8gdSArPSBwLnRleHQgOiBsID0gITEsIGQgPSBkID8gcC5pc0Jsb2NrIDogITE7XG4gIH0pLCBhID09PSBzICYmIGQpIHtcbiAgICBjb25zdCB7IHBhcmVudDogcCB9ID0gci5kb2MucmVzb2x2ZShhKTtcbiAgICBwLmlzVGV4dGJsb2NrICYmICFwLnR5cGUuc3BlYy5jb2RlICYmICFwLmNoaWxkQ291bnQgJiYgKGEgLT0gMSwgcyArPSAxKTtcbiAgfVxuICByZXR1cm4gbCA/IHIuaW5zZXJ0VGV4dCh1LCBhLCBzKSA6IHIucmVwbGFjZVdpdGgoYSwgcywgZSksIGkudXBkYXRlU2VsZWN0aW9uICYmIFB0KHIsIHIuc3RlcHMubGVuZ3RoIC0gMSwgLTEpLCBuLnZpZXcuZGlzcGF0Y2gociksICEwO1xufVxuZnVuY3Rpb24gUmkoKSB7XG4gIGNvbnN0IHQgPSAoZSkgPT4ge1xuICAgIGxldCBvID0gZS5jaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvOyBpKyspIHtcbiAgICAgIGNvbnN0IG4gPSBlLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKG4udHlwZSA9PT0gXCJlbGVtZW50XCIgJiYgKHQobiksIG4udGFnTmFtZSA9PT0gXCJ1XCIpKVxuICAgICAgICBpZiAobi5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZS5jaGlsZHJlbi5zcGxpY2UoaSwgMSwgLi4ubi5jaGlsZHJlbik7XG4gICAgICAgICAgY29uc3QgciA9IG4uY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgICBvICs9IHIsIGkgKz0gcjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZS5jaGlsZHJlbi5zcGxpY2UoaSwgMSksIG8tLSwgaS0tO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBTZSh0KSB7XG4gIHJldHVybiB5ZSgpLnVzZShLZSwgeyBmcmFnbWVudDogITAgfSkudXNlKFJpKS51c2UoWXQpLnVzZShYZSkudXNlKFF0KS5wcm9jZXNzU3luYyh0KS52YWx1ZTtcbn1cbmZ1bmN0aW9uIFZpKHQsIGUsIG8pIHtcbiAgY29uc3QgbiA9IG5lKGUsIG8pLmV4cG9ydEJsb2Nrcyh0KTtcbiAgcmV0dXJuIFNlKG4pO1xufVxuZnVuY3Rpb24gamkodCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LnBhcmVudEVsZW1lbnQuY2hpbGROb2RlcywgdCk7XG59XG5mdW5jdGlvbiB6aSh0KSB7XG4gIHJldHVybiB0Lm5vZGVUeXBlID09PSAzICYmICEvXFxTLy50ZXN0KHQubm9kZVZhbHVlIHx8IFwiXCIpO1xufVxuZnVuY3Rpb24gRmkodCkge1xuICB0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaSA+IHVsLCBsaSA+IG9sXCIpLmZvckVhY2goKGUpID0+IHtcbiAgICBjb25zdCBvID0gamkoZSksIGkgPSBlLnBhcmVudEVsZW1lbnQsIG4gPSBBcnJheS5mcm9tKGkuY2hpbGROb2Rlcykuc2xpY2UoXG4gICAgICBvICsgMVxuICAgICk7XG4gICAgZS5yZW1vdmUoKSwgbi5mb3JFYWNoKChyKSA9PiB7XG4gICAgICByLnJlbW92ZSgpO1xuICAgIH0pLCBpLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIGUpLCBuLnJldmVyc2UoKS5mb3JFYWNoKChyKSA9PiB7XG4gICAgICBpZiAoemkocikpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBhLmFwcGVuZChyKSwgZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBhKTtcbiAgICB9KSwgaS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCAmJiBpLnJlbW92ZSgpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIEdpKHQpIHtcbiAgdC5xdWVyeVNlbGVjdG9yQWxsKFwibGkgKyB1bCwgbGkgKyBvbFwiKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgdmFyIHIsIGE7XG4gICAgY29uc3QgbyA9IGUucHJldmlvdXNFbGVtZW50U2libGluZywgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgby5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBpKSwgaS5hcHBlbmQobyk7XG4gICAgY29uc3QgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZm9yIChuLnNldEF0dHJpYnV0ZShcImRhdGEtbm9kZS10eXBlXCIsIFwiYmxvY2tHcm91cFwiKSwgaS5hcHBlbmQobik7ICgociA9IGkubmV4dEVsZW1lbnRTaWJsaW5nKSA9PSBudWxsID8gdm9pZCAwIDogci5ub2RlTmFtZSkgPT09IFwiVUxcIiB8fCAoKGEgPSBpLm5leHRFbGVtZW50U2libGluZykgPT0gbnVsbCA/IHZvaWQgMCA6IGEubm9kZU5hbWUpID09PSBcIk9MXCI7IClcbiAgICAgIG4uYXBwZW5kKGkubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgfSk7XG59XG5sZXQgemUgPSBudWxsO1xuZnVuY3Rpb24gV2koKSB7XG4gIHJldHVybiB6ZSB8fCAoemUgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJ0aXRsZVwiKSk7XG59XG5mdW5jdGlvbiBidCh0KSB7XG4gIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgZSA9IFdpKCkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBlLmlubmVySFRNTCA9IHQsIHQgPSBlO1xuICB9XG4gIHJldHVybiBGaSh0KSwgR2kodCksIHQ7XG59XG5hc3luYyBmdW5jdGlvbiBrdCh0LCBlLCBvLCBpLCBuKSB7XG4gIGNvbnN0IHIgPSBidCh0KSwgcyA9IFN0LmZyb21TY2hlbWEobikucGFyc2Uociwge1xuICAgIHRvcE5vZGU6IG4ubm9kZXMuYmxvY2tHcm91cC5jcmVhdGUoKVxuICB9KSwgbCA9IFtdO1xuICBmb3IgKGxldCBkID0gMDsgZCA8IHMuY2hpbGRDb3VudDsgZCsrKVxuICAgIGwucHVzaChcbiAgICAgIF8ocy5jaGlsZChkKSwgZSwgbywgaSlcbiAgICApO1xuICByZXR1cm4gbDtcbn1cbmZ1bmN0aW9uICRpKHQsIGUpIHtcbiAgY29uc3QgbyA9IGUudmFsdWUgPyBlLnZhbHVlICsgYFxuYCA6IFwiXCIsIGkgPSB7fTtcbiAgZS5sYW5nICYmIChpW1wiZGF0YS1sYW5ndWFnZVwiXSA9IGUubGFuZyk7XG4gIGxldCBuID0ge1xuICAgIHR5cGU6IFwiZWxlbWVudFwiLFxuICAgIHRhZ05hbWU6IFwiY29kZVwiLFxuICAgIHByb3BlcnRpZXM6IGksXG4gICAgY2hpbGRyZW46IFt7IHR5cGU6IFwidGV4dFwiLCB2YWx1ZTogbyB9XVxuICB9O1xuICByZXR1cm4gZS5tZXRhICYmIChuLmRhdGEgPSB7IG1ldGE6IGUubWV0YSB9KSwgdC5wYXRjaChlLCBuKSwgbiA9IHQuYXBwbHlEYXRhKGUsIG4pLCBuID0ge1xuICAgIHR5cGU6IFwiZWxlbWVudFwiLFxuICAgIHRhZ05hbWU6IFwicHJlXCIsXG4gICAgcHJvcGVydGllczoge30sXG4gICAgY2hpbGRyZW46IFtuXVxuICB9LCB0LnBhdGNoKGUsIG4pLCBuO1xufVxuZnVuY3Rpb24gS2kodCwgZSwgbywgaSwgbikge1xuICBjb25zdCByID0geWUoKS51c2UoZW8pLnVzZShYZSkudXNlKHRvLCB7XG4gICAgaGFuZGxlcnM6IHtcbiAgICAgIC4uLm9vLFxuICAgICAgY29kZTogJGlcbiAgICB9XG4gIH0pLnVzZShxZSkucHJvY2Vzc1N5bmModCk7XG4gIHJldHVybiBrdChcbiAgICByLnZhbHVlLFxuICAgIGUsXG4gICAgbyxcbiAgICBpLFxuICAgIG5cbiAgKTtcbn1cbmNsYXNzIFcge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuICAgIGModGhpcywgXCJjYWxsYmFja3NcIiwge30pO1xuICB9XG4gIG9uKGUsIG8pIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsYmFja3NbZV0gfHwgKHRoaXMuY2FsbGJhY2tzW2VdID0gW10pLCB0aGlzLmNhbGxiYWNrc1tlXS5wdXNoKG8pLCAoKSA9PiB0aGlzLm9mZihlLCBvKTtcbiAgfVxuICBlbWl0KGUsIC4uLm8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5jYWxsYmFja3NbZV07XG4gICAgaSAmJiBpLmZvckVhY2goKG4pID0+IG4uYXBwbHkodGhpcywgbykpO1xuICB9XG4gIG9mZihlLCBvKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuY2FsbGJhY2tzW2VdO1xuICAgIGkgJiYgKG8gPyB0aGlzLmNhbGxiYWNrc1tlXSA9IGkuZmlsdGVyKChuKSA9PiBuICE9PSBvKSA6IGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1tlXSk7XG4gIH1cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuICAgIHRoaXMuY2FsbGJhY2tzID0ge307XG4gIH1cbn1cbmNsYXNzIHFpIHtcbiAgY29uc3RydWN0b3IoZSwgbywgaSkge1xuICAgIGModGhpcywgXCJzdGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwiZW1pdFVwZGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwicHJldldhc0VkaXRhYmxlXCIsIG51bGwpO1xuICAgIGModGhpcywgXCJtb3VzZURvd25IYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHZhciBlO1xuICAgICAgKGUgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGUuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSgpKTtcbiAgICB9KTtcbiAgICAvLyBGb3IgZHJhZ2dpbmcgdGhlIHdob2xlIGVkaXRvci5cbiAgICBjKHRoaXMsIFwiZHJhZ3N0YXJ0SGFuZGxlclwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcInNjcm9sbEhhbmRsZXJcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICBpZiAoKGUgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGUuc2hvdykge1xuICAgICAgICBjb25zdCBvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBgW2RhdGEtbm9kZS10eXBlPVwiYmxvY2tDb250YWluZXJcIl1bZGF0YS1pZD1cIiR7dGhpcy5zdGF0ZS5ibG9jay5pZH1cIl1gXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zID0gby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5lbWl0VXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImNsb3NlTWVudVwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gICAgfSk7XG4gICAgdGhpcy5wbHVnaW5LZXkgPSBlLCB0aGlzLnBtVmlldyA9IG8sIHRoaXMuZW1pdFVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byB1cGRhdGUgdW5pbml0aWFsaXplZCBmaWxlIHBhbmVsXCIpO1xuICAgICAgaSh0aGlzLnN0YXRlKTtcbiAgICB9LCBvLmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duSGFuZGxlciksIG8uZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgdGhpcy5kcmFnc3RhcnRIYW5kbGVyKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuICB9XG4gIHVwZGF0ZShlLCBvKSB7XG4gICAgdmFyIG4sIHI7XG4gICAgY29uc3QgaSA9IHRoaXMucGx1Z2luS2V5LmdldFN0YXRlKGUuc3RhdGUpO1xuICAgIGlmICghKChuID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBuLnNob3cpICYmIGkuYmxvY2spIHtcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgW2RhdGEtbm9kZS10eXBlPVwiYmxvY2tDb250YWluZXJcIl1bZGF0YS1pZD1cIiR7aS5ibG9jay5pZH1cIl1gXG4gICAgICApO1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgc2hvdzogITAsXG4gICAgICAgIHJlZmVyZW5jZVBvczogYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgYmxvY2s6IGkuYmxvY2tcbiAgICAgIH0sIHRoaXMuZW1pdFVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAoIWUuc3RhdGUuc2VsZWN0aW9uLmVxKG8uc2VsZWN0aW9uKSB8fCAhZS5zdGF0ZS5kb2MuZXEoby5kb2MpKSAmJiAociA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgci5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd25IYW5kbGVyKSwgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgdGhpcy5kcmFnc3RhcnRIYW5kbGVyKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuICB9XG59XG5jb25zdCBoZSA9IG5ldyB4KFwiRmlsZVBhbmVsUGx1Z2luXCIpO1xuY2xhc3MgWGkgZXh0ZW5kcyBXIHtcbiAgY29uc3RydWN0b3Iobykge1xuICAgIHN1cGVyKCk7XG4gICAgYyh0aGlzLCBcInZpZXdcIik7XG4gICAgYyh0aGlzLCBcInBsdWdpblwiKTtcbiAgICBjKHRoaXMsIFwiY2xvc2VNZW51XCIsICgpID0+IHRoaXMudmlldy5jbG9zZU1lbnUoKSk7XG4gICAgdGhpcy5wbHVnaW4gPSBuZXcgdyh7XG4gICAgICBrZXk6IGhlLFxuICAgICAgdmlldzogKGkpID0+ICh0aGlzLnZpZXcgPSBuZXcgcWkoXG4gICAgICAgIC8vIGVkaXRvcixcbiAgICAgICAgaGUsXG4gICAgICAgIGksXG4gICAgICAgIChuKSA9PiB7XG4gICAgICAgICAgdGhpcy5lbWl0KFwidXBkYXRlXCIsIG4pO1xuICAgICAgICB9XG4gICAgICApLCB0aGlzLnZpZXcpLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgaGFuZGxlS2V5RG93bjogKGksIG4pID0+IG4ua2V5ID09PSBcIkVzY2FwZVwiICYmIHRoaXMuc2hvd24gPyAodGhpcy52aWV3LmNsb3NlTWVudSgpLCAhMCkgOiAhMVxuICAgICAgfSxcbiAgICAgIHN0YXRlOiB7XG4gICAgICAgIGluaXQ6ICgpID0+ICh7XG4gICAgICAgICAgYmxvY2s6IHZvaWQgMFxuICAgICAgICB9KSxcbiAgICAgICAgYXBwbHk6IChpKSA9PiB7XG4gICAgICAgICAgdmFyIHI7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJsb2NrOiAociA9IGkuZ2V0TWV0YShoZSkpID09IG51bGwgPyB2b2lkIDAgOiByLmJsb2NrXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGdldCBzaG93bigpIHtcbiAgICB2YXIgbywgaTtcbiAgICByZXR1cm4gKChpID0gKG8gPSB0aGlzLnZpZXcpID09IG51bGwgPyB2b2lkIDAgOiBvLnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogaS5zaG93KSB8fCAhMTtcbiAgfVxuICBvblVwZGF0ZShvKSB7XG4gICAgcmV0dXJuIHRoaXMub24oXCJ1cGRhdGVcIiwgbyk7XG4gIH1cbn1cbmNsYXNzIFppIHtcbiAgY29uc3RydWN0b3IoZSwgbywgaSkge1xuICAgIGModGhpcywgXCJzdGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwiZW1pdFVwZGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwicHJldmVudEhpZGVcIiwgITEpO1xuICAgIGModGhpcywgXCJwcmV2ZW50U2hvd1wiLCAhMSk7XG4gICAgYyh0aGlzLCBcInByZXZXYXNFZGl0YWJsZVwiLCBudWxsKTtcbiAgICBjKHRoaXMsIFwic2hvdWxkU2hvd1wiLCAoeyBzdGF0ZTogZSwgZnJvbTogbywgdG86IGksIHZpZXc6IG4gfSkgPT4ge1xuICAgICAgY29uc3QgeyBkb2M6IHIsIHNlbGVjdGlvbjogYSB9ID0gZSwgeyBlbXB0eTogcyB9ID0gYSwgbCA9ICFyLnRleHRCZXR3ZWVuKG8sIGkpLmxlbmd0aCAmJiBIdChlLnNlbGVjdGlvbik7XG4gICAgICByZXR1cm4gISghbi5oYXNGb2N1cygpIHx8IHMgfHwgbCk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcInZpZXdNb3VzZWRvd25IYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJldmVudFNob3cgPSAhMDtcbiAgICB9KTtcbiAgICBjKHRoaXMsIFwidmlld01vdXNldXBIYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJldmVudFNob3cgPSAhMSwgc2V0VGltZW91dCgoKSA9PiB0aGlzLnVwZGF0ZSh0aGlzLnBtVmlldykpO1xuICAgIH0pO1xuICAgIC8vIEZvciBkcmFnZ2luZyB0aGUgd2hvbGUgZWRpdG9yLlxuICAgIGModGhpcywgXCJkcmFnSGFuZGxlclwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcInNjcm9sbEhhbmRsZXJcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnJlZmVyZW5jZVBvcyA9IHRoaXMuZ2V0U2VsZWN0aW9uQm91bmRpbmdCb3goKSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbG9zZU1lbnVcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuZWRpdG9yID0gZSwgdGhpcy5wbVZpZXcgPSBvLCB0aGlzLmVtaXRVcGRhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHVuaW5pdGlhbGl6ZWQgZm9ybWF0dGluZyB0b29sYmFyXCJcbiAgICAgICAgKTtcbiAgICAgIGkodGhpcy5zdGF0ZSk7XG4gICAgfSwgby5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLnZpZXdNb3VzZWRvd25IYW5kbGVyKSwgby5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy52aWV3TW91c2V1cEhhbmRsZXIpLCBvLmRvbS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMuZHJhZ0hhbmRsZXIpLCBvLmRvbS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgdGhpcy5kcmFnSGFuZGxlciksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGVyKTtcbiAgfVxuICB1cGRhdGUoZSwgbykge1xuICAgIHZhciBoLCBmO1xuICAgIGNvbnN0IHsgc3RhdGU6IGksIGNvbXBvc2luZzogbiB9ID0gZSwgeyBkb2M6IHIsIHNlbGVjdGlvbjogYSB9ID0gaSwgcyA9IG8gJiYgby5kb2MuZXEocikgJiYgby5zZWxlY3Rpb24uZXEoYSk7XG4gICAgaWYgKCh0aGlzLnByZXZXYXNFZGl0YWJsZSA9PT0gbnVsbCB8fCB0aGlzLnByZXZXYXNFZGl0YWJsZSA9PT0gdGhpcy5lZGl0b3IuaXNFZGl0YWJsZSkgJiYgKG4gfHwgcykpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5wcmV2V2FzRWRpdGFibGUgPSB0aGlzLmVkaXRvci5pc0VkaXRhYmxlO1xuICAgIGNvbnN0IHsgcmFuZ2VzOiBsIH0gPSBhLCBkID0gTWF0aC5taW4oLi4ubC5tYXAoKG0pID0+IG0uJGZyb20ucG9zKSksIHUgPSBNYXRoLm1heCguLi5sLm1hcCgobSkgPT4gbS4kdG8ucG9zKSksIHAgPSAoaCA9IHRoaXMuc2hvdWxkU2hvdykgPT0gbnVsbCA/IHZvaWQgMCA6IGguY2FsbCh0aGlzLCB7XG4gICAgICB2aWV3OiBlLFxuICAgICAgc3RhdGU6IGksXG4gICAgICBmcm9tOiBkLFxuICAgICAgdG86IHVcbiAgICB9KTtcbiAgICBpZiAodGhpcy5lZGl0b3IuaXNFZGl0YWJsZSAmJiAhdGhpcy5wcmV2ZW50U2hvdyAmJiAocCB8fCB0aGlzLnByZXZlbnRIaWRlKSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgc2hvdzogITAsXG4gICAgICAgIHJlZmVyZW5jZVBvczogdGhpcy5nZXRTZWxlY3Rpb25Cb3VuZGluZ0JveCgpXG4gICAgICB9LCB0aGlzLmVtaXRVcGRhdGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKChmID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBmLnNob3cgJiYgIXRoaXMucHJldmVudEhpZGUgJiYgKCFwIHx8IHRoaXMucHJldmVudFNob3cgfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpKSB7XG4gICAgICB0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy52aWV3TW91c2Vkb3duSGFuZGxlciksIHRoaXMucG1WaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnZpZXdNb3VzZXVwSGFuZGxlciksIHRoaXMucG1WaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMuZHJhZ0hhbmRsZXIpLCB0aGlzLnBtVmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMuZHJhZ0hhbmRsZXIpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG4gIH1cbiAgZ2V0U2VsZWN0aW9uQm91bmRpbmdCb3goKSB7XG4gICAgY29uc3QgeyBzdGF0ZTogZSB9ID0gdGhpcy5wbVZpZXcsIHsgc2VsZWN0aW9uOiBvIH0gPSBlLCB7IHJhbmdlczogaSB9ID0gbywgbiA9IE1hdGgubWluKC4uLmkubWFwKChhKSA9PiBhLiRmcm9tLnBvcykpLCByID0gTWF0aC5tYXgoLi4uaS5tYXAoKGEpID0+IGEuJHRvLnBvcykpO1xuICAgIGlmIChVdChvKSkge1xuICAgICAgY29uc3QgYSA9IHRoaXMucG1WaWV3Lm5vZGVET00obik7XG4gICAgICBpZiAoYSlcbiAgICAgICAgcmV0dXJuIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBnZSh0aGlzLnBtVmlldywgbiwgcik7XG4gIH1cbn1cbmNvbnN0IEppID0gbmV3IHgoXG4gIFwiRm9ybWF0dGluZ1Rvb2xiYXJQbHVnaW5cIlxuKTtcbmNsYXNzIFlpIGV4dGVuZHMgVyB7XG4gIGNvbnN0cnVjdG9yKG8pIHtcbiAgICBzdXBlcigpO1xuICAgIGModGhpcywgXCJ2aWV3XCIpO1xuICAgIGModGhpcywgXCJwbHVnaW5cIik7XG4gICAgYyh0aGlzLCBcImNsb3NlTWVudVwiLCAoKSA9PiB0aGlzLnZpZXcuY2xvc2VNZW51KCkpO1xuICAgIHRoaXMucGx1Z2luID0gbmV3IHcoe1xuICAgICAga2V5OiBKaSxcbiAgICAgIHZpZXc6IChpKSA9PiAodGhpcy52aWV3ID0gbmV3IFppKG8sIGksIChuKSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdChcInVwZGF0ZVwiLCBuKTtcbiAgICAgIH0pLCB0aGlzLnZpZXcpLFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgaGFuZGxlS2V5RG93bjogKGksIG4pID0+IG4ua2V5ID09PSBcIkVzY2FwZVwiICYmIHRoaXMuc2hvd24gPyAodGhpcy52aWV3LmNsb3NlTWVudSgpLCAhMCkgOiAhMVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGdldCBzaG93bigpIHtcbiAgICB2YXIgbywgaTtcbiAgICByZXR1cm4gKChpID0gKG8gPSB0aGlzLnZpZXcpID09IG51bGwgPyB2b2lkIDAgOiBvLnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogaS5zaG93KSB8fCAhMTtcbiAgfVxuICBvblVwZGF0ZShvKSB7XG4gICAgcmV0dXJuIHRoaXMub24oXCJ1cGRhdGVcIiwgbyk7XG4gIH1cbn1cbmNsYXNzIFFpIHtcbiAgY29uc3RydWN0b3IoZSwgbywgaSkge1xuICAgIGModGhpcywgXCJzdGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwiZW1pdFVwZGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwibWVudVVwZGF0ZVRpbWVyXCIpO1xuICAgIGModGhpcywgXCJzdGFydE1lbnVVcGRhdGVUaW1lclwiKTtcbiAgICBjKHRoaXMsIFwic3RvcE1lbnVVcGRhdGVUaW1lclwiKTtcbiAgICBjKHRoaXMsIFwibW91c2VIb3ZlcmVkTGlua01hcmtcIik7XG4gICAgYyh0aGlzLCBcIm1vdXNlSG92ZXJlZExpbmtNYXJrUmFuZ2VcIik7XG4gICAgYyh0aGlzLCBcImtleWJvYXJkSG92ZXJlZExpbmtNYXJrXCIpO1xuICAgIGModGhpcywgXCJrZXlib2FyZEhvdmVyZWRMaW5rTWFya1JhbmdlXCIpO1xuICAgIGModGhpcywgXCJsaW5rTWFya1wiKTtcbiAgICBjKHRoaXMsIFwibGlua01hcmtSYW5nZVwiKTtcbiAgICBjKHRoaXMsIFwibW91c2VPdmVySGFuZGxlclwiLCAoZSkgPT4ge1xuICAgICAgaWYgKHRoaXMubW91c2VIb3ZlcmVkTGlua01hcmsgPSB2b2lkIDAsIHRoaXMubW91c2VIb3ZlcmVkTGlua01hcmtSYW5nZSA9IHZvaWQgMCwgdGhpcy5zdG9wTWVudVVwZGF0ZVRpbWVyKCksIGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEFuY2hvckVsZW1lbnQgJiYgZS50YXJnZXQubm9kZU5hbWUgPT09IFwiQVwiKSB7XG4gICAgICAgIGNvbnN0IG8gPSBlLnRhcmdldCwgaSA9IHRoaXMucG1WaWV3LnBvc0F0RE9NKG8sIDApICsgMSwgbiA9IHRoaXMucG1WaWV3LnN0YXRlLmRvYy5yZXNvbHZlKGkpLCByID0gbi5tYXJrcygpO1xuICAgICAgICBmb3IgKGNvbnN0IGEgb2YgcilcbiAgICAgICAgICBpZiAoYS50eXBlLm5hbWUgPT09IHRoaXMucG1WaWV3LnN0YXRlLnNjaGVtYS5tYXJrKFwibGlua1wiKS50eXBlLm5hbWUpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VIb3ZlcmVkTGlua01hcmsgPSBhLCB0aGlzLm1vdXNlSG92ZXJlZExpbmtNYXJrUmFuZ2UgPSBBZShuLCBhLnR5cGUsIGEuYXR0cnMpIHx8IHZvaWQgMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0TWVudVVwZGF0ZVRpbWVyKCksICExO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbGlja0hhbmRsZXJcIiwgKGUpID0+IHtcbiAgICAgIHZhciBpO1xuICAgICAgY29uc3QgbyA9IHRoaXMucG1WaWV3LmRvbS5wYXJlbnRFbGVtZW50O1xuICAgICAgLy8gVG9vbGJhciBpcyBvcGVuLlxuICAgICAgdGhpcy5saW5rTWFyayAmJiAvLyBBbiBlbGVtZW50IGlzIGNsaWNrZWQuXG4gICAgICBlICYmIGUudGFyZ2V0ICYmIC8vIFRoZSBjbGlja2VkIGVsZW1lbnQgaXMgbm90IHRoZSBlZGl0b3IuXG4gICAgICAhKG8gPT09IGUudGFyZ2V0IHx8IG8uY29udGFpbnMoZS50YXJnZXQpKSAmJiAoaSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgaS5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJzY3JvbGxIYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHZhciBlO1xuICAgICAgdGhpcy5saW5rTWFyayAhPT0gdm9pZCAwICYmIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zID0gZ2UoXG4gICAgICAgIHRoaXMucG1WaWV3LFxuICAgICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UuZnJvbSxcbiAgICAgICAgdGhpcy5saW5rTWFya1JhbmdlLnRvXG4gICAgICApLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImNsb3NlTWVudVwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gICAgfSk7XG4gICAgdGhpcy5lZGl0b3IgPSBlLCB0aGlzLnBtVmlldyA9IG8sIHRoaXMuZW1pdFVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byB1cGRhdGUgdW5pbml0aWFsaXplZCBsaW5rIHRvb2xiYXJcIik7XG4gICAgICBpKHRoaXMuc3RhdGUpO1xuICAgIH0sIHRoaXMuc3RhcnRNZW51VXBkYXRlVGltZXIgPSAoKSA9PiB7XG4gICAgICB0aGlzLm1lbnVVcGRhdGVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgfSwgMjUwKTtcbiAgICB9LCB0aGlzLnN0b3BNZW51VXBkYXRlVGltZXIgPSAoKSA9PiAodGhpcy5tZW51VXBkYXRlVGltZXIgJiYgKGNsZWFyVGltZW91dCh0aGlzLm1lbnVVcGRhdGVUaW1lciksIHRoaXMubWVudVVwZGF0ZVRpbWVyID0gdm9pZCAwKSwgITEpLCB0aGlzLnBtVmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCB0aGlzLm1vdXNlT3ZlckhhbmRsZXIpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGlja0hhbmRsZXIsICEwKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuICB9XG4gIGVkaXRMaW5rKGUsIG8pIHtcbiAgICB2YXIgbjtcbiAgICBjb25zdCBpID0gdGhpcy5wbVZpZXcuc3RhdGUudHIuaW5zZXJ0VGV4dChcbiAgICAgIG8sXG4gICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UuZnJvbSxcbiAgICAgIHRoaXMubGlua01hcmtSYW5nZS50b1xuICAgICk7XG4gICAgaS5hZGRNYXJrKFxuICAgICAgdGhpcy5saW5rTWFya1JhbmdlLmZyb20sXG4gICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UuZnJvbSArIG8ubGVuZ3RoLFxuICAgICAgdGhpcy5wbVZpZXcuc3RhdGUuc2NoZW1hLm1hcmsoXCJsaW5rXCIsIHsgaHJlZjogZSB9KVxuICAgICksIHRoaXMucG1WaWV3LmRpc3BhdGNoKGkpLCB0aGlzLnBtVmlldy5mb2N1cygpLCAobiA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgbi5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICB9XG4gIGRlbGV0ZUxpbmsoKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5wbVZpZXcuZGlzcGF0Y2goXG4gICAgICB0aGlzLnBtVmlldy5zdGF0ZS50ci5yZW1vdmVNYXJrKFxuICAgICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UuZnJvbSxcbiAgICAgICAgdGhpcy5saW5rTWFya1JhbmdlLnRvLFxuICAgICAgICB0aGlzLmxpbmtNYXJrLnR5cGVcbiAgICAgICkuc2V0TWV0YShcInByZXZlbnRBdXRvbGlua1wiLCAhMClcbiAgICApLCB0aGlzLnBtVmlldy5mb2N1cygpLCAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICB9XG4gIHVwZGF0ZSgpIHtcbiAgICB2YXIgbztcbiAgICBpZiAoIXRoaXMucG1WaWV3Lmhhc0ZvY3VzKCkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IHRoaXMubGlua01hcms7XG4gICAgaWYgKHRoaXMubGlua01hcmsgPSB2b2lkIDAsIHRoaXMubGlua01hcmtSYW5nZSA9IHZvaWQgMCwgdGhpcy5rZXlib2FyZEhvdmVyZWRMaW5rTWFyayA9IHZvaWQgMCwgdGhpcy5rZXlib2FyZEhvdmVyZWRMaW5rTWFya1JhbmdlID0gdm9pZCAwLCB0aGlzLnBtVmlldy5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkpIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLnBtVmlldy5zdGF0ZS5zZWxlY3Rpb24uJGZyb20ubWFya3MoKTtcbiAgICAgIGZvciAoY29uc3QgbiBvZiBpKVxuICAgICAgICBpZiAobi50eXBlLm5hbWUgPT09IHRoaXMucG1WaWV3LnN0YXRlLnNjaGVtYS5tYXJrKFwibGlua1wiKS50eXBlLm5hbWUpIHtcbiAgICAgICAgICB0aGlzLmtleWJvYXJkSG92ZXJlZExpbmtNYXJrID0gbiwgdGhpcy5rZXlib2FyZEhvdmVyZWRMaW5rTWFya1JhbmdlID0gQWUoXG4gICAgICAgICAgICB0aGlzLnBtVmlldy5zdGF0ZS5zZWxlY3Rpb24uJGZyb20sXG4gICAgICAgICAgICBuLnR5cGUsXG4gICAgICAgICAgICBuLmF0dHJzXG4gICAgICAgICAgKSB8fCB2b2lkIDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubW91c2VIb3ZlcmVkTGlua01hcmsgJiYgKHRoaXMubGlua01hcmsgPSB0aGlzLm1vdXNlSG92ZXJlZExpbmtNYXJrLCB0aGlzLmxpbmtNYXJrUmFuZ2UgPSB0aGlzLm1vdXNlSG92ZXJlZExpbmtNYXJrUmFuZ2UpLCB0aGlzLmtleWJvYXJkSG92ZXJlZExpbmtNYXJrICYmICh0aGlzLmxpbmtNYXJrID0gdGhpcy5rZXlib2FyZEhvdmVyZWRMaW5rTWFyaywgdGhpcy5saW5rTWFya1JhbmdlID0gdGhpcy5rZXlib2FyZEhvdmVyZWRMaW5rTWFya1JhbmdlKSwgdGhpcy5saW5rTWFyayAmJiB0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSB7XG4gICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICBzaG93OiAhMCxcbiAgICAgICAgcmVmZXJlbmNlUG9zOiBnZShcbiAgICAgICAgICB0aGlzLnBtVmlldyxcbiAgICAgICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UuZnJvbSxcbiAgICAgICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UudG9cbiAgICAgICAgKSxcbiAgICAgICAgdXJsOiB0aGlzLmxpbmtNYXJrLmF0dHJzLmhyZWYsXG4gICAgICAgIHRleHQ6IHRoaXMucG1WaWV3LnN0YXRlLmRvYy50ZXh0QmV0d2VlbihcbiAgICAgICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UuZnJvbSxcbiAgICAgICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UudG9cbiAgICAgICAgKVxuICAgICAgfSwgdGhpcy5lbWl0VXBkYXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgobyA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgby5zaG93ICYmIGUgJiYgKCF0aGlzLmxpbmtNYXJrIHx8ICF0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSkge1xuICAgICAgdGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMucG1WaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMubW91c2VPdmVySGFuZGxlciksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGVyKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tIYW5kbGVyLCAhMCk7XG4gIH1cbn1cbmNvbnN0IGVuID0gbmV3IHgoXCJMaW5rVG9vbGJhclBsdWdpblwiKTtcbmNsYXNzIHRuIGV4dGVuZHMgVyB7XG4gIGNvbnN0cnVjdG9yKG8pIHtcbiAgICBzdXBlcigpO1xuICAgIGModGhpcywgXCJ2aWV3XCIpO1xuICAgIGModGhpcywgXCJwbHVnaW5cIik7XG4gICAgLyoqXG4gICAgICogRWRpdCB0aGUgY3VycmVudGx5IGhvdmVyZWQgbGluay5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwiZWRpdExpbmtcIiwgKG8sIGkpID0+IHtcbiAgICAgIHRoaXMudmlldy5lZGl0TGluayhvLCBpKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBEZWxldGUgdGhlIGN1cnJlbnRseSBob3ZlcmVkIGxpbmsuXG4gICAgICovXG4gICAgYyh0aGlzLCBcImRlbGV0ZUxpbmtcIiwgKCkgPT4ge1xuICAgICAgdGhpcy52aWV3LmRlbGV0ZUxpbmsoKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGVuIGhvdmVyaW5nIG9uL29mZiBsaW5rcyB1c2luZyB0aGUgbW91c2UgY3Vyc29yLCB0aGUgbGluayB0b29sYmFyIHdpbGxcbiAgICAgKiBvcGVuICYgY2xvc2Ugd2l0aCBhIGRlbGF5LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzdGFydHMgdGhlIGRlbGF5IHRpbWVyLCBhbmQgc2hvdWxkIGJlIHVzZWQgZm9yIHdoZW4gdGhlIG1vdXNlXG4gICAgICogY3Vyc29yIGVudGVycyB0aGUgbGluayB0b29sYmFyLlxuICAgICAqL1xuICAgIGModGhpcywgXCJzdGFydEhpZGVUaW1lclwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcuc3RhcnRNZW51VXBkYXRlVGltZXIoKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGVuIGhvdmVyaW5nIG9uL29mZiBsaW5rcyB1c2luZyB0aGUgbW91c2UgY3Vyc29yLCB0aGUgbGluayB0b29sYmFyIHdpbGxcbiAgICAgKiBvcGVuICYgY2xvc2Ugd2l0aCBhIGRlbGF5LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzdG9wcyB0aGUgZGVsYXkgdGltZXIsIGFuZCBzaG91bGQgYmUgdXNlZCBmb3Igd2hlbiB0aGUgbW91c2VcbiAgICAgKiBjdXJzb3IgZXhpdHMgdGhlIGxpbmsgdG9vbGJhci5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwic3RvcEhpZGVUaW1lclwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcuc3RvcE1lbnVVcGRhdGVUaW1lcigpO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbG9zZU1lbnVcIiwgKCkgPT4gdGhpcy52aWV3LmNsb3NlTWVudSgpKTtcbiAgICB0aGlzLnBsdWdpbiA9IG5ldyB3KHtcbiAgICAgIGtleTogZW4sXG4gICAgICB2aWV3OiAoaSkgPT4gKHRoaXMudmlldyA9IG5ldyBRaShvLCBpLCAobikgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgbik7XG4gICAgICB9KSwgdGhpcy52aWV3KSxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGhhbmRsZUtleURvd246IChpLCBuKSA9PiBuLmtleSA9PT0gXCJFc2NhcGVcIiAmJiB0aGlzLnNob3duID8gKHRoaXMudmlldy5jbG9zZU1lbnUoKSwgITApIDogITFcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvblVwZGF0ZShvKSB7XG4gICAgcmV0dXJuIHRoaXMub24oXCJ1cGRhdGVcIiwgbyk7XG4gIH1cbiAgZ2V0IHNob3duKCkge1xuICAgIHZhciBvLCBpO1xuICAgIHJldHVybiAoKGkgPSAobyA9IHRoaXMudmlldykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uc3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBpLnNob3cpIHx8ICExO1xuICB9XG59XG5jb25zdCBvbiA9IER0KCh0KSA9PiB0LnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiKTtcbmNsYXNzIG5uIHtcbiAgY29uc3RydWN0b3IoZSwgbykge1xuICAgIGModGhpcywgXCJzdGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwiZW1pdFVwZGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwicGx1Z2luU3RhdGVcIik7XG4gICAgYyh0aGlzLCBcImhhbmRsZVNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIGlmICgoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93KSB7XG4gICAgICAgIGNvbnN0IG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGBbZGF0YS1kZWNvcmF0aW9uLWlkPVwiJHt0aGlzLnBsdWdpblN0YXRlLmRlY29yYXRpb25JZH1cIl1gXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zID0gby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5lbWl0VXBkYXRlKHRoaXMucGx1Z2luU3RhdGUudHJpZ2dlckNoYXJhY3Rlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImNsb3NlTWVudVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnZpZXcuZGlzcGF0Y2goXG4gICAgICAgIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3Iudmlldy5zdGF0ZS50ci5zZXRNZXRhKFxuICAgICAgICAgIFUsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApXG4gICAgICApO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbGVhclF1ZXJ5XCIsICgpID0+IHtcbiAgICAgIHRoaXMucGx1Z2luU3RhdGUgIT09IHZvaWQgMCAmJiB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLmNoYWluKCkuZm9jdXMoKS5kZWxldGVSYW5nZSh7XG4gICAgICAgIGZyb206IHRoaXMucGx1Z2luU3RhdGUucXVlcnlTdGFydFBvcyAtICh0aGlzLnBsdWdpblN0YXRlLmZyb21Vc2VySW5wdXQgPyB0aGlzLnBsdWdpblN0YXRlLnRyaWdnZXJDaGFyYWN0ZXIubGVuZ3RoIDogMCksXG4gICAgICAgIHRvOiB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5mcm9tXG4gICAgICB9KS5ydW4oKTtcbiAgICB9KTtcbiAgICB0aGlzLmVkaXRvciA9IGUsIHRoaXMucGx1Z2luU3RhdGUgPSB2b2lkIDAsIHRoaXMuZW1pdFVwZGF0ZSA9IChpKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHVuaW5pdGlhbGl6ZWQgc3VnZ2VzdGlvbnMgbWVudVwiKTtcbiAgICAgIG8oaSwgdGhpcy5zdGF0ZSk7XG4gICAgfSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cbiAgdXBkYXRlKGUsIG8pIHtcbiAgICBjb25zdCBpID0gVS5nZXRTdGF0ZShvKSwgbiA9IFUuZ2V0U3RhdGUoXG4gICAgICBlLnN0YXRlXG4gICAgKSwgciA9IGkgPT09IHZvaWQgMCAmJiBuICE9PSB2b2lkIDAsIGEgPSBpICE9PSB2b2lkIDAgJiYgbiA9PT0gdm9pZCAwO1xuICAgIGlmICghciAmJiAhKGkgIT09IHZvaWQgMCAmJiBuICE9PSB2b2lkIDApICYmICFhKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh0aGlzLnBsdWdpblN0YXRlID0gYSA/IGkgOiBuLCBhIHx8ICF0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSB7XG4gICAgICB0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKHRoaXMucGx1Z2luU3RhdGUudHJpZ2dlckNoYXJhY3Rlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYFtkYXRhLWRlY29yYXRpb24taWQ9XCIke3RoaXMucGx1Z2luU3RhdGUuZGVjb3JhdGlvbklkfVwiXWBcbiAgICApO1xuICAgIHRoaXMuZWRpdG9yLmlzRWRpdGFibGUgJiYgKHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93OiAhMCxcbiAgICAgIHJlZmVyZW5jZVBvczogbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgIHF1ZXJ5OiB0aGlzLnBsdWdpblN0YXRlLnF1ZXJ5XG4gICAgfSwgdGhpcy5lbWl0VXBkYXRlKHRoaXMucGx1Z2luU3RhdGUudHJpZ2dlckNoYXJhY3RlcikpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVNjcm9sbCk7XG4gIH1cbn1cbmNvbnN0IFUgPSBuZXcgeChcIlN1Z2dlc3Rpb25NZW51UGx1Z2luXCIpO1xuY2xhc3Mgcm4gZXh0ZW5kcyBXIHtcbiAgY29uc3RydWN0b3Iobykge1xuICAgIHN1cGVyKCk7XG4gICAgYyh0aGlzLCBcInZpZXdcIik7XG4gICAgYyh0aGlzLCBcInBsdWdpblwiKTtcbiAgICBjKHRoaXMsIFwidHJpZ2dlckNoYXJhY3RlcnNcIiwgW10pO1xuICAgIGModGhpcywgXCJhZGRUcmlnZ2VyQ2hhcmFjdGVyXCIsIChvKSA9PiB7XG4gICAgICB0aGlzLnRyaWdnZXJDaGFyYWN0ZXJzLnB1c2gobyk7XG4gICAgfSk7XG4gICAgLy8gVE9ETzogU2hvdWxkIHRoaXMgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgd2hlbiBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQ/XG4gICAgYyh0aGlzLCBcInJlbW92ZVRyaWdnZXJDaGFyYWN0ZXJcIiwgKG8pID0+IHtcbiAgICAgIHRoaXMudHJpZ2dlckNoYXJhY3RlcnMgPSB0aGlzLnRyaWdnZXJDaGFyYWN0ZXJzLmZpbHRlcihcbiAgICAgICAgKGkpID0+IGkgIT09IG9cbiAgICAgICk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImNsb3NlTWVudVwiLCAoKSA9PiB0aGlzLnZpZXcuY2xvc2VNZW51KCkpO1xuICAgIGModGhpcywgXCJjbGVhclF1ZXJ5XCIsICgpID0+IHRoaXMudmlldy5jbGVhclF1ZXJ5KCkpO1xuICAgIGNvbnN0IGkgPSB0aGlzLnRyaWdnZXJDaGFyYWN0ZXJzO1xuICAgIHRoaXMucGx1Z2luID0gbmV3IHcoe1xuICAgICAga2V5OiBVLFxuICAgICAgdmlldzogKCkgPT4gKHRoaXMudmlldyA9IG5ldyBubihcbiAgICAgICAgbyxcbiAgICAgICAgKG4sIHIpID0+IHtcbiAgICAgICAgICB0aGlzLmVtaXQoYHVwZGF0ZSAke259YCwgcik7XG4gICAgICAgIH1cbiAgICAgICksIHRoaXMudmlldyksXG4gICAgICBzdGF0ZToge1xuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBwbHVnaW4ncyBpbnRlcm5hbCBzdGF0ZS5cbiAgICAgICAgaW5pdCgpIHtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gQXBwbHkgY2hhbmdlcyB0byB0aGUgcGx1Z2luIHN0YXRlIGZyb20gYW4gZWRpdG9yIHRyYW5zYWN0aW9uLlxuICAgICAgICBhcHBseShuLCByLCBhLCBzKSB7XG4gICAgICAgICAgaWYgKG4uZ2V0TWV0YShcIm9yZGVyZWRMaXN0SW5kZXhpbmdcIikgIT09IHZvaWQgMClcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgIGNvbnN0IGwgPSBuLmdldE1ldGEoVSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBsID09IFwib2JqZWN0XCIgJiYgbCAhPT0gbnVsbCAmJiByID09PSB2b2lkIDApXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0cmlnZ2VyQ2hhcmFjdGVyOiBsLnRyaWdnZXJDaGFyYWN0ZXIsXG4gICAgICAgICAgICAgIGZyb21Vc2VySW5wdXQ6IGwuZnJvbVVzZXJJbnB1dCAhPT0gITEsXG4gICAgICAgICAgICAgIHF1ZXJ5U3RhcnRQb3M6IHMuc2VsZWN0aW9uLmZyb20sXG4gICAgICAgICAgICAgIHF1ZXJ5OiBcIlwiLFxuICAgICAgICAgICAgICBkZWNvcmF0aW9uSWQ6IGBpZF8ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQyOTQ5NjcyOTUpfWBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKHIgPT09IHZvaWQgMClcbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC8vIEhpZ2hsaWdodGluZyB0ZXh0IHNob3VsZCBoaWRlIHRoZSBtZW51LlxuICAgICAgICAgICAgcy5zZWxlY3Rpb24uZnJvbSAhPT0gcy5zZWxlY3Rpb24udG8gfHwgLy8gVHJhbnNhY3Rpb25zIHdpdGggcGx1Z2luIG1ldGFkYXRhIHNob3VsZCBoaWRlIHRoZSBtZW51LlxuICAgICAgICAgICAgbCA9PT0gbnVsbCB8fCAvLyBDZXJ0YWluIG1vdXNlIGV2ZW50cyBzaG91bGQgaGlkZSB0aGUgbWVudS5cbiAgICAgICAgICAgIC8vIFRPRE86IENoYW5nZSB0byBnbG9iYWwgbW91c2Vkb3duIGxpc3RlbmVyLlxuICAgICAgICAgICAgbi5nZXRNZXRhKFwiZm9jdXNcIikgfHwgbi5nZXRNZXRhKFwiYmx1clwiKSB8fCBuLmdldE1ldGEoXCJwb2ludGVyXCIpIHx8IC8vIE1vdmluZyB0aGUgY2FyZXQgYmVmb3JlIHRoZSBjaGFyYWN0ZXIgd2hpY2ggdHJpZ2dlcmVkIHRoZSBtZW51IHNob3VsZCBoaWRlIGl0LlxuICAgICAgICAgICAgci50cmlnZ2VyQ2hhcmFjdGVyICE9PSB2b2lkIDAgJiYgcy5zZWxlY3Rpb24uZnJvbSA8IHIucXVlcnlTdGFydFBvc1xuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBkID0geyAuLi5yIH07XG4gICAgICAgICAgcmV0dXJuIGQucXVlcnkgPSBzLmRvYy50ZXh0QmV0d2VlbihcbiAgICAgICAgICAgIHIucXVlcnlTdGFydFBvcyxcbiAgICAgICAgICAgIHMuc2VsZWN0aW9uLmZyb21cbiAgICAgICAgICApLCBkO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvcHM6IHtcbiAgICAgICAgaGFuZGxlVGV4dElucHV0KG4sIHIsIGEsIHMpIHtcbiAgICAgICAgICBjb25zdCBsID0gdGhpcy5nZXRTdGF0ZShuLnN0YXRlKTtcbiAgICAgICAgICByZXR1cm4gaS5pbmNsdWRlcyhzKSAmJiBsID09PSB2b2lkIDAgPyAobi5kaXNwYXRjaChcbiAgICAgICAgICAgIG4uc3RhdGUudHIuaW5zZXJ0VGV4dChzKS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoVSwge1xuICAgICAgICAgICAgICB0cmlnZ2VyQ2hhcmFjdGVyOiBzXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICksICEwKSA6ICExO1xuICAgICAgICB9LFxuICAgICAgICAvLyBTZXR1cCBkZWNvcmF0b3Igb24gdGhlIGN1cnJlbnRseSBhY3RpdmUgc3VnZ2VzdGlvbi5cbiAgICAgICAgZGVjb3JhdGlvbnMobikge1xuICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmdldFN0YXRlKG4pO1xuICAgICAgICAgIGlmIChyID09PSB2b2lkIDApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICBpZiAoIXIuZnJvbVVzZXJJbnB1dCkge1xuICAgICAgICAgICAgY29uc3QgYSA9IG9uKG4uc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChhKVxuICAgICAgICAgICAgICByZXR1cm4gai5jcmVhdGUobi5kb2MsIFtcbiAgICAgICAgICAgICAgICB6Lm5vZGUoXG4gICAgICAgICAgICAgICAgICBhLnBvcyxcbiAgICAgICAgICAgICAgICAgIGEucG9zICsgYS5ub2RlLm5vZGVTaXplLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBub2RlTmFtZTogXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImJuLXN1Z2dlc3Rpb24tZGVjb3JhdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YS1kZWNvcmF0aW9uLWlkXCI6IHIuZGVjb3JhdGlvbklkXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGouY3JlYXRlKG4uZG9jLCBbXG4gICAgICAgICAgICB6LmlubGluZShcbiAgICAgICAgICAgICAgci5xdWVyeVN0YXJ0UG9zIC0gci50cmlnZ2VyQ2hhcmFjdGVyLmxlbmd0aCxcbiAgICAgICAgICAgICAgci5xdWVyeVN0YXJ0UG9zLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbm9kZU5hbWU6IFwic3BhblwiLFxuICAgICAgICAgICAgICAgIGNsYXNzOiBcImJuLXN1Z2dlc3Rpb24tZGVjb3JhdG9yXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhLWRlY29yYXRpb24taWRcIjogci5kZWNvcmF0aW9uSWRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgb25VcGRhdGUobywgaSkge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJDaGFyYWN0ZXJzLmluY2x1ZGVzKG8pIHx8IHRoaXMuYWRkVHJpZ2dlckNoYXJhY3RlcihvKSwgdGhpcy5vbihgdXBkYXRlICR7b31gLCBpKTtcbiAgfVxuICBnZXQgc2hvd24oKSB7XG4gICAgdmFyIG8sIGk7XG4gICAgcmV0dXJuICgoaSA9IChvID0gdGhpcy52aWV3KSA9PSBudWxsID8gdm9pZCAwIDogby5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkuc2hvdykgfHwgITE7XG4gIH1cbn1cbmZ1bmN0aW9uIFVyKHQsIGUpIHtcbiAgdC5zdWdnZXN0aW9uTWVudXMuYWRkVHJpZ2dlckNoYXJhY3RlcihlKTtcbn1cbmNsYXNzIFYgZXh0ZW5kcyB1ZSB7XG4gIGNvbnN0cnVjdG9yKG8sIGkpIHtcbiAgICBzdXBlcihvLCBpKTtcbiAgICBjKHRoaXMsIFwibm9kZXNcIik7XG4gICAgY29uc3QgbiA9IG8ubm9kZSgpO1xuICAgIHRoaXMubm9kZXMgPSBbXSwgby5kb2Mubm9kZXNCZXR3ZWVuKG8ucG9zLCBpLnBvcywgKHIsIGEsIHMpID0+IHtcbiAgICAgIGlmIChzICE9PSBudWxsICYmIHMuZXEobikpXG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzLnB1c2gociksICExO1xuICAgIH0pO1xuICB9XG4gIHN0YXRpYyBjcmVhdGUobywgaSwgbiA9IGkpIHtcbiAgICByZXR1cm4gbmV3IFYoby5yZXNvbHZlKGkpLCBvLnJlc29sdmUobikpO1xuICB9XG4gIGNvbnRlbnQoKSB7XG4gICAgcmV0dXJuIG5ldyBIKE0uZnJvbSh0aGlzLm5vZGVzKSwgMCwgMCk7XG4gIH1cbiAgZXEobykge1xuICAgIGlmICghKG8gaW5zdGFuY2VvZiBWKSB8fCB0aGlzLm5vZGVzLmxlbmd0aCAhPT0gby5ub2Rlcy5sZW5ndGggfHwgdGhpcy5mcm9tICE9PSBvLmZyb20gfHwgdGhpcy50byAhPT0gby50bylcbiAgICAgIHJldHVybiAhMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICBpZiAoIXRoaXMubm9kZXNbaV0uZXEoby5ub2Rlc1tpXSkpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgbWFwKG8sIGkpIHtcbiAgICBjb25zdCBuID0gaS5tYXBSZXN1bHQodGhpcy5mcm9tKSwgciA9IGkubWFwUmVzdWx0KHRoaXMudG8pO1xuICAgIHJldHVybiByLmRlbGV0ZWQgPyB1ZS5uZWFyKG8ucmVzb2x2ZShuLnBvcykpIDogbi5kZWxldGVkID8gdWUubmVhcihvLnJlc29sdmUoci5wb3MpKSA6IG5ldyBWKFxuICAgICAgby5yZXNvbHZlKG4ucG9zKSxcbiAgICAgIG8ucmVzb2x2ZShyLnBvcylcbiAgICApO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcIm5vZGVcIiwgYW5jaG9yOiB0aGlzLmFuY2hvciwgaGVhZDogdGhpcy5oZWFkIH07XG4gIH1cbn1cbmxldCBBO1xuZnVuY3Rpb24gTWUodCwgZSkge1xuICB2YXIgbjtcbiAgaWYgKCFlLmRvbS5pc0Nvbm5lY3RlZClcbiAgICByZXR1cm47XG4gIGNvbnN0IG8gPSBlLnBvc0F0Q29vcmRzKHQpO1xuICBpZiAoIW8pXG4gICAgcmV0dXJuO1xuICBsZXQgaSA9IGUuZG9tQXRQb3Moby5wb3MpLm5vZGU7XG4gIGlmIChpICE9PSBlLmRvbSkge1xuICAgIGZvciAoOyBpICYmIGkucGFyZW50Tm9kZSAmJiBpLnBhcmVudE5vZGUgIT09IGUuZG9tICYmICEoKG4gPSBpLmhhc0F0dHJpYnV0ZSkgIT0gbnVsbCAmJiBuLmNhbGwoaSwgXCJkYXRhLWlkXCIpKTsgKVxuICAgICAgaSA9IGkucGFyZW50Tm9kZTtcbiAgICBpZiAoaSlcbiAgICAgIHJldHVybiB7IG5vZGU6IGksIGlkOiBpLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikgfTtcbiAgfVxufVxuZnVuY3Rpb24gYW4odCwgZSkge1xuICBjb25zdCBvID0gTWUodCwgZSk7XG4gIGlmIChvICYmIG8ubm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IGkgPSBlLmRvY1ZpZXcsIG4gPSBpLm5lYXJlc3REZXNjKG8ubm9kZSwgITApO1xuICAgIHJldHVybiAhbiB8fCBuID09PSBpID8gbnVsbCA6IG4ucG9zQmVmb3JlO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gc24odCwgZSkge1xuICBsZXQgbywgaTtcbiAgY29uc3QgbiA9IGUucmVzb2x2ZSh0LmZyb20pLm5vZGUoKS50eXBlLnNwZWMuZ3JvdXAgPT09IFwiYmxvY2tDb250ZW50XCIsIHIgPSBlLnJlc29sdmUodC50bykubm9kZSgpLnR5cGUuc3BlYy5ncm91cCA9PT0gXCJibG9ja0NvbnRlbnRcIiwgYSA9IE1hdGgubWluKHQuJGFuY2hvci5kZXB0aCwgdC4kaGVhZC5kZXB0aCk7XG4gIGlmIChuICYmIHIpIHtcbiAgICBjb25zdCBzID0gdC4kZnJvbS5zdGFydChhIC0gMSksIGwgPSB0LiR0by5lbmQoYSAtIDEpO1xuICAgIG8gPSBlLnJlc29sdmUocyAtIDEpLnBvcywgaSA9IGUucmVzb2x2ZShsICsgMSkucG9zO1xuICB9IGVsc2VcbiAgICBvID0gdC5mcm9tLCBpID0gdC50bztcbiAgcmV0dXJuIHsgZnJvbTogbywgdG86IGkgfTtcbn1cbmZ1bmN0aW9uIEZlKHQsIGUsIG8gPSBlKSB7XG4gIGUgPT09IG8gJiYgKG8gKz0gdC5zdGF0ZS5kb2MucmVzb2x2ZShlICsgMSkubm9kZSgpLm5vZGVTaXplKTtcbiAgY29uc3QgaSA9IHQuZG9tQXRQb3MoZSkubm9kZS5jbG9uZU5vZGUoITApLCBuID0gdC5kb21BdFBvcyhlKS5ub2RlLCByID0gKHUsIHApID0+IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodS5jaGlsZHJlbiwgcCksIGEgPSByKFxuICAgIG4sXG4gICAgLy8gRXhwZWN0cyBmcm9tIHBvc2l0aW9uIHRvIGJlIGp1c3QgYmVmb3JlIHRoZSBmaXJzdCBzZWxlY3RlZCBibG9jay5cbiAgICB0LmRvbUF0UG9zKGUgKyAxKS5ub2RlLnBhcmVudEVsZW1lbnRcbiAgKSwgcyA9IHIoXG4gICAgbixcbiAgICAvLyBFeHBlY3RzIHRvIHBvc2l0aW9uIHRvIGJlIGp1c3QgYWZ0ZXIgdGhlIGxhc3Qgc2VsZWN0ZWQgYmxvY2suXG4gICAgdC5kb21BdFBvcyhvIC0gMSkubm9kZS5wYXJlbnRFbGVtZW50XG4gICk7XG4gIGZvciAobGV0IHUgPSBuLmNoaWxkRWxlbWVudENvdW50IC0gMTsgdSA+PSAwOyB1LS0pXG4gICAgKHUgPiBzIHx8IHUgPCBhKSAmJiBpLnJlbW92ZUNoaWxkKGkuY2hpbGRyZW5bdV0pO1xuICB5dCgpLCBBID0gaTtcbiAgY29uc3QgZCA9IHQuZG9tLmNsYXNzTmFtZS5zcGxpdChcIiBcIikuZmlsdGVyKFxuICAgICh1KSA9PiB1ICE9PSBcIlByb3NlTWlycm9yXCIgJiYgdSAhPT0gXCJibi1yb290XCIgJiYgdSAhPT0gXCJibi1lZGl0b3JcIlxuICApLmpvaW4oXCIgXCIpO1xuICBBLmNsYXNzTmFtZSA9IEEuY2xhc3NOYW1lICsgXCIgYm4tZHJhZy1wcmV2aWV3IFwiICsgZCwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChBKTtcbn1cbmZ1bmN0aW9uIHl0KCkge1xuICBBICE9PSB2b2lkIDAgJiYgKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoQSksIEEgPSB2b2lkIDApO1xufVxuZnVuY3Rpb24gbG4odCwgZSkge1xuICBpZiAoIXQuZGF0YVRyYW5zZmVyKVxuICAgIHJldHVybjtcbiAgY29uc3QgbyA9IGUucHJvc2VtaXJyb3JWaWV3LCBpID0gby5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG4gPSB7XG4gICAgbGVmdDogaS5sZWZ0ICsgaS53aWR0aCAvIDIsXG4gICAgLy8gdGFrZSBtaWRkbGUgb2YgZWRpdG9yXG4gICAgdG9wOiB0LmNsaWVudFlcbiAgfSwgciA9IGFuKG4sIG8pO1xuICBpZiAociAhPSBudWxsKSB7XG4gICAgY29uc3QgYSA9IG8uc3RhdGUuc2VsZWN0aW9uLCBzID0gby5zdGF0ZS5kb2MsIHsgZnJvbTogbCwgdG86IGQgfSA9IHNuKGEsIHMpLCB1ID0gbCA8PSByICYmIHIgPCBkLCBwID0gYS4kYW5jaG9yLm5vZGUoKSAhPT0gYS4kaGVhZC5ub2RlKCkgfHwgYSBpbnN0YW5jZW9mIFY7XG4gICAgdSAmJiBwID8gKG8uZGlzcGF0Y2goXG4gICAgICBvLnN0YXRlLnRyLnNldFNlbGVjdGlvbihWLmNyZWF0ZShzLCBsLCBkKSlcbiAgICApLCBGZShvLCBsLCBkKSkgOiAoby5kaXNwYXRjaChcbiAgICAgIG8uc3RhdGUudHIuc2V0U2VsZWN0aW9uKHRlLmNyZWF0ZShvLnN0YXRlLmRvYywgcikpXG4gICAgKSwgRmUobywgcikpO1xuICAgIGNvbnN0IGggPSBvLnN0YXRlLnNlbGVjdGlvbi5jb250ZW50KCksIGYgPSBlLl90aXB0YXBFZGl0b3Iuc2NoZW1hLCBnID0gbnQoZiwgZSkuc2VyaWFsaXplUHJvc2VNaXJyb3JGcmFnbWVudChcbiAgICAgIGguY29udGVudFxuICAgICksIEIgPSBuZShmLCBlKS5leHBvcnRQcm9zZU1pcnJvckZyYWdtZW50KFxuICAgICAgaC5jb250ZW50XG4gICAgKSwgRSA9IFNlKEIpO1xuICAgIHQuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpLCB0LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiYmxvY2tub3RlL2h0bWxcIiwgZyksIHQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L2h0bWxcIiwgQiksIHQuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIEUpLCB0LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJtb3ZlXCIsIHQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShBLCAwLCAwKSwgby5kcmFnZ2luZyA9IHsgc2xpY2U6IGgsIG1vdmU6ICEwIH07XG4gIH1cbn1cbmNsYXNzIGRuIHtcbiAgY29uc3RydWN0b3IoZSwgbywgaSkge1xuICAgIGModGhpcywgXCJzdGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwiZW1pdFVwZGF0ZVwiKTtcbiAgICAvLyBXaGVuIHRydWUsIHRoZSBkcmFnIGhhbmRsZSB3aXRoIGJlIGFuY2hvcmVkIGF0IHRoZSBzYW1lIGxldmVsIGFzIHJvb3QgZWxlbWVudHNcbiAgICAvLyBXaGVuIGZhbHNlLCB0aGUgZHJhZyBoYW5kbGUgd2l0aCBiZSBqdXN0IHRvIHRoZSBsZWZ0IG9mIHRoZSBlbGVtZW50XG4gICAgLy8gVE9ETzogSXMgdGhlcmUgYW55IGNhc2Ugd2hlcmUgd2Ugd2FudCB0aGlzIHRvIGJlIGZhbHNlP1xuICAgIGModGhpcywgXCJob3Jpem9udGFsUG9zQW5jaG9yZWRBdFJvb3RcIik7XG4gICAgYyh0aGlzLCBcImhvcml6b250YWxQb3NBbmNob3JcIik7XG4gICAgYyh0aGlzLCBcImhvdmVyZWRCbG9ja1wiKTtcbiAgICAvLyBVc2VkIHRvIGNoZWNrIGlmIGN1cnJlbnRseSBkcmFnZ2VkIGNvbnRlbnQgY29tZXMgZnJvbSB0aGlzIGVkaXRvciBpbnN0YW5jZS5cbiAgICBjKHRoaXMsIFwiaXNEcmFnZ2luZ1wiLCAhMSk7XG4gICAgYyh0aGlzLCBcIm1lbnVGcm96ZW5cIiwgITEpO1xuICAgIC8qKlxuICAgICAqIFNldHMgaXNEcmFnZ2luZyB3aGVuIGRyYWdnaW5nIHRleHQuXG4gICAgICovXG4gICAgYyh0aGlzLCBcIm9uRHJhZ1N0YXJ0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9ICEwO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBldmVudCBpcyBvdXRzaWRlIHRoZSBlZGl0b3IgY29udGVudHMsXG4gICAgICogd2UgZGlzcGF0Y2ggYSBmYWtlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBzdGlsbCBkcm9wIHRoZSBjb250ZW50XG4gICAgICogd2hlbiBkcmFnZ2luZyAvIGRyb3BwaW5nIHRvIHRoZSBzaWRlIG9mIHRoZSBlZGl0b3JcbiAgICAgKi9cbiAgICBjKHRoaXMsIFwib25Ecm9wXCIsIChlKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5ibHVyKCksIGUuc3ludGhldGljIHx8ICF0aGlzLmlzRHJhZ2dpbmcpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLnBtVmlldy5wb3NBdENvb3Jkcyh7XG4gICAgICAgIGxlZnQ6IGUuY2xpZW50WCxcbiAgICAgICAgdG9wOiBlLmNsaWVudFlcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZyA9ICExLCAhbyB8fCBvLmluc2lkZSA9PT0gLTEpIHtcbiAgICAgICAgY29uc3QgaSA9IG5ldyBFdmVudChcImRyb3BcIiwgZSksIG4gPSB0aGlzLnBtVmlldy5kb20uZmlyc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaS5jbGllbnRYID0gbi5sZWZ0ICsgbi53aWR0aCAvIDIsIGkuY2xpZW50WSA9IGUuY2xpZW50WSwgaS5kYXRhVHJhbnNmZXIgPSBlLmRhdGFUcmFuc2ZlciwgaS5wcmV2ZW50RGVmYXVsdCA9ICgpID0+IGUucHJldmVudERlZmF1bHQoKSwgaS5zeW50aGV0aWMgPSAhMCwgdGhpcy5wbVZpZXcuZG9tLmRpc3BhdGNoRXZlbnQoaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIGVkaXRvciBjb250ZW50cyxcbiAgICAgKiB3ZSBkaXNwYXRjaCBhIGZha2UgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIHN0aWxsIGRyb3AgdGhlIGNvbnRlbnRcbiAgICAgKiB3aGVuIGRyYWdnaW5nIC8gZHJvcHBpbmcgdG8gdGhlIHNpZGUgb2YgdGhlIGVkaXRvclxuICAgICAqL1xuICAgIGModGhpcywgXCJvbkRyYWdPdmVyXCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS5zeW50aGV0aWMgfHwgIXRoaXMuaXNEcmFnZ2luZylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgbyA9IHRoaXMucG1WaWV3LnBvc0F0Q29vcmRzKHtcbiAgICAgICAgbGVmdDogZS5jbGllbnRYLFxuICAgICAgICB0b3A6IGUuY2xpZW50WVxuICAgICAgfSk7XG4gICAgICBpZiAoIW8gfHwgby5pbnNpZGUgPT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgRXZlbnQoXCJkcmFnb3ZlclwiLCBlKSwgbiA9IHRoaXMucG1WaWV3LmRvbS5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpLmNsaWVudFggPSBuLmxlZnQgKyBuLndpZHRoIC8gMiwgaS5jbGllbnRZID0gZS5jbGllbnRZLCBpLmRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyLCBpLnByZXZlbnREZWZhdWx0ID0gKCkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLCBpLnN5bnRoZXRpYyA9ICEwLCB0aGlzLnBtVmlldy5kb20uZGlzcGF0Y2hFdmVudChpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjKHRoaXMsIFwib25LZXlEb3duXCIsIChlKSA9PiB7XG4gICAgICB2YXIgbztcbiAgICAgIChvID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBvLnNob3cgJiYgdGhpcy5lZGl0b3IuaXNGb2N1c2VkKCkgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUodGhpcy5zdGF0ZSksIHRoaXMubWVudUZyb3plbiA9ICExKTtcbiAgICB9KTtcbiAgICBjKHRoaXMsIFwib25Nb3VzZURvd25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuc3RhdGUgJiYgIXRoaXMuc3RhdGUuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITAsIHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnN0YXRlKSksIHRoaXMubWVudUZyb3plbiA9ICExO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJvbk1vdXNlTW92ZVwiLCAoZSkgPT4ge1xuICAgICAgdmFyIGQsIHUsIHAsIGgsIGY7XG4gICAgICBpZiAodGhpcy5tZW51RnJvemVuKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBvID0gdGhpcy5wbVZpZXcuZG9tLmZpcnN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGkgPSB0aGlzLnBtVmlldy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG4gPSBlLmNsaWVudFggPj0gaS5sZWZ0ICYmIGUuY2xpZW50WCA8PSBpLnJpZ2h0ICYmIGUuY2xpZW50WSA+PSBpLnRvcCAmJiBlLmNsaWVudFkgPD0gaS5ib3R0b20sIHIgPSB0aGlzLnBtVmlldy5kb20ucGFyZW50RWxlbWVudDtcbiAgICAgIGlmIChcbiAgICAgICAgLy8gQ3Vyc29yIGlzIHdpdGhpbiB0aGUgZWRpdG9yIGFyZWFcbiAgICAgICAgbiAmJiAvLyBBbiBlbGVtZW50IGlzIGhvdmVyZWRcbiAgICAgICAgZSAmJiBlLnRhcmdldCAmJiAvLyBFbGVtZW50IGlzIG91dHNpZGUgdGhlIGVkaXRvclxuICAgICAgICAhKHIgPT09IGUudGFyZ2V0IHx8IHIuY29udGFpbnMoZS50YXJnZXQpKVxuICAgICAgKSB7XG4gICAgICAgIChkID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBkLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUodGhpcy5zdGF0ZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmhvcml6b250YWxQb3NBbmNob3IgPSBvLng7XG4gICAgICBjb25zdCBhID0ge1xuICAgICAgICBsZWZ0OiBvLmxlZnQgKyBvLndpZHRoIC8gMixcbiAgICAgICAgLy8gdGFrZSBtaWRkbGUgb2YgZWRpdG9yXG4gICAgICAgIHRvcDogZS5jbGllbnRZXG4gICAgICB9LCBzID0gTWUoYSwgdGhpcy5wbVZpZXcpO1xuICAgICAgaWYgKCFzIHx8ICF0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSB7XG4gICAgICAgICh1ID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiB1LnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUodGhpcy5zdGF0ZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoKHAgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIHAuc2hvdyAmJiAoKGggPSB0aGlzLmhvdmVyZWRCbG9jaykgIT0gbnVsbCAmJiBoLmhhc0F0dHJpYnV0ZShcImRhdGEtaWRcIikpICYmICgoZiA9IHRoaXMuaG92ZXJlZEJsb2NrKSA9PSBudWxsID8gdm9pZCAwIDogZi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSA9PT0gcy5pZClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5ob3ZlcmVkQmxvY2sgPSBzLm5vZGU7XG4gICAgICBjb25zdCBsID0gcy5ub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAobCAmJiB0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSB7XG4gICAgICAgIGNvbnN0IG0gPSBsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgIHNob3c6ICEwLFxuICAgICAgICAgIHJlZmVyZW5jZVBvczogbmV3IERPTVJlY3QoXG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWxQb3NBbmNob3JlZEF0Um9vdCA/IHRoaXMuaG9yaXpvbnRhbFBvc0FuY2hvciA6IG0ueCxcbiAgICAgICAgICAgIG0ueSxcbiAgICAgICAgICAgIG0ud2lkdGgsXG4gICAgICAgICAgICBtLmhlaWdodFxuICAgICAgICAgICksXG4gICAgICAgICAgYmxvY2s6IHRoaXMuZWRpdG9yLmdldEJsb2NrKFxuICAgICAgICAgICAgdGhpcy5ob3ZlcmVkQmxvY2suZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKVxuICAgICAgICAgIClcbiAgICAgICAgfSwgdGhpcy5lbWl0VXBkYXRlKHRoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGModGhpcywgXCJvblNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIGlmICgoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93KSB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmhvdmVyZWRCbG9jay5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB0aGlzLnN0YXRlLnJlZmVyZW5jZVBvcyA9IG5ldyBET01SZWN0KFxuICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbFBvc0FuY2hvcmVkQXRSb290ID8gdGhpcy5ob3Jpem9udGFsUG9zQW5jaG9yIDogaS54LFxuICAgICAgICAgIGkueSxcbiAgICAgICAgICBpLndpZHRoLFxuICAgICAgICAgIGkuaGVpZ2h0XG4gICAgICAgICksIHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnN0YXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmVkaXRvciA9IGUsIHRoaXMucG1WaWV3ID0gbywgdGhpcy5lbWl0VXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHVwZGF0ZSB1bmluaXRpYWxpemVkIHNpZGUgbWVudVwiKTtcbiAgICAgIGkodGhpcy5zdGF0ZSk7XG4gICAgfSwgdGhpcy5ob3Jpem9udGFsUG9zQW5jaG9yZWRBdFJvb3QgPSAhMCwgdGhpcy5ob3Jpem9udGFsUG9zQW5jaG9yID0gdGhpcy5wbVZpZXcuZG9tLmZpcnN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCwgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCB0aGlzLm9uRHJvcCwgITApLCBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCB0aGlzLm9uRHJhZ092ZXIpLCB0aGlzLnBtVmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCB0aGlzLm9uRHJhZ1N0YXJ0KSwgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmUsICEwKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsKSwgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZURvd24sICEwKSwgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93biwgITApO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGUuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnN0YXRlKSksIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlLCAhMCksIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMub25EcmFnT3ZlciksIHRoaXMucG1WaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMub25EcmFnU3RhcnQpLCBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIHRoaXMub25Ecm9wLCAhMCksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCksIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uTW91c2VEb3duLCAhMCksIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24sICEwKTtcbiAgfVxuICBhZGRCbG9jaygpIHtcbiAgICB2YXIgbDtcbiAgICAobCA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgbC5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKHRoaXMuc3RhdGUpKSwgdGhpcy5tZW51RnJvemVuID0gITA7XG4gICAgY29uc3QgbyA9IHRoaXMuaG92ZXJlZEJsb2NrLmZpcnN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGkgPSB0aGlzLnBtVmlldy5wb3NBdENvb3Jkcyh7XG4gICAgICBsZWZ0OiBvLmxlZnQgKyBvLndpZHRoIC8gMixcbiAgICAgIHRvcDogby50b3AgKyBvLmhlaWdodCAvIDJcbiAgICB9KTtcbiAgICBpZiAoIWkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbiA9IGIoXG4gICAgICB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYyxcbiAgICAgIGkucG9zXG4gICAgKTtcbiAgICBpZiAobiA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgY29udGVudE5vZGU6IHIsIHN0YXJ0UG9zOiBhLCBlbmRQb3M6IHMgfSA9IG47XG4gICAgaWYgKHIudHlwZS5zcGVjLmNvbnRlbnQgIT09IFwiaW5saW5lKlwiIHx8IHIudGV4dENvbnRlbnQubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb25zdCBkID0gcyArIDEsIHUgPSBkICsgMjtcbiAgICAgIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3IuY2hhaW4oKS5CTkNyZWF0ZUJsb2NrKGQpLnNldFRleHRTZWxlY3Rpb24odSkucnVuKCk7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnNldFRleHRTZWxlY3Rpb24oYSArIDEpO1xuICAgIHRoaXMucG1WaWV3LmZvY3VzKCksIHRoaXMucG1WaWV3LmRpc3BhdGNoKFxuICAgICAgdGhpcy5wbVZpZXcuc3RhdGUudHIuc2Nyb2xsSW50b1ZpZXcoKS5zZXRNZXRhKFUsIHtcbiAgICAgICAgdHJpZ2dlckNoYXJhY3RlcjogXCIvXCIsXG4gICAgICAgIGZyb21Vc2VySW5wdXQ6ICExXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cbmNvbnN0IGNuID0gbmV3IHgoXCJTaWRlTWVudVBsdWdpblwiKTtcbmNsYXNzIHVuIGV4dGVuZHMgVyB7XG4gIGNvbnN0cnVjdG9yKG8pIHtcbiAgICBzdXBlcigpO1xuICAgIGModGhpcywgXCJ2aWV3XCIpO1xuICAgIGModGhpcywgXCJwbHVnaW5cIik7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGJsb2NrIGlzIGVtcHR5LCBvcGVucyB0aGUgc2xhc2ggbWVudS4gSWYgdGhlIGJsb2NrIGhhcyBjb250ZW50LFxuICAgICAqIGNyZWF0ZXMgYSBuZXcgYmxvY2sgYmVsb3cgYW5kIG9wZW5zIHRoZSBzbGFzaCBtZW51IGluIGl0LlxuICAgICAqL1xuICAgIGModGhpcywgXCJhZGRCbG9ja1wiLCAoKSA9PiB0aGlzLnZpZXcuYWRkQmxvY2soKSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBkcmFnICYgZHJvcCBldmVudHMgZm9yIGJsb2Nrcy5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwiYmxvY2tEcmFnU3RhcnRcIiwgKG8pID0+IHtcbiAgICAgIHRoaXMudmlldy5pc0RyYWdnaW5nID0gITAsIGxuKG8sIHRoaXMuZWRpdG9yKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGRyYWcgJiBkcm9wIGV2ZW50cyBmb3IgYmxvY2tzLlxuICAgICAqL1xuICAgIGModGhpcywgXCJibG9ja0RyYWdFbmRcIiwgKCkgPT4geXQoKSk7XG4gICAgLyoqXG4gICAgICogRnJlZXplcyB0aGUgc2lkZSBtZW51LiBXaGVuIGZyb3plbiwgdGhlIHNpZGUgbWVudSB3aWxsIHN0YXlcbiAgICAgKiBhdHRhY2hlZCB0byB0aGUgc2FtZSBibG9jayByZWdhcmRsZXNzIG9mIHdoaWNoIGJsb2NrIGlzIGhvdmVyZWQgYnkgdGhlXG4gICAgICogbW91c2UgY3Vyc29yLlxuICAgICAqL1xuICAgIGModGhpcywgXCJmcmVlemVNZW51XCIsICgpID0+IHRoaXMudmlldy5tZW51RnJvemVuID0gITApO1xuICAgIC8qKlxuICAgICAqIFVuZnJlZXplcyB0aGUgc2lkZSBtZW51LiBXaGVuIGZyb3plbiwgdGhlIHNpZGUgbWVudSB3aWxsIHN0YXlcbiAgICAgKiBhdHRhY2hlZCB0byB0aGUgc2FtZSBibG9jayByZWdhcmRsZXNzIG9mIHdoaWNoIGJsb2NrIGlzIGhvdmVyZWQgYnkgdGhlXG4gICAgICogbW91c2UgY3Vyc29yLlxuICAgICAqL1xuICAgIGModGhpcywgXCJ1bmZyZWV6ZU1lbnVcIiwgKCkgPT4gdGhpcy52aWV3Lm1lbnVGcm96ZW4gPSAhMSk7XG4gICAgdGhpcy5lZGl0b3IgPSBvLCB0aGlzLnBsdWdpbiA9IG5ldyB3KHtcbiAgICAgIGtleTogY24sXG4gICAgICB2aWV3OiAoaSkgPT4gKHRoaXMudmlldyA9IG5ldyBkbihvLCBpLCAobikgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgbik7XG4gICAgICB9KSwgdGhpcy52aWV3KVxuICAgIH0pO1xuICB9XG4gIG9uVXBkYXRlKG8pIHtcbiAgICByZXR1cm4gdGhpcy5vbihcInVwZGF0ZVwiLCBvKTtcbiAgfVxufVxubGV0IHY7XG5mdW5jdGlvbiBHZSgpIHtcbiAgdiB8fCAodiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHYuaW5uZXJIVE1MID0gXCJfXCIsIHYuc3R5bGUub3BhY2l0eSA9IFwiMFwiLCB2LnN0eWxlLmhlaWdodCA9IFwiMXB4XCIsIHYuc3R5bGUud2lkdGggPSBcIjFweFwiLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpKTtcbn1cbmZ1bmN0aW9uIHBuKCkge1xuICB2ICYmIChkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHYpLCB2ID0gdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIGVlKHQpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMsIHQpO1xufVxuZnVuY3Rpb24gaG4odCkge1xuICBmb3IgKDsgdCAmJiB0Lm5vZGVOYW1lICE9PSBcIlREXCIgJiYgdC5ub2RlTmFtZSAhPT0gXCJUSFwiOyApXG4gICAgdCA9IHQuY2xhc3NMaXN0ICYmIHQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiUHJvc2VNaXJyb3JcIikgPyBudWxsIDogdC5wYXJlbnROb2RlO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIG1uKHQpIHtcbiAgdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrKVxuICAgICAgb1tpXS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfSk7XG59XG5jbGFzcyBmbiB7XG4gIGNvbnN0cnVjdG9yKGUsIG8sIGkpIHtcbiAgICBjKHRoaXMsIFwic3RhdGVcIik7XG4gICAgYyh0aGlzLCBcImVtaXRVcGRhdGVcIik7XG4gICAgYyh0aGlzLCBcInRhYmxlSWRcIik7XG4gICAgYyh0aGlzLCBcInRhYmxlUG9zXCIpO1xuICAgIGModGhpcywgXCJtZW51RnJvemVuXCIsICExKTtcbiAgICBjKHRoaXMsIFwicHJldldhc0VkaXRhYmxlXCIsIG51bGwpO1xuICAgIGModGhpcywgXCJtb3VzZU1vdmVIYW5kbGVyXCIsIChlKSA9PiB7XG4gICAgICB2YXIgZDtcbiAgICAgIGlmICh0aGlzLm1lbnVGcm96ZW4pXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IG8gPSBobihlLnRhcmdldCk7XG4gICAgICBpZiAoIW8gfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpIHtcbiAgICAgICAgKGQgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGQuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaSA9IGVlKG8pLCBuID0gZWUoby5wYXJlbnRFbGVtZW50KSwgciA9IG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGEgPSBvLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgcyA9IE1lKHIsIHRoaXMucG1WaWV3KTtcbiAgICAgIGlmICghcylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiRm91bmQgdGFibGUgY2VsbCBlbGVtZW50LCBidXQgY291bGQgbm90IGZpbmQgc3Vycm91bmRpbmcgYmxvY2tDb250ZW50IGVsZW1lbnQuXCJcbiAgICAgICAgKTtcbiAgICAgIGlmICh0aGlzLnRhYmxlSWQgPSBzLmlkLCB0aGlzLnN0YXRlICE9PSB2b2lkIDAgJiYgdGhpcy5zdGF0ZS5zaG93ICYmIHRoaXMudGFibGVJZCA9PT0gcy5pZCAmJiB0aGlzLnN0YXRlLnJvd0luZGV4ID09PSBuICYmIHRoaXMuc3RhdGUuY29sSW5kZXggPT09IGkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGxldCBsO1xuICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLmRlc2NlbmRhbnRzKCh1LCBwKSA9PiB0eXBlb2YgbCA8IFwidVwiID8gITEgOiB1LnR5cGUubmFtZSAhPT0gXCJibG9ja0NvbnRhaW5lclwiIHx8IHUuYXR0cnMuaWQgIT09IHMuaWQgPyAhMCA6IChsID0gXyhcbiAgICAgICAgdSxcbiAgICAgICAgdGhpcy5lZGl0b3Iuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICB0aGlzLmVkaXRvci5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgdGhpcy5lZGl0b3Iuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgICB0aGlzLmVkaXRvci5ibG9ja0NhY2hlXG4gICAgICApLCB0aGlzLnRhYmxlUG9zID0gcCArIDEsICExKSksIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgIHNob3c6ICEwLFxuICAgICAgICByZWZlcmVuY2VQb3NDZWxsOiByLFxuICAgICAgICByZWZlcmVuY2VQb3NUYWJsZTogYSxcbiAgICAgICAgYmxvY2s6IGwsXG4gICAgICAgIGNvbEluZGV4OiBpLFxuICAgICAgICByb3dJbmRleDogbixcbiAgICAgICAgZHJhZ2dpbmdTdGF0ZTogdm9pZCAwXG4gICAgICB9LCB0aGlzLmVtaXRVcGRhdGUoKSwgITE7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImRyYWdPdmVySGFuZGxlclwiLCAoZSkgPT4ge1xuICAgICAgdmFyIGg7XG4gICAgICBpZiAoKChoID0gdGhpcy5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGguZHJhZ2dpbmdTdGF0ZSkgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJtb3ZlXCIsIG1uKFtcbiAgICAgICAgXCJjb2x1bW4tcmVzaXplLWhhbmRsZVwiLFxuICAgICAgICBcInByb3NlbWlycm9yLWRyb3BjdXJzb3ItYmxvY2tcIixcbiAgICAgICAgXCJwcm9zZW1pcnJvci1kcm9wY3Vyc29yLWlubGluZVwiXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IG8gPSB7XG4gICAgICAgIGxlZnQ6IE1hdGgubWluKFxuICAgICAgICAgIE1hdGgubWF4KGUuY2xpZW50WCwgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NUYWJsZS5sZWZ0ICsgMSksXG4gICAgICAgICAgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NUYWJsZS5yaWdodCAtIDFcbiAgICAgICAgKSxcbiAgICAgICAgdG9wOiBNYXRoLm1pbihcbiAgICAgICAgICBNYXRoLm1heChlLmNsaWVudFksIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zVGFibGUudG9wICsgMSksXG4gICAgICAgICAgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NUYWJsZS5ib3R0b20gLSAxXG4gICAgICAgIClcbiAgICAgIH0sIGkgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChvLmxlZnQsIG8udG9wKS5maWx0ZXIoXG4gICAgICAgIChmKSA9PiBmLnRhZ05hbWUgPT09IFwiVERcIiB8fCBmLnRhZ05hbWUgPT09IFwiVEhcIlxuICAgICAgKTtcbiAgICAgIGlmIChpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgdGFibGUgY2VsbCBlbGVtZW50IHRoYXQgdGhlIG1vdXNlIGN1cnNvciBpcyBob3ZlcmluZyBvdmVyLlwiXG4gICAgICAgICk7XG4gICAgICBjb25zdCBuID0gaVswXTtcbiAgICAgIGxldCByID0gITE7XG4gICAgICBjb25zdCBhID0gZWUobi5wYXJlbnRFbGVtZW50KSwgcyA9IGVlKG4pLCBsID0gdGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIgPyB0aGlzLnN0YXRlLnJvd0luZGV4IDogdGhpcy5zdGF0ZS5jb2xJbmRleCwgdSA9ICh0aGlzLnN0YXRlLmRyYWdnaW5nU3RhdGUuZHJhZ2dlZENlbGxPcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IGEgOiBzKSAhPT0gbDtcbiAgICAgICh0aGlzLnN0YXRlLnJvd0luZGV4ICE9PSBhIHx8IHRoaXMuc3RhdGUuY29sSW5kZXggIT09IHMpICYmICh0aGlzLnN0YXRlLnJvd0luZGV4ID0gYSwgdGhpcy5zdGF0ZS5jb2xJbmRleCA9IHMsIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zQ2VsbCA9IG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHIgPSAhMCk7XG4gICAgICBjb25zdCBwID0gdGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIgPyBvLnRvcCA6IG8ubGVmdDtcbiAgICAgIHRoaXMuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5tb3VzZVBvcyAhPT0gcCAmJiAodGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm1vdXNlUG9zID0gcCwgciA9ICEwKSwgciAmJiB0aGlzLmVtaXRVcGRhdGUoKSwgdSAmJiB0aGlzLnBtVmlldy5kaXNwYXRjaChcbiAgICAgICAgdGhpcy5wbVZpZXcuc3RhdGUudHIuc2V0TWV0YShYLCAhMClcbiAgICAgICk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImRyb3BIYW5kbGVyXCIsIChlKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdm9pZCAwIHx8IHRoaXMuc3RhdGUuZHJhZ2dpbmdTdGF0ZSA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBvID0gdGhpcy5zdGF0ZS5ibG9jay5jb250ZW50LnJvd3M7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIpIHtcbiAgICAgICAgY29uc3QgaSA9IG9bdGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm9yaWdpbmFsSW5kZXhdO1xuICAgICAgICBvLnNwbGljZSh0aGlzLnN0YXRlLmRyYWdnaW5nU3RhdGUub3JpZ2luYWxJbmRleCwgMSksIG8uc3BsaWNlKHRoaXMuc3RhdGUucm93SW5kZXgsIDAsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaSA9IG8ubWFwKFxuICAgICAgICAgIChuKSA9PiBuLmNlbGxzW3RoaXMuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5vcmlnaW5hbEluZGV4XVxuICAgICAgICApO1xuICAgICAgICBvLmZvckVhY2goKG4sIHIpID0+IHtcbiAgICAgICAgICBuLmNlbGxzLnNwbGljZSh0aGlzLnN0YXRlLmRyYWdnaW5nU3RhdGUub3JpZ2luYWxJbmRleCwgMSksIG4uY2VsbHMuc3BsaWNlKHRoaXMuc3RhdGUuY29sSW5kZXgsIDAsIGlbcl0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWRpdG9yLnVwZGF0ZUJsb2NrKHRoaXMuc3RhdGUuYmxvY2ssIHtcbiAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgdHlwZTogXCJ0YWJsZUNvbnRlbnRcIixcbiAgICAgICAgICByb3dzOiBvXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJzY3JvbGxIYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHZhciBlO1xuICAgICAgaWYgKChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cpIHtcbiAgICAgICAgY29uc3QgbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLW5vZGUtdHlwZT1cImJsb2NrQ29udGFpbmVyXCJdW2RhdGEtaWQ9XCIke3RoaXMudGFibGVJZH1cIl0gdGFibGVgXG4gICAgICAgICksIGkgPSBvLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYHRyOm50aC1jaGlsZCgke3RoaXMuc3RhdGUucm93SW5kZXggKyAxfSkgPiB0ZDpudGgtY2hpbGQoJHt0aGlzLnN0YXRlLmNvbEluZGV4ICsgMX0pYFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXRlLnJlZmVyZW5jZVBvc1RhYmxlID0gby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NDZWxsID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5lbWl0VXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5lZGl0b3IgPSBlLCB0aGlzLnBtVmlldyA9IG8sIHRoaXMuZW1pdFVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byB1cGRhdGUgdW5pbml0aWFsaXplZCBpbWFnZSB0b29sYmFyXCIpO1xuICAgICAgaSh0aGlzLnN0YXRlKTtcbiAgICB9LCBvLmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlSGFuZGxlciksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCB0aGlzLmRyYWdPdmVySGFuZGxlciksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIHRoaXMuZHJvcEhhbmRsZXIpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuc2Nyb2xsSGFuZGxlcik7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnBtVmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgdGhpcy5kcmFnT3ZlckhhbmRsZXIpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJvcFwiLCB0aGlzLmRyb3BIYW5kbGVyKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEhhbmRsZXIpO1xuICB9XG59XG5jb25zdCBYID0gbmV3IHgoXCJUYWJsZUhhbmRsZXNQbHVnaW5cIik7XG5jbGFzcyBnbiBleHRlbmRzIFcge1xuICBjb25zdHJ1Y3RvcihvKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjKHRoaXMsIFwidmlld1wiKTtcbiAgICBjKHRoaXMsIFwicGx1Z2luXCIpO1xuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIHNldCBvbiB0aGUgYGRyYWdTdGFydGAgZXZlbnQgZm9yIHdoaWNoZXZlciBlbGVtZW50XG4gICAgICogaXMgdXNlZCBhcyB0aGUgY29sdW1uIGRyYWcgaGFuZGxlLlxuICAgICAqL1xuICAgIGModGhpcywgXCJjb2xEcmFnU3RhcnRcIiwgKG8pID0+IHtcbiAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUgPT09IHZvaWQgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQXR0ZW1wdGVkIHRvIGRyYWcgdGFibGUgY29sdW1uLCBidXQgbm8gdGFibGUgYmxvY2sgd2FzIGhvdmVyZWQgcHJpb3IuXCJcbiAgICAgICAgKTtcbiAgICAgIHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlID0ge1xuICAgICAgICBkcmFnZ2VkQ2VsbE9yaWVudGF0aW9uOiBcImNvbFwiLFxuICAgICAgICBvcmlnaW5hbEluZGV4OiB0aGlzLnZpZXcuc3RhdGUuY29sSW5kZXgsXG4gICAgICAgIG1vdXNlUG9zOiBvLmNsaWVudFhcbiAgICAgIH0sIHRoaXMudmlldy5lbWl0VXBkYXRlKCksIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3Iudmlldy5kaXNwYXRjaChcbiAgICAgICAgdGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKFgsIHtcbiAgICAgICAgICBkcmFnZ2VkQ2VsbE9yaWVudGF0aW9uOiB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5kcmFnZ2VkQ2VsbE9yaWVudGF0aW9uLFxuICAgICAgICAgIG9yaWdpbmFsSW5kZXg6IHRoaXMudmlldy5zdGF0ZS5jb2xJbmRleCxcbiAgICAgICAgICBuZXdJbmRleDogdGhpcy52aWV3LnN0YXRlLmNvbEluZGV4LFxuICAgICAgICAgIHRhYmxlUG9zOiB0aGlzLnZpZXcudGFibGVQb3NcbiAgICAgICAgfSlcbiAgICAgICksIEdlKCksIG8uZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSh2LCAwLCAwKSwgby5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwibW92ZVwiO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIHNldCBvbiB0aGUgYGRyYWdTdGFydGAgZXZlbnQgZm9yIHdoaWNoZXZlciBlbGVtZW50XG4gICAgICogaXMgdXNlZCBhcyB0aGUgcm93IGRyYWcgaGFuZGxlLlxuICAgICAqL1xuICAgIGModGhpcywgXCJyb3dEcmFnU3RhcnRcIiwgKG8pID0+IHtcbiAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUgPT09IHZvaWQgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQXR0ZW1wdGVkIHRvIGRyYWcgdGFibGUgcm93LCBidXQgbm8gdGFibGUgYmxvY2sgd2FzIGhvdmVyZWQgcHJpb3IuXCJcbiAgICAgICAgKTtcbiAgICAgIHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlID0ge1xuICAgICAgICBkcmFnZ2VkQ2VsbE9yaWVudGF0aW9uOiBcInJvd1wiLFxuICAgICAgICBvcmlnaW5hbEluZGV4OiB0aGlzLnZpZXcuc3RhdGUucm93SW5kZXgsXG4gICAgICAgIG1vdXNlUG9zOiBvLmNsaWVudFlcbiAgICAgIH0sIHRoaXMudmlldy5lbWl0VXBkYXRlKCksIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3Iudmlldy5kaXNwYXRjaChcbiAgICAgICAgdGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKFgsIHtcbiAgICAgICAgICBkcmFnZ2VkQ2VsbE9yaWVudGF0aW9uOiB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5kcmFnZ2VkQ2VsbE9yaWVudGF0aW9uLFxuICAgICAgICAgIG9yaWdpbmFsSW5kZXg6IHRoaXMudmlldy5zdGF0ZS5yb3dJbmRleCxcbiAgICAgICAgICBuZXdJbmRleDogdGhpcy52aWV3LnN0YXRlLnJvd0luZGV4LFxuICAgICAgICAgIHRhYmxlUG9zOiB0aGlzLnZpZXcudGFibGVQb3NcbiAgICAgICAgfSlcbiAgICAgICksIEdlKCksIG8uZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSh2LCAwLCAwKSwgby5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwiY29weU1vdmVcIjtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0aGF0IHNob3VsZCBiZSBzZXQgb24gdGhlIGBkcmFnRW5kYCBldmVudCBmb3IgYm90aCB0aGUgZWxlbWVudFxuICAgICAqIHVzZWQgYXMgdGhlIHJvdyBkcmFnIGhhbmRsZSwgYW5kIHRoZSBvbmUgdXNlZCBhcyB0aGUgY29sdW1uIGRyYWcgaGFuZGxlLlxuICAgICAqL1xuICAgIGModGhpcywgXCJkcmFnRW5kXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUgPT09IHZvaWQgMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQXR0ZW1wdGVkIHRvIGRyYWcgdGFibGUgcm93LCBidXQgbm8gdGFibGUgYmxvY2sgd2FzIGhvdmVyZWQgcHJpb3IuXCJcbiAgICAgICAgKTtcbiAgICAgIHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlID0gdm9pZCAwLCB0aGlzLnZpZXcuZW1pdFVwZGF0ZSgpLCB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnZpZXcuZGlzcGF0Y2goXG4gICAgICAgIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3Iuc3RhdGUudHIuc2V0TWV0YShYLCBudWxsKVxuICAgICAgKSwgcG4oKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBGcmVlemVzIHRoZSBkcmFnIGhhbmRsZXMuIFdoZW4gZnJvemVuLCB0aGV5IHdpbGwgc3RheSBhdHRhY2hlZCB0byB0aGUgc2FtZVxuICAgICAqIGNlbGwgcmVnYXJkbGVzcyBvZiB3aGljaCBjZWxsIGlzIGhvdmVyZWQgYnkgdGhlIG1vdXNlIGN1cnNvci5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwiZnJlZXplSGFuZGxlc1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcubWVudUZyb3plbiA9ICEwO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVuZnJlZXplcyB0aGUgZHJhZyBoYW5kbGVzLiBXaGVuIGZyb3plbiwgdGhleSB3aWxsIHN0YXkgYXR0YWNoZWQgdG8gdGhlXG4gICAgICogc2FtZSBjZWxsIHJlZ2FyZGxlc3Mgb2Ygd2hpY2ggY2VsbCBpcyBob3ZlcmVkIGJ5IHRoZSBtb3VzZSBjdXJzb3IuXG4gICAgICovXG4gICAgYyh0aGlzLCBcInVuZnJlZXplSGFuZGxlc1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcubWVudUZyb3plbiA9ICExO1xuICAgIH0pO1xuICAgIHRoaXMuZWRpdG9yID0gbywgdGhpcy5wbHVnaW4gPSBuZXcgdyh7XG4gICAgICBrZXk6IFgsXG4gICAgICB2aWV3OiAoaSkgPT4gKHRoaXMudmlldyA9IG5ldyBmbihvLCBpLCAobikgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgbik7XG4gICAgICB9KSwgdGhpcy52aWV3KSxcbiAgICAgIC8vIFdlIHVzZSBkZWNvcmF0aW9ucyB0byByZW5kZXIgdGhlIGRyb3AgY3Vyc29yIHdoZW4gZHJhZ2dpbmcgYSB0YWJsZSByb3dcbiAgICAgIC8vIG9yIGNvbHVtbi4gVGhlIGRlY29yYXRpb25zIGFyZSB1cGRhdGVkIGluIHRoZSBgZHJhZ092ZXJIYW5kbGVyYCBtZXRob2QuXG4gICAgICBwcm9wczoge1xuICAgICAgICBkZWNvcmF0aW9uczogKGkpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy52aWV3ID09PSB2b2lkIDAgfHwgdGhpcy52aWV3LnN0YXRlID09PSB2b2lkIDAgfHwgdGhpcy52aWV3LnN0YXRlLmRyYWdnaW5nU3RhdGUgPT09IHZvaWQgMCB8fCB0aGlzLnZpZXcudGFibGVQb3MgPT09IHZvaWQgMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBuID0gdGhpcy52aWV3LnN0YXRlLmRyYWdnaW5nU3RhdGUuZHJhZ2dlZENlbGxPcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IHRoaXMudmlldy5zdGF0ZS5yb3dJbmRleCA6IHRoaXMudmlldy5zdGF0ZS5jb2xJbmRleCwgciA9IFtdO1xuICAgICAgICAgIGlmIChuID09PSB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5vcmlnaW5hbEluZGV4KVxuICAgICAgICAgICAgcmV0dXJuIGouY3JlYXRlKGkuZG9jLCByKTtcbiAgICAgICAgICBjb25zdCBhID0gaS5kb2MucmVzb2x2ZSh0aGlzLnZpZXcudGFibGVQb3MgKyAxKSwgcyA9IGEubm9kZSgpO1xuICAgICAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5kcmFnZ2VkQ2VsbE9yaWVudGF0aW9uID09PSBcInJvd1wiKSB7XG4gICAgICAgICAgICBjb25zdCBsID0gaS5kb2MucmVzb2x2ZShcbiAgICAgICAgICAgICAgYS5wb3NBdEluZGV4KG4pICsgMVxuICAgICAgICAgICAgKSwgZCA9IGwubm9kZSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgdSA9IDA7IHUgPCBkLmNoaWxkQ291bnQ7IHUrKykge1xuICAgICAgICAgICAgICBjb25zdCBwID0gaS5kb2MucmVzb2x2ZShcbiAgICAgICAgICAgICAgICBsLnBvc0F0SW5kZXgodSkgKyAxXG4gICAgICAgICAgICAgICksIGggPSBwLm5vZGUoKSwgZiA9IHAucG9zICsgKG4gPiB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5vcmlnaW5hbEluZGV4ID8gaC5ub2RlU2l6ZSAtIDIgOiAwKTtcbiAgICAgICAgICAgICAgci5wdXNoKFxuICAgICAgICAgICAgICAgIC8vIFRoZSB3aWRnZXQgaXMgYSBzbWFsbCBiYXIgd2hpY2ggc3BhbnMgdGhlIHdpZHRoIG9mIHRoZSBjZWxsLlxuICAgICAgICAgICAgICAgIHoud2lkZ2V0KGYsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY2xhc3NOYW1lID0gXCJibi10YWJsZS1kcm9wLWN1cnNvclwiLCBtLnN0eWxlLmxlZnQgPSBcIjBcIiwgbS5zdHlsZS5yaWdodCA9IFwiMFwiLCBuID4gdGhpcy52aWV3LnN0YXRlLmRyYWdnaW5nU3RhdGUub3JpZ2luYWxJbmRleCA/IG0uc3R5bGUuYm90dG9tID0gXCItMnB4XCIgOiBtLnN0eWxlLnRvcCA9IFwiLTNweFwiLCBtLnN0eWxlLmhlaWdodCA9IFwiNHB4XCIsIG07XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgcy5jaGlsZENvdW50OyBsKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgZCA9IGkuZG9jLnJlc29sdmUoXG4gICAgICAgICAgICAgICAgYS5wb3NBdEluZGV4KGwpICsgMVxuICAgICAgICAgICAgICApLCB1ID0gaS5kb2MucmVzb2x2ZShcbiAgICAgICAgICAgICAgICBkLnBvc0F0SW5kZXgobikgKyAxXG4gICAgICAgICAgICAgICksIHAgPSB1Lm5vZGUoKSwgaCA9IHUucG9zICsgKG4gPiB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5vcmlnaW5hbEluZGV4ID8gcC5ub2RlU2l6ZSAtIDIgOiAwKTtcbiAgICAgICAgICAgICAgci5wdXNoKFxuICAgICAgICAgICAgICAgIC8vIFRoZSB3aWRnZXQgaXMgYSBzbWFsbCBiYXIgd2hpY2ggc3BhbnMgdGhlIGhlaWdodCBvZiB0aGUgY2VsbC5cbiAgICAgICAgICAgICAgICB6LndpZGdldChoLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmLmNsYXNzTmFtZSA9IFwiYm4tdGFibGUtZHJvcC1jdXJzb3JcIiwgZi5zdHlsZS50b3AgPSBcIjBcIiwgZi5zdHlsZS5ib3R0b20gPSBcIjBcIiwgbiA+IHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm9yaWdpbmFsSW5kZXggPyBmLnN0eWxlLnJpZ2h0ID0gXCItMnB4XCIgOiBmLnN0eWxlLmxlZnQgPSBcIi0zcHhcIiwgZi5zdHlsZS53aWR0aCA9IFwiNHB4XCIsIGY7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gai5jcmVhdGUoaS5kb2MsIHIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgb25VcGRhdGUobykge1xuICAgIHJldHVybiB0aGlzLm9uKFwidXBkYXRlXCIsIG8pO1xuICB9XG59XG5mdW5jdGlvbiBXZSh0LCBlKSB7XG4gIGNvbnN0IG8gPSB0LnN0YXRlLnNlbGVjdGlvbi5jb250ZW50KCkuY29udGVudCwgbiA9IG50KFxuICAgIHQuc3RhdGUuc2NoZW1hLFxuICAgIGVcbiAgKS5zZXJpYWxpemVQcm9zZU1pcnJvckZyYWdtZW50KG8pLCBhID0gbmUoXG4gICAgdC5zdGF0ZS5zY2hlbWEsXG4gICAgZVxuICApLmV4cG9ydFByb3NlTWlycm9yRnJhZ21lbnQobyksIHMgPSBTZShhKTtcbiAgcmV0dXJuIHsgaW50ZXJuYWxIVE1MOiBuLCBleHRlcm5hbEhUTUw6IGEsIHBsYWluVGV4dDogcyB9O1xufVxuY29uc3QgYm4gPSAodCkgPT4gVC5jcmVhdGUoe1xuICBuYW1lOiBcImNvcHlUb0NsaXBib2FyZFwiLFxuICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyB3KHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBoYW5kbGVET01FdmVudHM6IHtcbiAgICAgICAgICAgIGNvcHkoZSwgbykge1xuICAgICAgICAgICAgICBvLnByZXZlbnREZWZhdWx0KCksIG8uY2xpcGJvYXJkRGF0YS5jbGVhckRhdGEoKSwgXCJub2RlXCIgaW4gZS5zdGF0ZS5zZWxlY3Rpb24gJiYgZS5zdGF0ZS5zZWxlY3Rpb24ubm9kZS50eXBlLnNwZWMuZ3JvdXAgPT09IFwiYmxvY2tDb250ZW50XCIgJiYgZS5kaXNwYXRjaChcbiAgICAgICAgICAgICAgICBlLnN0YXRlLnRyLnNldFNlbGVjdGlvbihcbiAgICAgICAgICAgICAgICAgIG5ldyB0ZShcbiAgICAgICAgICAgICAgICAgICAgZS5zdGF0ZS5kb2MucmVzb2x2ZShlLnN0YXRlLnNlbGVjdGlvbi5mcm9tIC0gMSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IHsgaW50ZXJuYWxIVE1MOiBpLCBleHRlcm5hbEhUTUw6IG4sIHBsYWluVGV4dDogciB9ID0gV2UoZSwgdCk7XG4gICAgICAgICAgICAgIHJldHVybiBvLmNsaXBib2FyZERhdGEuc2V0RGF0YShcImJsb2Nrbm90ZS9odG1sXCIsIGkpLCBvLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvaHRtbFwiLCBuKSwgby5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIHIpLCAhMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGZvciB0aGUgdXNlLWNhc2UgaW4gd2hpY2ggb25seSBhIGJsb2NrIHdpdGhvdXQgY29udGVudFxuICAgICAgICAgICAgLy8gaXMgc2VsZWN0ZWQsIGUuZy4gYW4gaW1hZ2UgYmxvY2ssIGFuZCBkcmFnZ2VkIChub3QgdXNpbmcgdGhlXG4gICAgICAgICAgICAvLyBkcmFnIGhhbmRsZSkuXG4gICAgICAgICAgICBkcmFnc3RhcnQoZSwgbykge1xuICAgICAgICAgICAgICBpZiAoIShcIm5vZGVcIiBpbiBlLnN0YXRlLnNlbGVjdGlvbikgfHwgZS5zdGF0ZS5zZWxlY3Rpb24ubm9kZS50eXBlLnNwZWMuZ3JvdXAgIT09IFwiYmxvY2tDb250ZW50XCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICBlLmRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIGUuc3RhdGUudHIuc2V0U2VsZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgbmV3IHRlKFxuICAgICAgICAgICAgICAgICAgICBlLnN0YXRlLmRvYy5yZXNvbHZlKGUuc3RhdGUuc2VsZWN0aW9uLmZyb20gLSAxKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSwgby5wcmV2ZW50RGVmYXVsdCgpLCBvLmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKTtcbiAgICAgICAgICAgICAgY29uc3QgeyBpbnRlcm5hbEhUTUw6IGksIGV4dGVybmFsSFRNTDogbiwgcGxhaW5UZXh0OiByIH0gPSBXZShlLCB0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIG8uZGF0YVRyYW5zZmVyLnNldERhdGEoXCJibG9ja25vdGUvaHRtbFwiLCBpKSwgby5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvaHRtbFwiLCBuKSwgby5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgciksICEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdO1xuICB9XG59KSwga24gPSBbXG4gIFwiYmxvY2tub3RlL2h0bWxcIixcbiAgXCJ0ZXh0L2h0bWxcIixcbiAgXCJ0ZXh0L3BsYWluXCJcbl0sIHluID0gKHQpID0+IFQuY3JlYXRlKHtcbiAgbmFtZTogXCJwYXN0ZUZyb21DbGlwYm9hcmRcIixcbiAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xuICAgIHJldHVybiBbXG4gICAgICBuZXcgdyh7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgaGFuZGxlRE9NRXZlbnRzOiB7XG4gICAgICAgICAgICBwYXN0ZShlLCBvKSB7XG4gICAgICAgICAgICAgIG8ucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgbGV0IGkgPSBudWxsO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2Yga24pXG4gICAgICAgICAgICAgICAgaWYgKG8uY2xpcGJvYXJkRGF0YS50eXBlcy5pbmNsdWRlcyhuKSkge1xuICAgICAgICAgICAgICAgICAgaSA9IG47XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG4gPSBvLmNsaXBib2FyZERhdGEuZ2V0RGF0YShpKTtcbiAgICAgICAgICAgICAgICBpID09PSBcInRleHQvaHRtbFwiICYmIChuID0gYnQoXG4gICAgICAgICAgICAgICAgICBuLnRyaW0oKVxuICAgICAgICAgICAgICAgICkuaW5uZXJIVE1MKSwgdC5fdGlwdGFwRWRpdG9yLnZpZXcucGFzdGVIVE1MKG4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgXTtcbiAgfVxufSksIF9uID0gVC5jcmVhdGUoe1xuICBuYW1lOiBcImJsb2NrQmFja2dyb3VuZENvbG9yXCIsXG4gIGFkZEdsb2JhbEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdHlwZXM6IFtcImJsb2NrQ29udGFpbmVyXCJdLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBrLmJhY2tncm91bmRDb2xvci5kZWZhdWx0LFxuICAgICAgICAgICAgcGFyc2VIVE1MOiAodCkgPT4gdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtY29sb3JcIikgPyB0LmdldEF0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1jb2xvclwiKSA6IGsuYmFja2dyb3VuZENvbG9yLmRlZmF1bHQsXG4gICAgICAgICAgICByZW5kZXJIVE1MOiAodCkgPT4gdC5iYWNrZ3JvdW5kQ29sb3IgIT09IGsuYmFja2dyb3VuZENvbG9yLmRlZmF1bHQgJiYge1xuICAgICAgICAgICAgICBcImRhdGEtYmFja2dyb3VuZC1jb2xvclwiOiB0LmJhY2tncm91bmRDb2xvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH1cbn0pLCB3biA9IFQuY3JlYXRlKHtcbiAgbmFtZTogXCJ0ZXh0QWxpZ25tZW50XCIsXG4gIGFkZEdsb2JhbEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgLy8gQXR0cmlidXRlIGlzIGFwcGxpZWQgdG8gYmxvY2sgY29udGVudCBpbnN0ZWFkIG9mIGNvbnRhaW5lciBzbyB0aGF0IGNoaWxkIGJsb2NrcyBkb24ndCBpbmhlcml0IHRoZSB0ZXh0XG4gICAgICAgIC8vIGFsaWdubWVudCBzdHlsaW5nLlxuICAgICAgICB0eXBlczogW1wicGFyYWdyYXBoXCIsIFwiaGVhZGluZ1wiLCBcImJ1bGxldExpc3RJdGVtXCIsIFwibnVtYmVyZWRMaXN0SXRlbVwiXSxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIHRleHRBbGlnbm1lbnQ6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwibGVmdFwiLFxuICAgICAgICAgICAgcGFyc2VIVE1MOiAodCkgPT4gdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRleHQtYWxpZ25tZW50XCIpLFxuICAgICAgICAgICAgcmVuZGVySFRNTDogKHQpID0+IHQudGV4dEFsaWdubWVudCAhPT0gXCJsZWZ0XCIgJiYge1xuICAgICAgICAgICAgICBcImRhdGEtdGV4dC1hbGlnbm1lbnRcIjogdC50ZXh0QWxpZ25tZW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgfVxufSksIHZuID0gVC5jcmVhdGUoe1xuICBuYW1lOiBcImJsb2NrVGV4dENvbG9yXCIsXG4gIGFkZEdsb2JhbEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdHlwZXM6IFtcImJsb2NrQ29udGFpbmVyXCJdLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgdGV4dENvbG9yOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBrLnRleHRDb2xvci5kZWZhdWx0LFxuICAgICAgICAgICAgcGFyc2VIVE1MOiAodCkgPT4gdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXRleHQtY29sb3JcIikgPyB0LmdldEF0dHJpYnV0ZShcImRhdGEtdGV4dC1jb2xvclwiKSA6IGsudGV4dENvbG9yLmRlZmF1bHQsXG4gICAgICAgICAgICByZW5kZXJIVE1MOiAodCkgPT4gdC50ZXh0Q29sb3IgIT09IGsudGV4dENvbG9yLmRlZmF1bHQgJiYge1xuICAgICAgICAgICAgICBcImRhdGEtdGV4dC1jb2xvclwiOiB0LnRleHRDb2xvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH1cbn0pLCB4biA9IFQuY3JlYXRlKHtcbiAgbmFtZTogXCJ0cmFpbGluZ05vZGVcIixcbiAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xuICAgIGNvbnN0IHQgPSBuZXcgeCh0aGlzLm5hbWUpO1xuICAgIHJldHVybiBbXG4gICAgICBuZXcgdyh7XG4gICAgICAgIGtleTogdCxcbiAgICAgICAgYXBwZW5kVHJhbnNhY3Rpb246IChlLCBvLCBpKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBkb2M6IG4sIHRyOiByLCBzY2hlbWE6IGEgfSA9IGksIHMgPSB0LmdldFN0YXRlKGkpLCBsID0gbi5jb250ZW50LnNpemUgLSAyLCBkID0gYS5ub2Rlcy5ibG9ja0NvbnRhaW5lciwgdSA9IGEubm9kZXMucGFyYWdyYXBoO1xuICAgICAgICAgIGlmIChzKVxuICAgICAgICAgICAgcmV0dXJuIHIuaW5zZXJ0KFxuICAgICAgICAgICAgICBsLFxuICAgICAgICAgICAgICBkLmNyZWF0ZSh2b2lkIDAsIHUuY3JlYXRlKCkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBzdGF0ZToge1xuICAgICAgICAgIGluaXQ6IChlLCBvKSA9PiB7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhcHBseTogKGUsIG8pID0+IHtcbiAgICAgICAgICAgIGlmICghZS5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICAgIGxldCBpID0gZS5kb2MubGFzdENoaWxkO1xuICAgICAgICAgICAgaWYgKCFpIHx8IGkudHlwZS5uYW1lICE9PSBcImJsb2NrR3JvdXBcIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgYmxvY2tHcm91cFwiKTtcbiAgICAgICAgICAgIGlmIChpID0gaS5sYXN0Q2hpbGQsICFpIHx8IGkudHlwZS5uYW1lICE9PSBcImJsb2NrQ29udGFpbmVyXCIpXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIGJsb2NrQ29udGFpbmVyXCIpO1xuICAgICAgICAgICAgY29uc3QgbiA9IGkuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIGlmICghbilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgYmxvY2tDb250ZW50XCIpO1xuICAgICAgICAgICAgcmV0dXJuIGkubm9kZVNpemUgPiA0IHx8IG4udHlwZS5zcGVjLmNvbnRlbnQgIT09IFwiaW5saW5lKlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdO1xuICB9XG59KSwgRW4gPSBuZXcgeChcIm5vbi1lZGl0YWJsZS1ibG9ja1wiKSwgQ24gPSAoKSA9PiBuZXcgdyh7XG4gIGtleTogRW4sXG4gIHByb3BzOiB7XG4gICAgaGFuZGxlS2V5RG93bjogKHQsIGUpID0+IHtcbiAgICAgIGlmIChcIm5vZGVcIiBpbiB0LnN0YXRlLnNlbGVjdGlvbikge1xuICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSlcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGlmIChlLmtleS5sZW5ndGggPT09IDEpXG4gICAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSwgITA7XG4gICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgY29uc3QgbyA9IHQuc3RhdGUudHI7XG4gICAgICAgICAgcmV0dXJuIHQuZGlzcGF0Y2goXG4gICAgICAgICAgICBvLmluc2VydChcbiAgICAgICAgICAgICAgdC5zdGF0ZS50ci5zZWxlY3Rpb24uJHRvLmFmdGVyKCksXG4gICAgICAgICAgICAgIHQuc3RhdGUuc2NoZW1hLm5vZGVzLnBhcmFncmFwaC5jcmVhdGUoKVxuICAgICAgICAgICAgKS5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgICAgIG5ldyBxKFxuICAgICAgICAgICAgICAgIG8uZG9jLnJlc29sdmUodC5zdGF0ZS50ci5zZWxlY3Rpb24uJHRvLmFmdGVyKCkgKyAxKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSwgITA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbn0pLCAkZSA9IG5ldyB4KFwicHJldmlvdXMtYmxvY2tzXCIpLCBTbiA9IHtcbiAgLy8gTnVtYmVyZWQgTGlzdCBJdGVtc1xuICBpbmRleDogXCJpbmRleFwiLFxuICAvLyBIZWFkaW5nc1xuICBsZXZlbDogXCJsZXZlbFwiLFxuICAvLyBBbGwgQmxvY2tzXG4gIHR5cGU6IFwidHlwZVwiLFxuICBkZXB0aDogXCJkZXB0aFwiLFxuICBcImRlcHRoLWNoYW5nZVwiOiBcImRlcHRoLWNoYW5nZVwiXG59LCBNbiA9ICgpID0+IHtcbiAgbGV0IHQ7XG4gIHJldHVybiBuZXcgdyh7XG4gICAga2V5OiAkZSxcbiAgICB2aWV3KGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZTogYXN5bmMgKG8sIGkpID0+IHtcbiAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAoKG4gPSB0aGlzLmtleSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uZ2V0U3RhdGUoby5zdGF0ZSkudXBkYXRlZEJsb2Nrcy5zaXplKSA+IDAgJiYgKHQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG8uZGlzcGF0Y2goXG4gICAgICAgICAgICAgIG8uc3RhdGUudHIuc2V0TWV0YSgkZSwgeyBjbGVhclVwZGF0ZTogITAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSwgMCkpO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICAgICAgdCAmJiBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcbiAgICBzdGF0ZToge1xuICAgICAgaW5pdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAvLyBCbG9jayBhdHRyaWJ1dGVzLCBieSBibG9jayBJRCwgZnJvbSBqdXN0IGJlZm9yZSB0aGUgcHJldmlvdXMgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgcHJldlRyYW5zYWN0aW9uT2xkQmxvY2tBdHRyczoge30sXG4gICAgICAgICAgLy8gQmxvY2sgYXR0cmlidXRlcywgYnkgYmxvY2sgSUQsIGZyb20ganVzdCBiZWZvcmUgdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgY3VycmVudFRyYW5zYWN0aW9uT2xkQmxvY2tBdHRyczoge30sXG4gICAgICAgICAgLy8gU2V0IG9mIElEcyBvZiBibG9ja3Mgd2hvc2UgYXR0cmlidXRlcyBjaGFuZ2VkIGZyb20gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgdXBkYXRlZEJsb2NrczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGFwcGx5KGUsIG8sIGksIG4pIHtcbiAgICAgICAgaWYgKG8uY3VycmVudFRyYW5zYWN0aW9uT2xkQmxvY2tBdHRycyA9IHt9LCBvLnVwZGF0ZWRCbG9ja3MuY2xlYXIoKSwgIWUuZG9jQ2hhbmdlZCB8fCBpLmRvYy5lcShuLmRvYykpXG4gICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgIGNvbnN0IHIgPSB7fSwgYSA9IE5lKGkuZG9jLCAoZCkgPT4gZC5hdHRycy5pZCksIHMgPSBuZXcgTWFwKFxuICAgICAgICAgIGEubWFwKChkKSA9PiBbZC5ub2RlLmF0dHJzLmlkLCBkXSlcbiAgICAgICAgKSwgbCA9IE5lKG4uZG9jLCAoZCkgPT4gZC5hdHRycy5pZCk7XG4gICAgICAgIGZvciAoY29uc3QgZCBvZiBsKSB7XG4gICAgICAgICAgY29uc3QgdSA9IHMuZ2V0KGQubm9kZS5hdHRycy5pZCksIHAgPSB1ID09IG51bGwgPyB2b2lkIDAgOiB1Lm5vZGUuZmlyc3RDaGlsZCwgaCA9IGQubm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgIGlmICh1ICYmIHAgJiYgaCkge1xuICAgICAgICAgICAgY29uc3QgZiA9IHtcbiAgICAgICAgICAgICAgaW5kZXg6IGguYXR0cnMuaW5kZXgsXG4gICAgICAgICAgICAgIGxldmVsOiBoLmF0dHJzLmxldmVsLFxuICAgICAgICAgICAgICB0eXBlOiBoLnR5cGUubmFtZSxcbiAgICAgICAgICAgICAgZGVwdGg6IG4uZG9jLnJlc29sdmUoZC5wb3MpLmRlcHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IG0gPSB7XG4gICAgICAgICAgICAgIGluZGV4OiBwLmF0dHJzLmluZGV4LFxuICAgICAgICAgICAgICBsZXZlbDogcC5hdHRycy5sZXZlbCxcbiAgICAgICAgICAgICAgdHlwZTogcC50eXBlLm5hbWUsXG4gICAgICAgICAgICAgIGRlcHRoOiBpLmRvYy5yZXNvbHZlKHUucG9zKS5kZXB0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJbZC5ub2RlLmF0dHJzLmlkXSA9IG0sIGUuZ2V0TWV0YShcIm51bWJlcmVkTGlzdEluZGV4aW5nXCIpICYmIChkLm5vZGUuYXR0cnMuaWQgaW4gby5wcmV2VHJhbnNhY3Rpb25PbGRCbG9ja0F0dHJzICYmIChtID0gby5wcmV2VHJhbnNhY3Rpb25PbGRCbG9ja0F0dHJzW2Qubm9kZS5hdHRycy5pZF0pLCBmLnR5cGUgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiICYmIChtLmluZGV4ID0gZi5pbmRleCkpLCBvLmN1cnJlbnRUcmFuc2FjdGlvbk9sZEJsb2NrQXR0cnNbZC5ub2RlLmF0dHJzLmlkXSA9IG0sIEpTT04uc3RyaW5naWZ5KG0pICE9PSBKU09OLnN0cmluZ2lmeShmKSAmJiAobVtcImRlcHRoLWNoYW5nZVwiXSA9IG0uZGVwdGggLSBmLmRlcHRoLCBvLnVwZGF0ZWRCbG9ja3MuYWRkKGQubm9kZS5hdHRycy5pZCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gby5wcmV2VHJhbnNhY3Rpb25PbGRCbG9ja0F0dHJzID0gciwgbztcbiAgICAgIH1cbiAgICB9LFxuICAgIHByb3BzOiB7XG4gICAgICBkZWNvcmF0aW9ucyhlKSB7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmdldFN0YXRlKGUpO1xuICAgICAgICBpZiAoby51cGRhdGVkQmxvY2tzLnNpemUgPT09IDApXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpID0gW107XG4gICAgICAgIHJldHVybiBlLmRvYy5kZXNjZW5kYW50cygobiwgcikgPT4ge1xuICAgICAgICAgIGlmICghbi5hdHRycy5pZCB8fCAhby51cGRhdGVkQmxvY2tzLmhhcyhuLmF0dHJzLmlkKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjb25zdCBhID0gby5jdXJyZW50VHJhbnNhY3Rpb25PbGRCbG9ja0F0dHJzW24uYXR0cnMuaWRdLCBzID0ge307XG4gICAgICAgICAgZm9yIChjb25zdCBbZCwgdV0gb2YgT2JqZWN0LmVudHJpZXMoYSkpXG4gICAgICAgICAgICBzW1wiZGF0YS1wcmV2LVwiICsgU25bZF1dID0gdSB8fCBcIm5vbmVcIjtcbiAgICAgICAgICBjb25zdCBsID0gei5ub2RlKHIsIHIgKyBuLm5vZGVTaXplLCB7XG4gICAgICAgICAgICAuLi5zXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaS5wdXNoKGwpO1xuICAgICAgICB9KSwgai5jcmVhdGUoZS5kb2MsIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59LCBUbiA9IHtcbiAgYmxvY2tDb2xvcjogXCJkYXRhLWJsb2NrLWNvbG9yXCIsXG4gIGJsb2NrU3R5bGU6IFwiZGF0YS1ibG9jay1zdHlsZVwiLFxuICBpZDogXCJkYXRhLWlkXCIsXG4gIGRlcHRoOiBcImRhdGEtZGVwdGhcIixcbiAgZGVwdGhDaGFuZ2U6IFwiZGF0YS1kZXB0aC1jaGFuZ2VcIlxufSwgQm4gPSBGLmNyZWF0ZSh7XG4gIG5hbWU6IFwiYmxvY2tDb250YWluZXJcIixcbiAgZ3JvdXA6IFwiYmxvY2tDb250YWluZXJcIixcbiAgLy8gQSBibG9jayBhbHdheXMgY29udGFpbnMgY29udGVudCwgYW5kIG9wdGlvbmFsbHkgYSBibG9ja0dyb3VwIHdoaWNoIGNvbnRhaW5zIG5lc3RlZCBibG9ja3NcbiAgY29udGVudDogXCJibG9ja0NvbnRlbnQgYmxvY2tHcm91cD9cIixcbiAgLy8gRW5zdXJlcyBjb250ZW50LXNwZWNpZmljIGtleWJvYXJkIGhhbmRsZXJzIHRyaWdnZXIgZmlyc3QuXG4gIHByaW9yaXR5OiA1MCxcbiAgZGVmaW5pbmc6ICEwLFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICBjb25zdCBlID0ge307XG4gICAgICAgICAgZm9yIChjb25zdCBbbywgaV0gb2YgT2JqZWN0LmVudHJpZXMoVG4pKVxuICAgICAgICAgICAgdC5nZXRBdHRyaWJ1dGUoaSkgJiYgKGVbb10gPSB0LmdldEF0dHJpYnV0ZShpKSk7XG4gICAgICAgICAgcmV0dXJuIHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub2RlLXR5cGVcIikgPT09IFwiYmxvY2tDb250YWluZXJcIiA/IGUgOiAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH0sXG4gIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlczogdCB9KSB7XG4gICAgdmFyIG47XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZS5jbGFzc05hbWUgPSBcImJuLWJsb2NrLW91dGVyXCIsIGUuc2V0QXR0cmlidXRlKFwiZGF0YS1ub2RlLXR5cGVcIiwgXCJibG9ja091dGVyXCIpO1xuICAgIGZvciAoY29uc3QgW3IsIGFdIG9mIE9iamVjdC5lbnRyaWVzKHQpKVxuICAgICAgciAhPT0gXCJjbGFzc1wiICYmIGUuc2V0QXR0cmlidXRlKHIsIGEpO1xuICAgIGNvbnN0IG8gPSB7XG4gICAgICAuLi4oKG4gPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG4uYmxvY2spIHx8IHt9LFxuICAgICAgLi4udFxuICAgIH0sIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGkuY2xhc3NOYW1lID0gRChcImJuLWJsb2NrXCIsIG8uY2xhc3MpLCBpLnNldEF0dHJpYnV0ZShcImRhdGEtbm9kZS10eXBlXCIsIHRoaXMubmFtZSk7XG4gICAgZm9yIChjb25zdCBbciwgYV0gb2YgT2JqZWN0LmVudHJpZXMobykpXG4gICAgICByICE9PSBcImNsYXNzXCIgJiYgaS5zZXRBdHRyaWJ1dGUociwgYSk7XG4gICAgcmV0dXJuIGUuYXBwZW5kQ2hpbGQoaSksIHtcbiAgICAgIGRvbTogZSxcbiAgICAgIGNvbnRlbnRET006IGlcbiAgICB9O1xuICB9LFxuICBhZGRDb21tYW5kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gQ3JlYXRlcyBhIG5ldyB0ZXh0IGJsb2NrIGF0IGEgZ2l2ZW4gcG9zaXRpb24uXG4gICAgICBCTkNyZWF0ZUJsb2NrOiAodCkgPT4gKHsgc3RhdGU6IGUsIGRpc3BhdGNoOiBvIH0pID0+IHtcbiAgICAgICAgY29uc3QgaSA9IGUuc2NoZW1hLm5vZGVzLmJsb2NrQ29udGFpbmVyLmNyZWF0ZUFuZEZpbGwoKTtcbiAgICAgICAgcmV0dXJuIG8gJiYgZS50ci5pbnNlcnQodCwgaSkuc2Nyb2xsSW50b1ZpZXcoKSwgITA7XG4gICAgICB9LFxuICAgICAgLy8gRGVsZXRlcyBhIGJsb2NrIGF0IGEgZ2l2ZW4gcG9zaXRpb24uXG4gICAgICBCTkRlbGV0ZUJsb2NrOiAodCkgPT4gKHsgc3RhdGU6IGUsIGRpc3BhdGNoOiBvIH0pID0+IHtcbiAgICAgICAgY29uc3QgaSA9IGIoZS5kb2MsIHQpO1xuICAgICAgICBpZiAoaSA9PT0gdm9pZCAwKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgeyBzdGFydFBvczogbiwgZW5kUG9zOiByIH0gPSBpO1xuICAgICAgICByZXR1cm4gbyAmJiBlLnRyLmRlbGV0ZVJhbmdlKG4sIHIpLCAhMDtcbiAgICAgIH0sXG4gICAgICAvLyBVcGRhdGVzIGEgYmxvY2sgYXQgYSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgIEJOVXBkYXRlQmxvY2s6ICh0LCBlKSA9PiAoeyBzdGF0ZTogbywgZGlzcGF0Y2g6IGkgfSkgPT4ge1xuICAgICAgICBjb25zdCBuID0gYihvLmRvYywgdCk7XG4gICAgICAgIGlmIChuID09PSB2b2lkIDApXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBjb25zdCB7IHN0YXJ0UG9zOiByLCBlbmRQb3M6IGEsIG5vZGU6IHMsIGNvbnRlbnROb2RlOiBsIH0gPSBuO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgIGlmIChlLmNoaWxkcmVuICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IGggPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZiBvZiBlLmNoaWxkcmVuKVxuICAgICAgICAgICAgICBoLnB1c2goXG4gICAgICAgICAgICAgICAgTihcbiAgICAgICAgICAgICAgICAgIGYsXG4gICAgICAgICAgICAgICAgICBvLnNjaGVtYSxcbiAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5lZGl0b3Iuc2NoZW1hLnN0eWxlU2NoZW1hXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcy5jaGlsZENvdW50ID09PSAyID8gby50ci5yZXBsYWNlKFxuICAgICAgICAgICAgICByICsgbC5ub2RlU2l6ZSArIDEsXG4gICAgICAgICAgICAgIGEgLSAxLFxuICAgICAgICAgICAgICBuZXcgSChNLmZyb20oaCksIDAsIDApXG4gICAgICAgICAgICApIDogby50ci5pbnNlcnQoXG4gICAgICAgICAgICAgIHIgKyBsLm5vZGVTaXplLFxuICAgICAgICAgICAgICBvLnNjaGVtYS5ub2Rlcy5ibG9ja0dyb3VwLmNyZWF0ZSh7fSwgaClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGQgPSBsLnR5cGUubmFtZSwgdSA9IGUudHlwZSB8fCBkO1xuICAgICAgICAgIGxldCBwID0gXCJrZWVwXCI7XG4gICAgICAgICAgaWYgKGUuY29udGVudClcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZS5jb250ZW50ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgIHAgPSBbby5zY2hlbWEudGV4dChlLmNvbnRlbnQpXTtcbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSlcbiAgICAgICAgICAgICAgcCA9IGllKFxuICAgICAgICAgICAgICAgIGUuY29udGVudCxcbiAgICAgICAgICAgICAgICBvLnNjaGVtYSxcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRpdG9yLnNjaGVtYS5zdHlsZVNjaGVtYVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZSBpZiAoZS5jb250ZW50LnR5cGUgPT09IFwidGFibGVDb250ZW50XCIpXG4gICAgICAgICAgICAgIHAgPSBRZShcbiAgICAgICAgICAgICAgICBlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgby5zY2hlbWEsXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmVkaXRvci5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEkoZS5jb250ZW50LnR5cGUpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaCA9IG8uc2NoZW1hLm5vZGVzW2RdLnNwZWMuY29udGVudCwgZiA9IG8uc2NoZW1hLm5vZGVzW3VdLnNwZWMuY29udGVudDtcbiAgICAgICAgICAgIGggPT09IFwiXCIgfHwgZiAhPT0gaCAmJiAocCA9IFtdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcCA9PT0gXCJrZWVwXCIgPyBvLnRyLnNldE5vZGVNYXJrdXAoXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgZS50eXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvLnNjaGVtYS5ub2Rlc1tlLnR5cGVdLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5sLmF0dHJzLFxuICAgICAgICAgICAgICAuLi5lLnByb3BzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSA6IG8udHIucmVwbGFjZVdpdGgoXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgYSxcbiAgICAgICAgICAgIG8uc2NoZW1hLm5vZGVzW3VdLmNyZWF0ZShcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC4uLmwuYXR0cnMsXG4gICAgICAgICAgICAgICAgLi4uZS5wcm9wc1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBwXG4gICAgICAgICAgICApXG4gICAgICAgICAgKS5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgICBvLnNjaGVtYS5ub2Rlc1t1XS5zcGVjLmNvbnRlbnQgPT09IFwiXCIgPyBuZXcgdGUoby50ci5kb2MucmVzb2x2ZShyKSkgOiBvLnNjaGVtYS5ub2Rlc1t1XS5zcGVjLmNvbnRlbnQgPT09IFwiaW5saW5lKlwiID8gbmV3IHEoby50ci5kb2MucmVzb2x2ZShyKSkgOiAoXG4gICAgICAgICAgICAgIC8vIE5lZWQgdG8gb2Zmc2V0IHRoZSBwb3NpdGlvbiBhcyB3ZSBoYXZlIHRvIGdldCB0aHJvdWdoIHRoZVxuICAgICAgICAgICAgICAvLyBgdGFibGVSb3dgIGFuZCBgdGFibGVDZWxsYCBub2RlcyB0byBnZXQgdG8gdGhlXG4gICAgICAgICAgICAgIC8vIGB0YWJsZVBhcmFncmFwaGAgbm9kZSB3ZSB3YW50IHRvIHNldCB0aGUgc2VsZWN0aW9uIGluLlxuICAgICAgICAgICAgICBuZXcgcShvLnRyLmRvYy5yZXNvbHZlKHIgKyA0KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCBvLnRyLnNldE5vZGVNYXJrdXAociAtIDEsIHZvaWQgMCwge1xuICAgICAgICAgICAgLi4ucy5hdHRycyxcbiAgICAgICAgICAgIC4uLmUucHJvcHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9LFxuICAgICAgLy8gQXBwZW5kcyB0aGUgdGV4dCBjb250ZW50cyBvZiBhIGJsb2NrIHRvIHRoZSBuZWFyZXN0IHByZXZpb3VzIGJsb2NrLCBnaXZlbiBhIHBvc2l0aW9uIGJldHdlZW4gdGhlbS4gQ2hpbGRyZW4gb2ZcbiAgICAgIC8vIHRoZSBtZXJnZWQgYmxvY2sgYXJlIG1vdmVkIG91dCBvZiBpdCBmaXJzdCwgcmF0aGVyIHRoYW4gYWxzbyBiZWluZyBtZXJnZWQuXG4gICAgICAvL1xuICAgICAgLy8gSW4gdGhlIGV4YW1wbGUgYmVsb3csIHRoZSBwb3NpdGlvbiBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb24gaXMgYmV0d2VlbiBCbG9jazEgYW5kIEJsb2NrMi5cbiAgICAgIC8vXG4gICAgICAvLyBCbG9jazFcbiAgICAgIC8vICAgIEJsb2NrMlxuICAgICAgLy8gQmxvY2szXG4gICAgICAvLyAgICBCbG9jazRcbiAgICAgIC8vICAgICAgICBCbG9jazVcbiAgICAgIC8vXG4gICAgICAvLyBCZWNvbWVzOlxuICAgICAgLy9cbiAgICAgIC8vIEJsb2NrMVxuICAgICAgLy8gICAgQmxvY2syQmxvY2szXG4gICAgICAvLyBCbG9jazRcbiAgICAgIC8vICAgICBCbG9jazVcbiAgICAgIEJOTWVyZ2VCbG9ja3M6ICh0KSA9PiAoeyBzdGF0ZTogZSwgZGlzcGF0Y2g6IG8gfSkgPT4ge1xuICAgICAgICBjb25zdCBpID0gZS5kb2MucmVzb2x2ZSh0ICsgMSkubm9kZSgpLnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiLCBuID0gZS5kb2MucmVzb2x2ZSh0IC0gMSkubm9kZSgpLnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiO1xuICAgICAgICBpZiAoIWkgfHwgIW4pXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBjb25zdCByID0gYihcbiAgICAgICAgICBlLmRvYyxcbiAgICAgICAgICB0ICsgMVxuICAgICAgICApLCB7IG5vZGU6IGEsIGNvbnRlbnROb2RlOiBzLCBzdGFydFBvczogbCwgZW5kUG9zOiBkLCBkZXB0aDogdSB9ID0gcjtcbiAgICAgICAgaWYgKGEuY2hpbGRDb3VudCA9PT0gMikge1xuICAgICAgICAgIGNvbnN0IGYgPSBlLmRvYy5yZXNvbHZlKFxuICAgICAgICAgICAgbCArIHMubm9kZVNpemUgKyAxXG4gICAgICAgICAgKSwgbSA9IGUuZG9jLnJlc29sdmUoZCAtIDEpLCBnID0gZi5ibG9ja1JhbmdlKG0pO1xuICAgICAgICAgIG8gJiYgZS50ci5saWZ0KGcsIHUgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcCA9IHQgLSAxLCBoID0gYihlLmRvYywgcCk7XG4gICAgICAgIGZvciAoOyBoLm51bUNoaWxkQmxvY2tzID4gMDsgKVxuICAgICAgICAgIGlmIChwLS0sIGggPSBiKGUuZG9jLCBwKSwgaCA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gbyAmJiAobyhcbiAgICAgICAgICBlLnRyLmRlbGV0ZVJhbmdlKGwsIGwgKyBzLm5vZGVTaXplKS5yZXBsYWNlKFxuICAgICAgICAgICAgcCAtIDEsXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgbmV3IEgocy5jb250ZW50LCAwLCAwKVxuICAgICAgICAgICkuc2Nyb2xsSW50b1ZpZXcoKVxuICAgICAgICApLCBlLnRyLnNldFNlbGVjdGlvbihcbiAgICAgICAgICBuZXcgcShlLmRvYy5yZXNvbHZlKHAgLSAxKSlcbiAgICAgICAgKSksICEwO1xuICAgICAgfSxcbiAgICAgIC8vIFNwbGl0cyBhIGJsb2NrIGF0IGEgZ2l2ZW4gcG9zaXRpb24uIENvbnRlbnQgYWZ0ZXIgdGhlIHBvc2l0aW9uIGlzIG1vdmVkIHRvIGEgbmV3IGJsb2NrIGJlbG93LCBhdCB0aGUgc2FtZVxuICAgICAgLy8gbmVzdGluZyBsZXZlbC5cbiAgICAgIEJOU3BsaXRCbG9jazogKHQsIGUpID0+ICh7IHN0YXRlOiBvLCBkaXNwYXRjaDogaSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSBiKG8uZG9jLCB0KTtcbiAgICAgICAgaWYgKG4gPT09IHZvaWQgMClcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHsgY29udGVudE5vZGU6IHIsIGNvbnRlbnRUeXBlOiBhLCBzdGFydFBvczogcywgZW5kUG9zOiBsLCBkZXB0aDogZCB9ID0gbiwgdSA9IG8uZG9jLmN1dChzICsgMSwgdCksIHAgPSBvLmRvYy5jdXQodCwgbCAtIDEpLCBoID0gby5zY2hlbWEubm9kZXMuYmxvY2tDb250YWluZXIuY3JlYXRlQW5kRmlsbCgpLCBmID0gbCArIDEsIG0gPSBmICsgMjtcbiAgICAgICAgcmV0dXJuIGkgJiYgKG8udHIuaW5zZXJ0KGYsIGgpLCBvLnRyLnJlcGxhY2UoXG4gICAgICAgICAgbSxcbiAgICAgICAgICBtICsgMSxcbiAgICAgICAgICBwLmNvbnRlbnQuc2l6ZSA+IDAgPyBuZXcgSChcbiAgICAgICAgICAgIE0uZnJvbShwKSxcbiAgICAgICAgICAgIGQgKyAyLFxuICAgICAgICAgICAgZCArIDJcbiAgICAgICAgICApIDogdm9pZCAwXG4gICAgICAgICksIGUgJiYgby50ci5zZXRCbG9ja1R5cGUoXG4gICAgICAgICAgbSxcbiAgICAgICAgICBtLFxuICAgICAgICAgIG8uc2NoZW1hLm5vZGUoYSkudHlwZSxcbiAgICAgICAgICByLmF0dHJzXG4gICAgICAgICksIG8udHIuc2V0U2VsZWN0aW9uKFxuICAgICAgICAgIG5ldyBxKG8uZG9jLnJlc29sdmUobSkpXG4gICAgICAgICksIG8udHIucmVwbGFjZShcbiAgICAgICAgICBzICsgMSxcbiAgICAgICAgICBsIC0gMSxcbiAgICAgICAgICB1LmNvbnRlbnQuc2l6ZSA+IDAgPyBuZXcgSChcbiAgICAgICAgICAgIE0uZnJvbSh1KSxcbiAgICAgICAgICAgIGQgKyAyLFxuICAgICAgICAgICAgZCArIDJcbiAgICAgICAgICApIDogdm9pZCAwXG4gICAgICAgICksIG8udHIuc2Nyb2xsSW50b1ZpZXcoKSksICEwO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcbiAgICByZXR1cm4gW01uKCksIENuKCldO1xuICB9LFxuICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgQmFja3NwYWNlOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5maXJzdCgoeyBjb21tYW5kczogaSB9KSA9PiBbXG4gICAgICAgIC8vIERlbGV0ZXMgdGhlIHNlbGVjdGlvbiBpZiBpdCdzIG5vdCBlbXB0eS5cbiAgICAgICAgKCkgPT4gaS5kZWxldGVTZWxlY3Rpb24oKSxcbiAgICAgICAgLy8gVW5kb2VzIGFuIGlucHV0IHJ1bGUgaWYgb25lIHdhcyB0cmlnZ2VyZWQgaW4gdGhlIGxhc3QgZWRpdG9yIHN0YXRlIGNoYW5nZS5cbiAgICAgICAgKCkgPT4gaS51bmRvSW5wdXRSdWxlKCksXG4gICAgICAgIC8vIFJldmVydHMgYmxvY2sgY29udGVudCB0eXBlIHRvIGEgcGFyYWdyYXBoIGlmIHRoZSBzZWxlY3Rpb24gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBibG9jay5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IGNvbnRlbnRUeXBlOiByLCBzdGFydFBvczogYSB9ID0gYihcbiAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgbi5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICksIHMgPSBuLnNlbGVjdGlvbi5mcm9tID09PSBhICsgMSwgbCA9IHIubmFtZSA9PT0gXCJwYXJhZ3JhcGhcIjtcbiAgICAgICAgICByZXR1cm4gcyAmJiAhbCA/IGkuQk5VcGRhdGVCbG9jayhuLnNlbGVjdGlvbi5mcm9tLCB7XG4gICAgICAgICAgICB0eXBlOiBcInBhcmFncmFwaFwiLFxuICAgICAgICAgICAgcHJvcHM6IHt9XG4gICAgICAgICAgfSkgOiAhMTtcbiAgICAgICAgfSksXG4gICAgICAgIC8vIFJlbW92ZXMgYSBsZXZlbCBvZiBuZXN0aW5nIGlmIHRoZSBibG9jayBpcyBpbmRlbnRlZCBpZiB0aGUgc2VsZWN0aW9uIGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgYmxvY2suXG4gICAgICAgICgpID0+IGkuY29tbWFuZCgoeyBzdGF0ZTogbiB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzdGFydFBvczogciB9ID0gYihcbiAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgbi5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG4uc2VsZWN0aW9uLmZyb20gPT09IHIgKyAxID8gaS5saWZ0TGlzdEl0ZW0oXCJibG9ja0NvbnRhaW5lclwiKSA6ICExO1xuICAgICAgICB9KSxcbiAgICAgICAgLy8gTWVyZ2VzIGJsb2NrIHdpdGggdGhlIHByZXZpb3VzIG9uZSBpZiBpdCBpc24ndCBpbmRlbnRlZCwgaXNuJ3QgdGhlIGZpcnN0IGJsb2NrIGluIHRoZSBkb2MsIGFuZCB0aGUgc2VsZWN0aW9uXG4gICAgICAgIC8vIGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgYmxvY2suXG4gICAgICAgICgpID0+IGkuY29tbWFuZCgoeyBzdGF0ZTogbiB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBkZXB0aDogciwgc3RhcnRQb3M6IGEgfSA9IGIoXG4gICAgICAgICAgICBuLmRvYyxcbiAgICAgICAgICAgIG4uc2VsZWN0aW9uLmZyb21cbiAgICAgICAgICApLCBzID0gbi5zZWxlY3Rpb24uZnJvbSA9PT0gYSArIDEsIGwgPSBuLnNlbGVjdGlvbi5lbXB0eSwgZCA9IGEgPT09IDIsIHUgPSBhIC0gMTtcbiAgICAgICAgICByZXR1cm4gIWQgJiYgcyAmJiBsICYmIHIgPT09IDIgPyBpLkJOTWVyZ2VCbG9ja3ModSkgOiAhMTtcbiAgICAgICAgfSlcbiAgICAgIF0pLFxuICAgICAgRGVsZXRlOiAoKSA9PiB0aGlzLmVkaXRvci5jb21tYW5kcy5maXJzdCgoeyBjb21tYW5kczogaSB9KSA9PiBbXG4gICAgICAgIC8vIERlbGV0ZXMgdGhlIHNlbGVjdGlvbiBpZiBpdCdzIG5vdCBlbXB0eS5cbiAgICAgICAgKCkgPT4gaS5kZWxldGVTZWxlY3Rpb24oKSxcbiAgICAgICAgLy8gTWVyZ2VzIGJsb2NrIHdpdGggdGhlIG5leHQgb25lIChhdCB0aGUgc2FtZSBuZXN0aW5nIGxldmVsIG9yIGxvd2VyKSxcbiAgICAgICAgLy8gaWYgb25lIGV4aXN0cywgdGhlIGJsb2NrIGhhcyBubyBjaGlsZHJlbiwgYW5kIHRoZSBzZWxlY3Rpb24gaXMgYXQgdGhlXG4gICAgICAgIC8vIGVuZCBvZiB0aGUgYmxvY2suXG4gICAgICAgICgpID0+IGkuY29tbWFuZCgoeyBzdGF0ZTogbiB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBub2RlOiByLCBkZXB0aDogYSwgZW5kUG9zOiBzIH0gPSBiKFxuICAgICAgICAgICAgbi5kb2MsXG4gICAgICAgICAgICBuLnNlbGVjdGlvbi5mcm9tXG4gICAgICAgICAgKSwgbCA9IHMgPT09IG4uZG9jLm5vZGVTaXplIC0gNCwgZCA9IG4uc2VsZWN0aW9uLmZyb20gPT09IHMgLSAxLCB1ID0gbi5zZWxlY3Rpb24uZW1wdHksIHAgPSByLmNoaWxkQ291bnQgPT09IDI7XG4gICAgICAgICAgaWYgKCFsICYmIGQgJiYgdSAmJiAhcCkge1xuICAgICAgICAgICAgbGV0IGggPSBhLCBmID0gcyArIDIsIG0gPSBuLmRvYy5yZXNvbHZlKGYpLmRlcHRoO1xuICAgICAgICAgICAgZm9yICg7IG0gPCBoOyApXG4gICAgICAgICAgICAgIGggPSBtLCBmICs9IDIsIG0gPSBuLmRvYy5yZXNvbHZlKGYpLmRlcHRoO1xuICAgICAgICAgICAgcmV0dXJuIGkuQk5NZXJnZUJsb2NrcyhmIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfSlcbiAgICAgIF0pLFxuICAgICAgRW50ZXI6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLmZpcnN0KCh7IGNvbW1hbmRzOiBpIH0pID0+IFtcbiAgICAgICAgLy8gUmVtb3ZlcyBhIGxldmVsIG9mIG5lc3RpbmcgaWYgdGhlIGJsb2NrIGlzIGVtcHR5ICYgaW5kZW50ZWQsIHdoaWxlIHRoZSBzZWxlY3Rpb24gaXMgYWxzbyBlbXB0eSAmIGF0IHRoZSBzdGFydFxuICAgICAgICAvLyBvZiB0aGUgYmxvY2suXG4gICAgICAgICgpID0+IGkuY29tbWFuZCgoeyBzdGF0ZTogbiB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBub2RlOiByLCBkZXB0aDogYSB9ID0gYihcbiAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgbi5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICksIHMgPSBuLnNlbGVjdGlvbi4kYW5jaG9yLnBhcmVudE9mZnNldCA9PT0gMCwgbCA9IG4uc2VsZWN0aW9uLmFuY2hvciA9PT0gbi5zZWxlY3Rpb24uaGVhZCwgZCA9IHIudGV4dENvbnRlbnQubGVuZ3RoID09PSAwLCB1ID0gYSA+IDI7XG4gICAgICAgICAgcmV0dXJuIHMgJiYgbCAmJiBkICYmIHUgPyBpLmxpZnRMaXN0SXRlbShcImJsb2NrQ29udGFpbmVyXCIpIDogITE7XG4gICAgICAgIH0pLFxuICAgICAgICAvLyBDcmVhdGVzIGEgbmV3IGJsb2NrIGFuZCBtb3ZlcyB0aGUgc2VsZWN0aW9uIHRvIGl0IGlmIHRoZSBjdXJyZW50IG9uZSBpcyBlbXB0eSwgd2hpbGUgdGhlIHNlbGVjdGlvbiBpcyBhbHNvXG4gICAgICAgIC8vIGVtcHR5ICYgYXQgdGhlIHN0YXJ0IG9mIHRoZSBibG9jay5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuLCBjaGFpbjogciB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBub2RlOiBhLCBlbmRQb3M6IHMgfSA9IGIoXG4gICAgICAgICAgICBuLmRvYyxcbiAgICAgICAgICAgIG4uc2VsZWN0aW9uLmZyb21cbiAgICAgICAgICApLCBsID0gbi5zZWxlY3Rpb24uJGFuY2hvci5wYXJlbnRPZmZzZXQgPT09IDAsIGQgPSBuLnNlbGVjdGlvbi5hbmNob3IgPT09IG4uc2VsZWN0aW9uLmhlYWQsIHUgPSBhLnRleHRDb250ZW50Lmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICBpZiAobCAmJiBkICYmIHUpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBzICsgMSwgaCA9IHAgKyAyO1xuICAgICAgICAgICAgcmV0dXJuIHIoKS5CTkNyZWF0ZUJsb2NrKHApLnNldFRleHRTZWxlY3Rpb24oaCkucnVuKCksICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0pLFxuICAgICAgICAvLyBTcGxpdHMgdGhlIGN1cnJlbnQgYmxvY2ssIG1vdmluZyBjb250ZW50IGluc2lkZSB0aGF0J3MgYWZ0ZXIgdGhlIGN1cnNvciB0byBhIG5ldyB0ZXh0IGJsb2NrIGJlbG93LiBBbHNvXG4gICAgICAgIC8vIGRlbGV0ZXMgdGhlIHNlbGVjdGlvbiBiZWZvcmVoYW5kLCBpZiBpdCdzIG5vdCBlbXB0eS5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuLCBjaGFpbjogciB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBub2RlOiBhIH0gPSBiKFxuICAgICAgICAgICAgbi5kb2MsXG4gICAgICAgICAgICBuLnNlbGVjdGlvbi5mcm9tXG4gICAgICAgICAgKSwgcyA9IG4uc2VsZWN0aW9uLiRhbmNob3IucGFyZW50T2Zmc2V0ID09PSAwO1xuICAgICAgICAgIHJldHVybiBhLnRleHRDb250ZW50Lmxlbmd0aCA9PT0gMCA/ICExIDogKHIoKS5kZWxldGVTZWxlY3Rpb24oKS5CTlNwbGl0QmxvY2sobi5zZWxlY3Rpb24uZnJvbSwgcykucnVuKCksICEwKTtcbiAgICAgICAgfSlcbiAgICAgIF0pLFxuICAgICAgLy8gQWx3YXlzIHJldHVybmluZyB0cnVlIGZvciB0YWIga2V5IHByZXNzZXMgZW5zdXJlcyB0aGV5J3JlIG5vdCBjYXB0dXJlZCBieSB0aGUgYnJvd3Nlci4gT3RoZXJ3aXNlLCB0aGV5IGJsdXIgdGhlXG4gICAgICAvLyBlZGl0b3Igc2luY2UgdGhlIGJyb3dzZXIgd2lsbCB0cnkgdG8gdXNlIHRhYiBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICAgIFRhYjogKCkgPT4ge1xuICAgICAgICB2YXIgaSwgbiwgcjtcbiAgICAgICAgcmV0dXJuIChpID0gdGhpcy5vcHRpb25zLmVkaXRvci5mb3JtYXR0aW5nVG9vbGJhcikgIT0gbnVsbCAmJiBpLnNob3duIHx8IChuID0gdGhpcy5vcHRpb25zLmVkaXRvci5saW5rVG9vbGJhcikgIT0gbnVsbCAmJiBuLnNob3duIHx8IChyID0gdGhpcy5vcHRpb25zLmVkaXRvci5maWxlUGFuZWwpICE9IG51bGwgJiYgci5zaG93biA/ICExIDogKHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNpbmtMaXN0SXRlbShcImJsb2NrQ29udGFpbmVyXCIpLCAhMCk7XG4gICAgICB9LFxuICAgICAgXCJTaGlmdC1UYWJcIjogKCkgPT4ge1xuICAgICAgICB2YXIgaSwgbiwgcjtcbiAgICAgICAgcmV0dXJuIChpID0gdGhpcy5vcHRpb25zLmVkaXRvci5mb3JtYXR0aW5nVG9vbGJhcikgIT0gbnVsbCAmJiBpLnNob3duIHx8IChuID0gdGhpcy5vcHRpb25zLmVkaXRvci5saW5rVG9vbGJhcikgIT0gbnVsbCAmJiBuLnNob3duIHx8IChyID0gdGhpcy5vcHRpb25zLmVkaXRvci5maWxlUGFuZWwpICE9IG51bGwgJiYgci5zaG93biA/ICExIDogKHRoaXMuZWRpdG9yLmNvbW1hbmRzLmxpZnRMaXN0SXRlbShcImJsb2NrQ29udGFpbmVyXCIpLCAhMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSksIExuID0gRi5jcmVhdGUoe1xuICBuYW1lOiBcImJsb2NrR3JvdXBcIixcbiAgZ3JvdXA6IFwiYmxvY2tHcm91cFwiLFxuICBjb250ZW50OiBcImJsb2NrQ29udGFpbmVyK1wiLFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyAhMSA6IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub2RlLXR5cGVcIikgPT09IFwiYmxvY2tHcm91cFwiID8gbnVsbCA6ICExXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICB2YXIgaTtcbiAgICBjb25zdCBlID0ge1xuICAgICAgLi4uKChpID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBpLmJsb2NrR3JvdXApIHx8IHt9LFxuICAgICAgLi4udFxuICAgIH0sIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG8uY2xhc3NOYW1lID0gRChcbiAgICAgIFwiYm4tYmxvY2stZ3JvdXBcIixcbiAgICAgIGUuY2xhc3NcbiAgICApLCBvLnNldEF0dHJpYnV0ZShcImRhdGEtbm9kZS10eXBlXCIsIFwiYmxvY2tHcm91cFwiKTtcbiAgICBmb3IgKGNvbnN0IFtuLCByXSBvZiBPYmplY3QuZW50cmllcyhlKSlcbiAgICAgIG4gIT09IFwiY2xhc3NcIiAmJiBvLnNldEF0dHJpYnV0ZShuLCByKTtcbiAgICByZXR1cm4ge1xuICAgICAgZG9tOiBvLFxuICAgICAgY29udGVudERPTTogb1xuICAgIH07XG4gIH1cbn0pLCBJbiA9IEYuY3JlYXRlKHtcbiAgbmFtZTogXCJkb2NcIixcbiAgdG9wTm9kZTogITAsXG4gIGNvbnRlbnQ6IFwiYmxvY2tHcm91cFwiXG59KSwgQW4gPSAodCkgPT4ge1xuICB2YXIgbztcbiAgY29uc3QgZSA9IFtcbiAgICBLLkNsaXBib2FyZFRleHRTZXJpYWxpemVyLFxuICAgIEsuQ29tbWFuZHMsXG4gICAgSy5FZGl0YWJsZSxcbiAgICBLLkZvY3VzRXZlbnRzLFxuICAgIEsuVGFiaW5kZXgsXG4gICAgLy8gRGV2VG9vbHMsXG4gICAgc28sXG4gICAgLy8gRHJvcEN1cnNvcixcbiAgICBKLmNvbmZpZ3VyZSh7XG4gICAgICB0eXBlczogW1wiYmxvY2tDb250YWluZXJcIl1cbiAgICB9KSxcbiAgICBsby5leHRlbmQoeyBwcmlvcml0eTogMTAgfSksXG4gICAgLy8gQ29tbWVudHMsXG4gICAgLy8gYmFzaWNzOlxuICAgIHBvLFxuICAgIC8vIG1hcmtzOlxuICAgIHVvLFxuICAgIC4uLk9iamVjdC52YWx1ZXModC5zdHlsZVNwZWNzKS5tYXAoKGkpID0+IGkuaW1wbGVtZW50YXRpb24ubWFyayksXG4gICAgdm4sXG4gICAgX24sXG4gICAgd24sXG4gICAgLy8gbWFrZSBzdXJlIGVzY2FwZSBibHVycyBlZGl0b3IsIHNvIHRoYXQgd2UgY2FuIHRhYiB0byBvdGhlciBlbGVtZW50cyBpbiB0aGUgaG9zdCBwYWdlIChhY2Nlc3NpYmlsaXR5KVxuICAgIFQuY3JlYXRlKHtcbiAgICAgIG5hbWU6IFwiT3ZlcnJpZGVFc2NhcGVcIixcbiAgICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIEVzY2FwZTogKCkgPT4gdC5lZGl0b3Iuc3VnZ2VzdGlvbk1lbnVzLnNob3duID8gITEgOiB0aGlzLmVkaXRvci5jb21tYW5kcy5ibHVyKClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICAvLyBub2Rlc1xuICAgIEluLFxuICAgIEJuLmNvbmZpZ3VyZSh7XG4gICAgICBlZGl0b3I6IHQuZWRpdG9yLFxuICAgICAgZG9tQXR0cmlidXRlczogdC5kb21BdHRyaWJ1dGVzXG4gICAgfSksXG4gICAgTG4uY29uZmlndXJlKHtcbiAgICAgIGRvbUF0dHJpYnV0ZXM6IHQuZG9tQXR0cmlidXRlc1xuICAgIH0pLFxuICAgIC4uLk9iamVjdC52YWx1ZXModC5pbmxpbmVDb250ZW50U3BlY3MpLmZpbHRlcigoaSkgPT4gaS5jb25maWcgIT09IFwibGlua1wiICYmIGkuY29uZmlnICE9PSBcInRleHRcIikubWFwKChpKSA9PiBpLmltcGxlbWVudGF0aW9uLm5vZGUuY29uZmlndXJlKHtcbiAgICAgIGVkaXRvcjogdC5lZGl0b3JcbiAgICB9KSksXG4gICAgLi4uT2JqZWN0LnZhbHVlcyh0LmJsb2NrU3BlY3MpLmZsYXRNYXAoKGkpID0+IFtcbiAgICAgIC8vIGRlcGVuZGVudCBub2RlcyAoZS5nLjogdGFibGVjZWxsIC8gcm93KVxuICAgICAgLi4uKGkuaW1wbGVtZW50YXRpb24ucmVxdWlyZWRFeHRlbnNpb25zIHx8IFtdKS5tYXAoXG4gICAgICAgIChuKSA9PiBuLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgZWRpdG9yOiB0LmVkaXRvcixcbiAgICAgICAgICBkb21BdHRyaWJ1dGVzOiB0LmRvbUF0dHJpYnV0ZXNcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICAvLyB0aGUgYWN0dWFsIG5vZGUgaXRzZWxmXG4gICAgICBpLmltcGxlbWVudGF0aW9uLm5vZGUuY29uZmlndXJlKHtcbiAgICAgICAgZWRpdG9yOiB0LmVkaXRvcixcbiAgICAgICAgZG9tQXR0cmlidXRlczogdC5kb21BdHRyaWJ1dGVzXG4gICAgICB9KVxuICAgIF0pLFxuICAgIGJuKHQuZWRpdG9yKSxcbiAgICB5bih0LmVkaXRvciksXG4gICAgYW8uY29uZmlndXJlKHsgd2lkdGg6IDUsIGNvbG9yOiBcIiNkZGVlZmZcIiB9KSxcbiAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGF0IHRoZSBib3R0b20gb2YgdGhpcyBsaXN0LCBiZWNhdXNlIEtleSBldmVudHMgKHN1Y2ggYXMgZW50ZXIsIHdoZW4gc2VsZWN0aW5nIGEgL2NvbW1hbmQpLFxuICAgIC8vIHNob3VsZCBiZSBoYW5kbGVkIGJlZm9yZSBFbnRlciBoYW5kbGVycyBpbiBvdGhlciBjb21wb25lbnRzIGxpa2Ugc3BsaXRMaXN0SXRlbVxuICAgIC4uLnQudHJhaWxpbmdCbG9jayA9PT0gdm9pZCAwIHx8IHQudHJhaWxpbmdCbG9jayA/IFt4bl0gOiBbXVxuICBdO1xuICBpZiAodC5jb2xsYWJvcmF0aW9uKSB7XG4gICAgaWYgKGUucHVzaChcbiAgICAgIG5vLmNvbmZpZ3VyZSh7XG4gICAgICAgIGZyYWdtZW50OiB0LmNvbGxhYm9yYXRpb24uZnJhZ21lbnRcbiAgICAgIH0pXG4gICAgKSwgKG8gPSB0LmNvbGxhYm9yYXRpb24ucHJvdmlkZXIpICE9IG51bGwgJiYgby5hd2FyZW5lc3MpIHtcbiAgICAgIGNvbnN0IGkgPSAobikgPT4ge1xuICAgICAgICBjb25zdCByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHIuY2xhc3NMaXN0LmFkZChcImNvbGxhYm9yYXRpb24tY3Vyc29yX19jYXJldFwiKSwgci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgYm9yZGVyLWNvbG9yOiAke24uY29sb3J9YCk7XG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgYS5jbGFzc0xpc3QuYWRkKFwiY29sbGFib3JhdGlvbi1jdXJzb3JfX2xhYmVsXCIpLCBhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBiYWNrZ3JvdW5kLWNvbG9yOiAke24uY29sb3J9YCksIGEuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4ubmFtZSksIG51bGwpO1xuICAgICAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCLigaBcIiksIGwgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIuKBoFwiKTtcbiAgICAgICAgcmV0dXJuIHIuaW5zZXJ0QmVmb3JlKHMsIG51bGwpLCByLmluc2VydEJlZm9yZShhLCBudWxsKSwgci5pbnNlcnRCZWZvcmUobCwgbnVsbCksIHI7XG4gICAgICB9O1xuICAgICAgZS5wdXNoKFxuICAgICAgICByby5jb25maWd1cmUoe1xuICAgICAgICAgIHVzZXI6IHQuY29sbGFib3JhdGlvbi51c2VyLFxuICAgICAgICAgIHJlbmRlcjogdC5jb2xsYWJvcmF0aW9uLnJlbmRlckN1cnNvciB8fCBpLFxuICAgICAgICAgIHByb3ZpZGVyOiB0LmNvbGxhYm9yYXRpb24ucHJvdmlkZXJcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2VcbiAgICBlLnB1c2goY28pO1xuICByZXR1cm4gZTtcbn07XG5mdW5jdGlvbiBObih0LCBlKSB7XG4gIGNvbnN0IG8gPSBbXTtcbiAgcmV0dXJuIHQuZm9yRWFjaCgoaSwgbiwgcikgPT4ge1xuICAgIHIgIT09IGUgJiYgby5wdXNoKGkpO1xuICB9KSwgTS5mcm9tKG8pO1xufVxuZnVuY3Rpb24gUG4odCwgZSkge1xuICBsZXQgbyA9IE0uZnJvbSh0LmNvbnRlbnQpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG8uY2hpbGRDb3VudDsgaSsrKVxuICAgIGlmIChvLmNoaWxkKGkpLnR5cGUuc3BlYy5ncm91cCA9PT0gXCJibG9ja0NvbnRlbnRcIikge1xuICAgICAgY29uc3QgbiA9IFtvLmNoaWxkKGkpXTtcbiAgICAgIGlmIChpICsgMSA8IG8uY2hpbGRDb3VudCAmJiBvLmNoaWxkKGkgKyAxKS50eXBlLnNwZWMuZ3JvdXAgPT09IFwiYmxvY2tHcm91cFwiKSB7XG4gICAgICAgIGNvbnN0IGEgPSBvLmNoaWxkKGkgKyAxKS5jaGlsZCgwKS5jaGlsZCgwKTtcbiAgICAgICAgKGEudHlwZS5uYW1lID09PSBcImJ1bGxldExpc3RJdGVtXCIgfHwgYS50eXBlLm5hbWUgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiKSAmJiAobi5wdXNoKG8uY2hpbGQoaSArIDEpKSwgbyA9IE5uKG8sIGkgKyAxKSk7XG4gICAgICB9XG4gICAgICBjb25zdCByID0gZS5zdGF0ZS5zY2hlbWEubm9kZXMuYmxvY2tDb250YWluZXIuY3JlYXRlKFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIG5cbiAgICAgICk7XG4gICAgICBvID0gby5yZXBsYWNlQ2hpbGQoaSwgcik7XG4gICAgfVxuICByZXR1cm4gbmV3IEgobywgdC5vcGVuU3RhcnQsIHQub3BlbkVuZCk7XG59XG5mdW5jdGlvbiBtZSh0KSB7XG4gIHJldHVybiB0ICYmIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKFssIGVdKSA9PiBlICE9PSB2b2lkIDApXG4gICk7XG59XG5jbGFzcyBUZSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBjKHRoaXMsIFwiYmxvY2tTcGVjc1wiKTtcbiAgICBjKHRoaXMsIFwiaW5saW5lQ29udGVudFNwZWNzXCIpO1xuICAgIGModGhpcywgXCJzdHlsZVNwZWNzXCIpO1xuICAgIGModGhpcywgXCJibG9ja1NjaGVtYVwiKTtcbiAgICBjKHRoaXMsIFwiaW5saW5lQ29udGVudFNjaGVtYVwiKTtcbiAgICBjKHRoaXMsIFwic3R5bGVTY2hlbWFcIik7XG4gICAgLy8gSGVscGVyIHNvIHRoYXQgeW91IGNhbiB1c2UgdHlwZW9mIHNjaGVtYS5CbG9ja05vdGVFZGl0b3JcbiAgICBjKHRoaXMsIFwiQmxvY2tOb3RlRWRpdG9yXCIsIFwib25seSBmb3IgdHlwZXNcIik7XG4gICAgYyh0aGlzLCBcIkJsb2NrXCIsIFwib25seSBmb3IgdHlwZXNcIik7XG4gICAgYyh0aGlzLCBcIlBhcnRpYWxCbG9ja1wiLCBcIm9ubHkgZm9yIHR5cGVzXCIpO1xuICAgIHRoaXMuYmxvY2tTcGVjcyA9IG1lKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuYmxvY2tTcGVjcykgfHwgaHQsIHRoaXMuaW5saW5lQ29udGVudFNwZWNzID0gbWUoZSA9PSBudWxsID8gdm9pZCAwIDogZS5pbmxpbmVDb250ZW50U3BlY3MpIHx8IGZ0LCB0aGlzLnN0eWxlU3BlY3MgPSBtZShlID09IG51bGwgPyB2b2lkIDAgOiBlLnN0eWxlU3BlY3MpIHx8IG10LCB0aGlzLmJsb2NrU2NoZW1hID0gbHQodGhpcy5ibG9ja1NwZWNzKSwgdGhpcy5pbmxpbmVDb250ZW50U2NoZW1hID0gZHQoXG4gICAgICB0aGlzLmlubGluZUNvbnRlbnRTcGVjc1xuICAgICksIHRoaXMuc3R5bGVTY2hlbWEgPSB1dCh0aGlzLnN0eWxlU3BlY3MpO1xuICB9XG4gIHN0YXRpYyBjcmVhdGUoZSkge1xuICAgIHJldHVybiBuZXcgVGUoZSk7XG4gIH1cbn1cbmNsYXNzIEhuIGV4dGVuZHMgT3Qge1xuICBjb25zdHJ1Y3RvcihvLCBpKSB7XG4gICAgc3VwZXIoeyAuLi5vLCBjb250ZW50OiB2b2lkIDAgfSk7XG4gICAgYyh0aGlzLCBcIl9zdGF0ZVwiKTtcbiAgICAvKipcbiAgICAgKiBNb3VudHMgLyB1bm1vdW50cyB0aGUgZWRpdG9yIHRvIGEgZG9tIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50IERPTSBlbGVtZW50IHRvIG1vdW50IHRvLCB1ciBudWxsIC8gdW5kZWZpbmVkIHRvIGRlc3Ryb3lcbiAgICAgKi9cbiAgICBjKHRoaXMsIFwibW91bnRcIiwgKG8pID0+IHtcbiAgICAgIG8gPyAodGhpcy5vcHRpb25zLmVsZW1lbnQgPSBvLCB0aGlzLmNyZWF0ZVZpZXdBbHRlcm5hdGl2ZSgpKSA6IHRoaXMuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIGNvbnN0IG4gPSB0aGlzLnNjaGVtYTtcbiAgICBsZXQgcjtcbiAgICBjb25zdCBhID0gbi5ub2Rlcy5kb2MuY3JlYXRlQW5kRmlsbDtcbiAgICBuLm5vZGVzLmRvYy5jcmVhdGVBbmRGaWxsID0gKC4uLmwpID0+IHtcbiAgICAgIGlmIChyKVxuICAgICAgICByZXR1cm4gcjtcbiAgICAgIGNvbnN0IGQgPSBhLmFwcGx5KG4ubm9kZXMuZG9jLCBsKSwgdSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZC50b0pTT04oKSkpO1xuICAgICAgcmV0dXJuIHUuY29udGVudFswXS5jb250ZW50WzBdLmF0dHJzLmlkID0gXCJpbml0aWFsQmxvY2tJZFwiLCByID0gTXQuZnJvbUpTT04obiwgdSksIHI7XG4gICAgfTtcbiAgICBsZXQgcztcbiAgICB0cnkge1xuICAgICAgY29uc3QgbCA9IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uY29udGVudC5tYXAoXG4gICAgICAgIChkKSA9PiBOKGQsIHRoaXMuc2NoZW1hLCBpKS50b0pTT04oKVxuICAgICAgKTtcbiAgICAgIHMgPSBSdChcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiZG9jXCIsXG4gICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImJsb2NrR3JvdXBcIixcbiAgICAgICAgICAgICAgY29udGVudDogbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5zY2hlbWEsXG4gICAgICAgIHRoaXMub3B0aW9ucy5wYXJzZU9wdGlvbnNcbiAgICAgICk7XG4gICAgfSBjYXRjaCAobCkge1xuICAgICAgdGhyb3cgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJFcnJvciBjcmVhdGluZyBkb2N1bWVudCBmcm9tIGJsb2NrcyBwYXNzZWQgYXMgYGluaXRpYWxDb250ZW50YC4gQ2F1c2VkIGJ5IGV4Y2VwdGlvbjogXCIsXG4gICAgICAgIGxcbiAgICAgICksIG5ldyBFcnJvcihcbiAgICAgICAgXCJFcnJvciBjcmVhdGluZyBkb2N1bWVudCBmcm9tIGJsb2NrcyBwYXNzZWQgYXMgYGluaXRpYWxDb250ZW50YDpcXG5cIiArICtKU09OLnN0cmluZ2lmeShvLmNvbnRlbnQpXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLl9zdGF0ZSA9IFZ0LmNyZWF0ZSh7XG4gICAgICBkb2M6IHMsXG4gICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hXG4gICAgICAvLyBzZWxlY3Rpb246IHNlbGVjdGlvbiB8fCB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcgJiYgKHRoaXMuX3N0YXRlID0gdGhpcy52aWV3LnN0YXRlKSwgdGhpcy5fc3RhdGU7XG4gIH1cbiAgY3JlYXRlVmlldygpIHtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZSB0aGUgZGVmYXVsdCBgY3JlYXRlVmlld2AgbWV0aG9kIHdpdGggYSBjdXN0b20gb25lIC0gd2hpY2ggd2UgY2FsbCBvbiBtb3VudFxuICAgKi9cbiAgY3JlYXRlVmlld0FsdGVybmF0aXZlKCkge1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgIHRoaXMudmlldyA9IG5ldyBpbyhcbiAgICAgICAgeyBtb3VudDogdGhpcy5vcHRpb25zLmVsZW1lbnQgfSxcbiAgICAgICAgLy8gdXNlIG1vdW50IG9wdGlvbiBzbyB0aGF0IHdlIHJldXNlIHRoZSBleGlzdGluZyBlbGVtZW50IGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lXG4gICAgICAgIHtcbiAgICAgICAgICAuLi50aGlzLm9wdGlvbnMuZWRpdG9yUHJvcHMsXG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIGRpc3BhdGNoVHJhbnNhY3Rpb246IHRoaXMuZGlzcGF0Y2hUcmFuc2FjdGlvbi5iaW5kKHRoaXMpLFxuICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjb25zdCBvID0gdGhpcy5zdGF0ZS5yZWNvbmZpZ3VyZSh7XG4gICAgICAgIHBsdWdpbnM6IHRoaXMuZXh0ZW5zaW9uTWFuYWdlci5wbHVnaW5zXG4gICAgICB9KTtcbiAgICAgIHRoaXMudmlldy51cGRhdGVTdGF0ZShvKSwgdGhpcy5jcmVhdGVOb2RlVmlld3MoKTtcbiAgICB9KTtcbiAgfVxufVxuY29uc3QgVW4gPSBuZXcgeChcImJsb2Nrbm90ZS1wbGFjZWhvbGRlclwiKSwgRG4gPSAodCwgZSkgPT4gbmV3IHcoe1xuICBrZXk6IFVuLFxuICB2aWV3OiAoKSA9PiB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG8pO1xuICAgIGNvbnN0IGkgPSBvLnNoZWV0LCBuID0gKGEgPSBcIlwiKSA9PiBgLmJuLWJsb2NrLWNvbnRlbnQke2F9IC5ibi1pbmxpbmUtY29udGVudDpoYXMoPiAuUHJvc2VNaXJyb3ItdHJhaWxpbmdCcmVhayk6YmVmb3JlYCwgciA9IChhLCBzID0gITApID0+IHtcbiAgICAgIGNvbnN0IGwgPSBzID8gXCJbZGF0YS1pcy1lbXB0eS1hbmQtZm9jdXNlZF1cIiA6IFwiXCI7XG4gICAgICBpZiAoYSA9PT0gXCJkZWZhdWx0XCIpXG4gICAgICAgIHJldHVybiBuKGwpO1xuICAgICAgY29uc3QgZCA9IGBbZGF0YS1jb250ZW50LXR5cGU9XCIke2F9XCJdYDtcbiAgICAgIHJldHVybiBuKGwgKyBkKTtcbiAgICB9O1xuICAgIGZvciAoY29uc3QgW2EsIHNdIG9mIE9iamVjdC5lbnRyaWVzKGUpKSB7XG4gICAgICBjb25zdCBsID0gYSA9PT0gXCJkZWZhdWx0XCI7XG4gICAgICBpLmluc2VydFJ1bGUoXG4gICAgICAgIGAke3IoYSwgbCl9eyBjb250ZW50OiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHNcbiAgICAgICAgKX07IH1gXG4gICAgICApLCBsIHx8IGkuaW5zZXJ0UnVsZShcbiAgICAgICAgYCR7cihhLCAhMCl9eyBjb250ZW50OiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHNcbiAgICAgICAgKX07IH1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKG8pO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHByb3BzOiB7XG4gICAgLy8gVE9ETzogbWF5YmUgYWxzbyBhZGQgcGxhY2Vob2xkZXIgZm9yIGVtcHR5IGRvY3VtZW50IChcImUuZy46IHN0YXJ0IHdyaXRpbmcuLlwiKVxuICAgIGRlY29yYXRpb25zOiAobykgPT4ge1xuICAgICAgY29uc3QgeyBkb2M6IGksIHNlbGVjdGlvbjogbiB9ID0gbztcbiAgICAgIGlmICghdC5pc0VkaXRhYmxlIHx8ICFuLmVtcHR5KVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCByID0gbi4kYW5jaG9yLCBhID0gci5wYXJlbnQ7XG4gICAgICBpZiAoYS5jb250ZW50LnNpemUgPiAwKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNvbnN0IHMgPSByLmJlZm9yZSgpLCBsID0gei5ub2RlKHMsIHMgKyBhLm5vZGVTaXplLCB7XG4gICAgICAgIFwiZGF0YS1pcy1lbXB0eS1hbmQtZm9jdXNlZFwiOiBcInRydWVcIlxuICAgICAgfSk7XG4gICAgICByZXR1cm4gai5jcmVhdGUoaSwgW2xdKTtcbiAgICB9XG4gIH1cbn0pO1xuY29uc3QgT24gPSB7XG4gIGVuYWJsZUlucHV0UnVsZXM6ICEwLFxuICBlbmFibGVQYXN0ZVJ1bGVzOiAhMCxcbiAgZW5hYmxlQ29yZUV4dGVuc2lvbnM6ICExXG59O1xuY2xhc3MgX3Qge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgYyh0aGlzLCBcIl90aXB0YXBFZGl0b3JcIik7XG4gICAgYyh0aGlzLCBcImJsb2NrQ2FjaGVcIiwgLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCkpO1xuICAgIGModGhpcywgXCJkaWN0aW9uYXJ5XCIpO1xuICAgIGModGhpcywgXCJzY2hlbWFcIik7XG4gICAgYyh0aGlzLCBcImJsb2NrSW1wbGVtZW50YXRpb25zXCIpO1xuICAgIGModGhpcywgXCJpbmxpbmVDb250ZW50SW1wbGVtZW50YXRpb25zXCIpO1xuICAgIGModGhpcywgXCJzdHlsZUltcGxlbWVudGF0aW9uc1wiKTtcbiAgICBjKHRoaXMsIFwiZm9ybWF0dGluZ1Rvb2xiYXJcIik7XG4gICAgYyh0aGlzLCBcImxpbmtUb29sYmFyXCIpO1xuICAgIGModGhpcywgXCJzaWRlTWVudVwiKTtcbiAgICBjKHRoaXMsIFwic3VnZ2VzdGlvbk1lbnVzXCIpO1xuICAgIGModGhpcywgXCJmaWxlUGFuZWxcIik7XG4gICAgYyh0aGlzLCBcInRhYmxlSGFuZGxlc1wiKTtcbiAgICBjKHRoaXMsIFwidXBsb2FkRmlsZVwiKTtcbiAgICB2YXIgbCwgZCwgdSwgcCwgaCwgZiwgbSwgZztcbiAgICB0aGlzLm9wdGlvbnMgPSBlO1xuICAgIGNvbnN0IG8gPSBlO1xuICAgIGlmIChvLm9uRWRpdG9yQ29udGVudENoYW5nZSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJvbkVkaXRvckNvbnRlbnRDaGFuZ2UgaW5pdGlhbGl6YXRpb24gb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHVzZSA8QmxvY2tOb3RlVmlldyBvbkNoYW5nZT17Li4ufSAvPiwgdGhlIHVzZUVkaXRvckNoYW5nZSguLi4pIGhvb2ssIG9yIGVkaXRvci5vbkNoYW5nZSguLi4pXCJcbiAgICAgICk7XG4gICAgaWYgKG8ub25UZXh0Q3Vyc29yUG9zaXRpb25DaGFuZ2UpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwib25UZXh0Q3Vyc29yUG9zaXRpb25DaGFuZ2UgaW5pdGlhbGl6YXRpb24gb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHVzZSA8QmxvY2tOb3RlVmlldyBvblNlbGVjdGlvbkNoYW5nZT17Li4ufSAvPiwgdGhlIHVzZUVkaXRvclNlbGVjdGlvbkNoYW5nZSguLi4pIGhvb2ssIG9yIGVkaXRvci5vblNlbGVjdGlvbkNoYW5nZSguLi4pXCJcbiAgICAgICk7XG4gICAgaWYgKG8ub25FZGl0b3JSZWFkeSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJvbkVkaXRvclJlYWR5IGlzIGRlcHJlY2F0ZWQuIEVkaXRvciBpcyBpbW1lZGlhdGVseSByZWFkeSBmb3IgdXNlIGFmdGVyIGNyZWF0aW9uLlwiXG4gICAgICApO1xuICAgIGlmIChvLmVkaXRhYmxlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcImVkaXRhYmxlIGluaXRpYWxpemF0aW9uIG9wdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgPEJsb2NrTm90ZVZpZXcgZWRpdGFibGU9e3RydWUvZmFsc2V9IC8+LCBvciBhbHRlcm5hdGl2ZWx5IGVkaXRvci5pc0VkaXRhYmxlID0gdHJ1ZS9mYWxzZVwiXG4gICAgICApO1xuICAgIHRoaXMuZGljdGlvbmFyeSA9IGUuZGljdGlvbmFyeSB8fCBaZTtcbiAgICBjb25zdCBpID0ge1xuICAgICAgZGVmYXVsdFN0eWxlczogITAsXG4gICAgICBzY2hlbWE6IGUuc2NoZW1hIHx8IFRlLmNyZWF0ZSgpLFxuICAgICAgLi4uZSxcbiAgICAgIHBsYWNlaG9sZGVyczoge1xuICAgICAgICAuLi50aGlzLmRpY3Rpb25hcnkucGxhY2Vob2xkZXJzLFxuICAgICAgICAuLi5lLnBsYWNlaG9sZGVyc1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zY2hlbWEgPSBpLnNjaGVtYSwgdGhpcy5ibG9ja0ltcGxlbWVudGF0aW9ucyA9IGkuc2NoZW1hLmJsb2NrU3BlY3MsIHRoaXMuaW5saW5lQ29udGVudEltcGxlbWVudGF0aW9ucyA9IGkuc2NoZW1hLmlubGluZUNvbnRlbnRTcGVjcywgdGhpcy5zdHlsZUltcGxlbWVudGF0aW9ucyA9IGkuc2NoZW1hLnN0eWxlU3BlY3MsIHRoaXMuZm9ybWF0dGluZ1Rvb2xiYXIgPSBuZXcgWWkodGhpcyksIHRoaXMubGlua1Rvb2xiYXIgPSBuZXcgdG4odGhpcyksIHRoaXMuc2lkZU1lbnUgPSBuZXcgdW4odGhpcyksIHRoaXMuc3VnZ2VzdGlvbk1lbnVzID0gbmV3IHJuKHRoaXMpLCB0aGlzLmZpbGVQYW5lbCA9IG5ldyBYaSh0aGlzKSwgUyhcInRhYmxlXCIsIHRoaXMpICYmICh0aGlzLnRhYmxlSGFuZGxlcyA9IG5ldyBnbih0aGlzKSk7XG4gICAgY29uc3QgbiA9IEFuKHtcbiAgICAgIGVkaXRvcjogdGhpcyxcbiAgICAgIGRvbUF0dHJpYnV0ZXM6IGkuZG9tQXR0cmlidXRlcyB8fCB7fSxcbiAgICAgIGJsb2NrU2NoZW1hOiB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgIGJsb2NrU3BlY3M6IHRoaXMuc2NoZW1hLmJsb2NrU3BlY3MsXG4gICAgICBzdHlsZVNwZWNzOiB0aGlzLnNjaGVtYS5zdHlsZVNwZWNzLFxuICAgICAgaW5saW5lQ29udGVudFNwZWNzOiB0aGlzLnNjaGVtYS5pbmxpbmVDb250ZW50U3BlY3MsXG4gICAgICBjb2xsYWJvcmF0aW9uOiBpLmNvbGxhYm9yYXRpb24sXG4gICAgICB0cmFpbGluZ0Jsb2NrOiBpLnRyYWlsaW5nQmxvY2tcbiAgICB9KSwgciA9IFQuY3JlYXRlKHtcbiAgICAgIG5hbWU6IFwiQmxvY2tOb3RlVUlFeHRlbnNpb25cIixcbiAgICAgIGFkZFByb3NlTWlycm9yUGx1Z2luczogKCkgPT4gW1xuICAgICAgICB0aGlzLmZvcm1hdHRpbmdUb29sYmFyLnBsdWdpbixcbiAgICAgICAgdGhpcy5saW5rVG9vbGJhci5wbHVnaW4sXG4gICAgICAgIHRoaXMuc2lkZU1lbnUucGx1Z2luLFxuICAgICAgICB0aGlzLnN1Z2dlc3Rpb25NZW51cy5wbHVnaW4sXG4gICAgICAgIC4uLnRoaXMuZmlsZVBhbmVsID8gW3RoaXMuZmlsZVBhbmVsLnBsdWdpbl0gOiBbXSxcbiAgICAgICAgLi4udGhpcy50YWJsZUhhbmRsZXMgPyBbdGhpcy50YWJsZUhhbmRsZXMucGx1Z2luXSA6IFtdLFxuICAgICAgICBEbih0aGlzLCBpLnBsYWNlaG9sZGVycylcbiAgICAgIF1cbiAgICB9KTtcbiAgICBuLnB1c2gociksIHRoaXMudXBsb2FkRmlsZSA9IGkudXBsb2FkRmlsZSwgaS5jb2xsYWJvcmF0aW9uICYmIGkuaW5pdGlhbENvbnRlbnQgJiYgY29uc29sZS53YXJuKFxuICAgICAgXCJXaGVuIHVzaW5nIENvbGxhYm9yYXRpb24sIGluaXRpYWxDb250ZW50IG1pZ2h0IGNhdXNlIGNvbmZsaWN0cywgYmVjYXVzZSBjaGFuZ2VzIHNob3VsZCBjb21lIGZyb20gdGhlIGNvbGxhYm9yYXRpb24gcHJvdmlkZXJcIlxuICAgICk7XG4gICAgY29uc3QgYSA9IGkuaW5pdGlhbENvbnRlbnQgfHwgKGUuY29sbGFib3JhdGlvbiA/IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIixcbiAgICAgICAgaWQ6IFwiaW5pdGlhbEJsb2NrSWRcIlxuICAgICAgfVxuICAgIF0gOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6IFwicGFyYWdyYXBoXCIsXG4gICAgICAgIGlkOiBKLm9wdGlvbnMuZ2VuZXJhdGVJRCgpXG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEubGVuZ3RoID09PSAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcImluaXRpYWxDb250ZW50IG11c3QgYmUgYSBub24tZW1wdHkgYXJyYXkgb2YgYmxvY2tzLCByZWNlaXZlZDogXCIgKyBhXG4gICAgICApO1xuICAgIGNvbnN0IHMgPSB7XG4gICAgICAuLi5PbixcbiAgICAgIC4uLmkuX3RpcHRhcE9wdGlvbnMsXG4gICAgICBjb250ZW50OiBhLFxuICAgICAgZXh0ZW5zaW9uczogaS5lbmFibGVCbG9ja05vdGVFeHRlbnNpb25zID09PSAhMSA/ICgobCA9IGkuX3RpcHRhcE9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBsLmV4dGVuc2lvbnMpIHx8IFtdIDogWy4uLigoZCA9IGkuX3RpcHRhcE9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBkLmV4dGVuc2lvbnMpIHx8IFtdLCAuLi5uXSxcbiAgICAgIGVkaXRvclByb3BzOiB7XG4gICAgICAgIC4uLih1ID0gaS5fdGlwdGFwT3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IHUuZWRpdG9yUHJvcHMsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi4oaCA9IChwID0gaS5fdGlwdGFwT3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IHAuZWRpdG9yUHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBoLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgLi4uKGYgPSBpLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBmLmVkaXRvcixcbiAgICAgICAgICBjbGFzczogRChcbiAgICAgICAgICAgIFwiYm4tZWRpdG9yXCIsXG4gICAgICAgICAgICBpLmRlZmF1bHRTdHlsZXMgPyBcImJuLWRlZmF1bHQtc3R5bGVzXCIgOiBcIlwiLFxuICAgICAgICAgICAgKChnID0gKG0gPSBpLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBtLmVkaXRvcikgPT0gbnVsbCA/IHZvaWQgMCA6IGcuY2xhc3MpIHx8IFwiXCJcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zZm9ybVBhc3RlZDogUG5cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvciA9IG5ldyBIbihcbiAgICAgIHMsXG4gICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYVxuICAgICk7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShlID0ge30pIHtcbiAgICByZXR1cm4gbmV3IF90KGUpO1xuICB9XG4gIC8qKlxuICAgKiBNb3VudCB0aGUgZWRpdG9yIHRvIGEgcGFyZW50IERPTSBlbGVtZW50LiBDYWxsIG1vdW50KHVuZGVmaW5lZCkgdG8gY2xlYW4gdXBcbiAgICpcbiAgICogQHdhcm5pbmcgTm90IG5lZWRlZCBmb3IgUmVhY3QsIHVzZSBCbG9ja05vdGVWaWV3IHRvIHRha2UgY2FyZSBvZiB0aGlzXG4gICAqL1xuICBtb3VudChlKSB7XG4gICAgdGhpcy5fdGlwdGFwRWRpdG9yLm1vdW50KGUpO1xuICB9XG4gIGdldCBwcm9zZW1pcnJvclZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpcHRhcEVkaXRvci52aWV3O1xuICB9XG4gIGdldCBkb21FbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iudmlldy5kb207XG4gIH1cbiAgaXNGb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iudmlldy5oYXNGb2N1cygpO1xuICB9XG4gIGZvY3VzKCkge1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci52aWV3LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkLCB1c2UgYGVkaXRvci5kb2N1bWVudGAgaW5zdGVhZFxuICAgKi9cbiAgZ2V0IHRvcExldmVsQmxvY2tzKCkge1xuICAgIHJldHVybiB0aGlzLnRvcExldmVsQmxvY2tzO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIGEgc25hcHNob3Qgb2YgYWxsIHRvcC1sZXZlbCAobm9uLW5lc3RlZCkgYmxvY2tzIGluIHRoZSBlZGl0b3IuXG4gICAqIEByZXR1cm5zIEEgc25hcHNob3Qgb2YgYWxsIHRvcC1sZXZlbCAobm9uLW5lc3RlZCkgYmxvY2tzIGluIHRoZSBlZGl0b3IuXG4gICAqL1xuICBnZXQgZG9jdW1lbnQoKSB7XG4gICAgY29uc3QgZSA9IFtdO1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLmZpcnN0Q2hpbGQuZGVzY2VuZGFudHMoKG8pID0+IChlLnB1c2goXG4gICAgICBfKFxuICAgICAgICBvLFxuICAgICAgICB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICAgIHRoaXMuYmxvY2tDYWNoZVxuICAgICAgKVxuICAgICksICExKSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBzbmFwc2hvdCBvZiBhbiBleGlzdGluZyBibG9jayBmcm9tIHRoZSBlZGl0b3IuXG4gICAqIEBwYXJhbSBibG9ja0lkZW50aWZpZXIgVGhlIGlkZW50aWZpZXIgb2YgYW4gZXhpc3RpbmcgYmxvY2sgdGhhdCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICAgKiBAcmV0dXJucyBUaGUgYmxvY2sgdGhhdCBtYXRjaGVzIHRoZSBpZGVudGlmaWVyLCBvciBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaGluZyBibG9jayB3YXMgZm91bmQuXG4gICAqL1xuICBnZXRCbG9jayhlKSB7XG4gICAgY29uc3QgbyA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBlIDogZS5pZDtcbiAgICBsZXQgaTtcbiAgICByZXR1cm4gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy5maXJzdENoaWxkLmRlc2NlbmRhbnRzKChuKSA9PiB0eXBlb2YgaSA8IFwidVwiID8gITEgOiBuLnR5cGUubmFtZSAhPT0gXCJibG9ja0NvbnRhaW5lclwiIHx8IG4uYXR0cnMuaWQgIT09IG8gPyAhMCA6IChpID0gXyhcbiAgICAgIG4sXG4gICAgICB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgIHRoaXMuc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgIHRoaXMuYmxvY2tDYWNoZVxuICAgICksICExKSksIGk7XG4gIH1cbiAgLyoqXG4gICAqIFRyYXZlcnNlcyBhbGwgYmxvY2tzIGluIHRoZSBlZGl0b3IgZGVwdGgtZmlyc3QsIGFuZCBleGVjdXRlcyBhIGNhbGxiYWNrIGZvciBlYWNoLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgZm9yIGVhY2ggYmxvY2suIFJldHVybmluZyBgZmFsc2VgIHN0b3BzIHRoZSB0cmF2ZXJzYWwuXG4gICAqIEBwYXJhbSByZXZlcnNlIFdoZXRoZXIgdGhlIGJsb2NrcyBzaG91bGQgYmUgdHJhdmVyc2VkIGluIHJldmVyc2Ugb3JkZXIuXG4gICAqL1xuICBmb3JFYWNoQmxvY2soZSwgbyA9ICExKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuZG9jdW1lbnQuc2xpY2UoKTtcbiAgICBvICYmIGkucmV2ZXJzZSgpO1xuICAgIGZ1bmN0aW9uIG4ocikge1xuICAgICAgZm9yIChjb25zdCBhIG9mIHIpIHtcbiAgICAgICAgaWYgKCFlKGEpKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgcyA9IG8gPyBhLmNoaWxkcmVuLnNsaWNlKCkucmV2ZXJzZSgpIDogYS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKCFuKHMpKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgbihpKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBjYWxsYmFjayB3aGVuZXZlciB0aGUgZWRpdG9yJ3MgY29udGVudHMgY2hhbmdlLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUuXG4gICAqL1xuICBvbkVkaXRvckNvbnRlbnRDaGFuZ2UoZSkge1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci5vbihcInVwZGF0ZVwiLCBlKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBjYWxsYmFjayB3aGVuZXZlciB0aGUgZWRpdG9yJ3Mgc2VsZWN0aW9uIGNoYW5nZXMuXG4gICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZS5cbiAgICovXG4gIG9uRWRpdG9yU2VsZWN0aW9uQ2hhbmdlKGUpIHtcbiAgICB0aGlzLl90aXB0YXBFZGl0b3Iub24oXCJzZWxlY3Rpb25VcGRhdGVcIiwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCB0ZXh0IGN1cnNvciBwb3NpdGlvbi5cbiAgICogQHJldHVybnMgQSBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCB0ZXh0IGN1cnNvciBwb3NpdGlvbi5cbiAgICovXG4gIGdldFRleHRDdXJzb3JQb3NpdGlvbigpIHtcbiAgICBjb25zdCB7IG5vZGU6IGUsIGRlcHRoOiBvLCBzdGFydFBvczogaSwgZW5kUG9zOiBuIH0gPSBiKFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYyxcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbVxuICAgICksIHIgPSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLnJlc29sdmUobikuaW5kZXgobyAtIDEpLCBhID0gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy5yZXNvbHZlKG4gKyAxKS5ub2RlKCkuY2hpbGRDb3VudDtcbiAgICBsZXQgcztcbiAgICByID4gMCAmJiAocyA9IHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MucmVzb2x2ZShpIC0gMikubm9kZSgpKTtcbiAgICBsZXQgbDtcbiAgICByZXR1cm4gciA8IGEgLSAxICYmIChsID0gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy5yZXNvbHZlKG4gKyAyKS5ub2RlKCkpLCB7XG4gICAgICBibG9jazogXyhcbiAgICAgICAgZSxcbiAgICAgICAgdGhpcy5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICAgIHRoaXMuc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICAgIHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgICB0aGlzLmJsb2NrQ2FjaGVcbiAgICAgICksXG4gICAgICBwcmV2QmxvY2s6IHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8oXG4gICAgICAgIHMsXG4gICAgICAgIHRoaXMuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgICAgdGhpcy5ibG9ja0NhY2hlXG4gICAgICApLFxuICAgICAgbmV4dEJsb2NrOiBsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfKFxuICAgICAgICBsLFxuICAgICAgICB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICAgIHRoaXMuYmxvY2tDYWNoZVxuICAgICAgKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRleHQgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZSBzdGFydCBvciBlbmQgb2YgYW4gZXhpc3RpbmcgYmxvY2suIFRocm93cyBhbiBlcnJvciBpZiB0aGUgdGFyZ2V0IGJsb2NrIGNvdWxkXG4gICAqIG5vdCBiZSBmb3VuZC5cbiAgICogQHBhcmFtIHRhcmdldEJsb2NrIFRoZSBpZGVudGlmaWVyIG9mIGFuIGV4aXN0aW5nIGJsb2NrIHRoYXQgdGhlIHRleHQgY3Vyc29yIHNob3VsZCBiZSBtb3ZlZCB0by5cbiAgICogQHBhcmFtIHBsYWNlbWVudCBXaGV0aGVyIHRoZSB0ZXh0IGN1cnNvciBzaG91bGQgYmUgcGxhY2VkIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGJsb2NrLlxuICAgKi9cbiAgc2V0VGV4dEN1cnNvclBvc2l0aW9uKGUsIG8gPSBcInN0YXJ0XCIpIHtcbiAgICBjb25zdCBpID0gdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiA/IGUgOiBlLmlkLCB7IHBvc0JlZm9yZU5vZGU6IG4gfSA9IENlKGksIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MpLCB7IHN0YXJ0UG9zOiByLCBjb250ZW50Tm9kZTogYSB9ID0gYihcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MsXG4gICAgICBuICsgMlxuICAgICksIHMgPSB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYVthLnR5cGUubmFtZV0uY29udGVudDtcbiAgICBpZiAocyA9PT0gXCJub25lXCIpIHtcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXROb2RlU2VsZWN0aW9uKHIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocyA9PT0gXCJpbmxpbmVcIilcbiAgICAgIG8gPT09IFwic3RhcnRcIiA/IHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXRUZXh0U2VsZWN0aW9uKHIgKyAxKSA6IHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXRUZXh0U2VsZWN0aW9uKFxuICAgICAgICByICsgYS5ub2RlU2l6ZSAtIDFcbiAgICAgICk7XG4gICAgZWxzZSBpZiAocyA9PT0gXCJ0YWJsZVwiKVxuICAgICAgbyA9PT0gXCJzdGFydFwiID8gdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnNldFRleHRTZWxlY3Rpb24ociArIDQpIDogdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnNldFRleHRTZWxlY3Rpb24oXG4gICAgICAgIHIgKyBhLm5vZGVTaXplIC0gNFxuICAgICAgKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgSShzKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICovXG4gIGdldFNlbGVjdGlvbigpIHtcbiAgICBpZiAodGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5mcm9tID09PSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLnRvIHx8IFwibm9kZVwiIGluIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IFtdO1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLmRlc2NlbmRhbnRzKChvLCBpKSA9PiBvLnR5cGUuc3BlYy5ncm91cCAhPT0gXCJibG9ja0NvbnRlbnRcIiB8fCBpICsgby5ub2RlU2l6ZSA8IHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbSB8fCBpID4gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi50byA/ICEwIDogKGUucHVzaChcbiAgICAgIF8oXG4gICAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MucmVzb2x2ZShpKS5ub2RlKCksXG4gICAgICAgIHRoaXMuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgICAgdGhpcy5ibG9ja0NhY2hlXG4gICAgICApXG4gICAgKSwgITEpKSwgeyBibG9ja3M6IGUgfTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBlZGl0b3IgaXMgY3VycmVudGx5IGVkaXRhYmxlLCBvciBpZiBpdCdzIGxvY2tlZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWRpdG9yIGlzIGVkaXRhYmxlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBnZXQgaXNFZGl0YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlwdGFwRWRpdG9yLmlzRWRpdGFibGU7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2VzIHRoZSBlZGl0b3IgZWRpdGFibGUgb3IgbG9ja3MgaXQsIGRlcGVuZGluZyBvbiB0aGUgYXJndW1lbnQgcGFzc2VkLlxuICAgKiBAcGFyYW0gZWRpdGFibGUgVHJ1ZSB0byBtYWtlIHRoZSBlZGl0b3IgZWRpdGFibGUsIG9yIGZhbHNlIHRvIGxvY2sgaXQuXG4gICAqL1xuICBzZXQgaXNFZGl0YWJsZShlKSB7XG4gICAgdGhpcy5fdGlwdGFwRWRpdG9yLm9wdGlvbnMuZWRpdGFibGUgIT09IGUgJiYgdGhpcy5fdGlwdGFwRWRpdG9yLnNldEVkaXRhYmxlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIG5ldyBibG9ja3MgaW50byB0aGUgZWRpdG9yLiBJZiBhIGJsb2NrJ3MgYGlkYCBpcyB1bmRlZmluZWQsIEJsb2NrTm90ZSBnZW5lcmF0ZXMgb25lIGF1dG9tYXRpY2FsbHkuIFRocm93cyBhblxuICAgKiBlcnJvciBpZiB0aGUgcmVmZXJlbmNlIGJsb2NrIGNvdWxkIG5vdCBiZSBmb3VuZC5cbiAgICogQHBhcmFtIGJsb2Nrc1RvSW5zZXJ0IEFuIGFycmF5IG9mIHBhcnRpYWwgYmxvY2tzIHRoYXQgc2hvdWxkIGJlIGluc2VydGVkLlxuICAgKiBAcGFyYW0gcmVmZXJlbmNlQmxvY2sgQW4gaWRlbnRpZmllciBmb3IgYW4gZXhpc3RpbmcgYmxvY2ssIGF0IHdoaWNoIHRoZSBuZXcgYmxvY2tzIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAgICogQHBhcmFtIHBsYWNlbWVudCBXaGV0aGVyIHRoZSBibG9ja3Mgc2hvdWxkIGJlIGluc2VydGVkIGp1c3QgYmVmb3JlLCBqdXN0IGFmdGVyLCBvciBuZXN0ZWQgaW5zaWRlIHRoZVxuICAgKiBgcmVmZXJlbmNlQmxvY2tgLiBJbnNlcnRzIHRoZSBibG9ja3MgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleGlzdGluZyBibG9jaydzIGNoaWxkcmVuIGlmIFwibmVzdGVkXCIgaXMgdXNlZC5cbiAgICovXG4gIGluc2VydEJsb2NrcyhlLCBvLCBpID0gXCJiZWZvcmVcIikge1xuICAgIHJldHVybiBQaShlLCBvLCBpLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBhbiBleGlzdGluZyBibG9jayBpbiB0aGUgZWRpdG9yLiBTaW5jZSB1cGRhdGVkQmxvY2sgaXMgYSBQYXJ0aWFsQmxvY2sgb2JqZWN0LCBzb21lIGZpZWxkcyBtaWdodCBub3QgYmVcbiAgICogZGVmaW5lZC4gVGhlc2UgdW5kZWZpbmVkIGZpZWxkcyBhcmUga2VwdCBhcy1pcyBmcm9tIHRoZSBleGlzdGluZyBibG9jay4gVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBibG9jayB0byB1cGRhdGUgY291bGRcbiAgICogbm90IGJlIGZvdW5kLlxuICAgKiBAcGFyYW0gYmxvY2tUb1VwZGF0ZSBUaGUgYmxvY2sgdGhhdCBzaG91bGQgYmUgdXBkYXRlZC5cbiAgICogQHBhcmFtIHVwZGF0ZSBBIHBhcnRpYWwgYmxvY2sgd2hpY2ggZGVmaW5lcyBob3cgdGhlIGV4aXN0aW5nIGJsb2NrIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgKi9cbiAgdXBkYXRlQmxvY2soZSwgbykge1xuICAgIHJldHVybiBIaShlLCBvLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBleGlzdGluZyBibG9ja3MgZnJvbSB0aGUgZWRpdG9yLiBUaHJvd3MgYW4gZXJyb3IgaWYgYW55IG9mIHRoZSBibG9ja3MgY291bGQgbm90IGJlIGZvdW5kLlxuICAgKiBAcGFyYW0gYmxvY2tzVG9SZW1vdmUgQW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgZm9yIGV4aXN0aW5nIGJsb2NrcyB0aGF0IHNob3VsZCBiZSByZW1vdmVkLlxuICAgKi9cbiAgcmVtb3ZlQmxvY2tzKGUpIHtcbiAgICByZXR1cm4gVWkoZSwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGV4aXN0aW5nIGJsb2NrcyBpbiB0aGUgZWRpdG9yIHdpdGggbmV3IGJsb2Nrcy4gSWYgdGhlIGJsb2NrcyB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFyZSBub3QgYWRqYWNlbnQgb3JcbiAgICogYXJlIGF0IGRpZmZlcmVudCBuZXN0aW5nIGxldmVscywgYGJsb2Nrc1RvSW5zZXJ0YCB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgYmxvY2sgaW5cbiAgICogYGJsb2Nrc1RvUmVtb3ZlYC4gVGhyb3dzIGFuIGVycm9yIGlmIGFueSBvZiB0aGUgYmxvY2tzIHRvIHJlbW92ZSBjb3VsZCBub3QgYmUgZm91bmQuXG4gICAqIEBwYXJhbSBibG9ja3NUb1JlbW92ZSBBbiBhcnJheSBvZiBibG9ja3MgdGhhdCBzaG91bGQgYmUgcmVwbGFjZWQuXG4gICAqIEBwYXJhbSBibG9ja3NUb0luc2VydCBBbiBhcnJheSBvZiBwYXJ0aWFsIGJsb2NrcyB0byByZXBsYWNlIHRoZSBvbGQgb25lcyB3aXRoLlxuICAgKi9cbiAgcmVwbGFjZUJsb2NrcyhlLCBvKSB7XG4gICAgcmV0dXJuIERpKGUsIG8sIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgYSBwaWVjZSBvZiBjb250ZW50IGF0IHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRlbnQgY2FuIGJlIGEgc3RyaW5nLCBvciBhcnJheSBvZiBwYXJ0aWFsIGlubGluZSBjb250ZW50IGVsZW1lbnRzXG4gICAqL1xuICBpbnNlcnRJbmxpbmVDb250ZW50KGUpIHtcbiAgICBjb25zdCBvID0gaWUoXG4gICAgICBlLFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnNjaGVtYSxcbiAgICAgIHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hXG4gICAgKTtcbiAgICBPaShcbiAgICAgIHtcbiAgICAgICAgZnJvbTogdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5mcm9tLFxuICAgICAgICB0bzogdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi50b1xuICAgICAgfSxcbiAgICAgIG8sXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB0aGUgYWN0aXZlIHRleHQgc3R5bGVzIGF0IHRoZSB0ZXh0IGN1cnNvciBwb3NpdGlvbiBvciBhdCB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpZiBpdCdzIGFjdGl2ZS5cbiAgICovXG4gIGdldEFjdGl2ZVN0eWxlcygpIHtcbiAgICBjb25zdCBlID0ge30sIG8gPSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLiR0by5tYXJrcygpO1xuICAgIGZvciAoY29uc3QgaSBvZiBvKSB7XG4gICAgICBjb25zdCBuID0gdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWFbaS50eXBlLm5hbWVdO1xuICAgICAgaWYgKCFuKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIm1hcmsgbm90IGZvdW5kIGluIHN0eWxlc2NoZW1hXCIsIGkudHlwZS5uYW1lKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBuLnByb3BTY2hlbWEgPT09IFwiYm9vbGVhblwiID8gZVtuLnR5cGVdID0gITAgOiBlW24udHlwZV0gPSBpLmF0dHJzLnN0cmluZ1ZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBzdHlsZXMgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjb250ZW50LlxuICAgKiBAcGFyYW0gc3R5bGVzIFRoZSBzdHlsZXMgdG8gYWRkLlxuICAgKi9cbiAgYWRkU3R5bGVzKGUpIHtcbiAgICBmb3IgKGNvbnN0IFtvLCBpXSBvZiBPYmplY3QuZW50cmllcyhlKSkge1xuICAgICAgY29uc3QgbiA9IHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hW29dO1xuICAgICAgaWYgKCFuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0eWxlICR7b30gbm90IGZvdW5kIGluIHN0eWxlU2NoZW1hYCk7XG4gICAgICBpZiAobi5wcm9wU2NoZW1hID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnNldE1hcmsobyk7XG4gICAgICBlbHNlIGlmIChuLnByb3BTY2hlbWEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXRNYXJrKG8sIHsgc3RyaW5nVmFsdWU6IGkgfSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBJKG4ucHJvcFNjaGVtYSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIHN0eWxlcyBmcm9tIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgY29udGVudC5cbiAgICogQHBhcmFtIHN0eWxlcyBUaGUgc3R5bGVzIHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZVN0eWxlcyhlKSB7XG4gICAgZm9yIChjb25zdCBvIG9mIE9iamVjdC5rZXlzKGUpKVxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnVuc2V0TWFyayhvKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBzdHlsZXMgb24gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjb250ZW50LlxuICAgKiBAcGFyYW0gc3R5bGVzIFRoZSBzdHlsZXMgdG8gdG9nZ2xlLlxuICAgKi9cbiAgdG9nZ2xlU3R5bGVzKGUpIHtcbiAgICBmb3IgKGNvbnN0IFtvLCBpXSBvZiBPYmplY3QuZW50cmllcyhlKSkge1xuICAgICAgY29uc3QgbiA9IHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hW29dO1xuICAgICAgaWYgKCFuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0eWxlICR7b30gbm90IGZvdW5kIGluIHN0eWxlU2NoZW1hYCk7XG4gICAgICBpZiAobi5wcm9wU2NoZW1hID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnRvZ2dsZU1hcmsobyk7XG4gICAgICBlbHNlIGlmIChuLnByb3BTY2hlbWEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy50b2dnbGVNYXJrKG8sIHsgc3RyaW5nVmFsdWU6IGkgfSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBJKG4ucHJvcFNjaGVtYSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGV4dC5cbiAgICovXG4gIGdldFNlbGVjdGVkVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy50ZXh0QmV0d2VlbihcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbSxcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24udG9cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBVUkwgb2YgdGhlIGxhc3QgbGluayBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24sIG9yIGB1bmRlZmluZWRgIGlmIHRoZXJlIGFyZSBubyBsaW5rcyBpbiB0aGUgc2VsZWN0aW9uLlxuICAgKi9cbiAgZ2V0U2VsZWN0ZWRMaW5rVXJsKCkge1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3IuZ2V0QXR0cmlidXRlcyhcImxpbmtcIikuaHJlZjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBsaW5rIHRvIHJlcGxhY2UgdGhlIHNlbGVjdGVkIGNvbnRlbnQuXG4gICAqIEBwYXJhbSB1cmwgVGhlIGxpbmsgVVJMLlxuICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBkaXNwbGF5IHRoZSBsaW5rIHdpdGguXG4gICAqL1xuICBjcmVhdGVMaW5rKGUsIG8pIHtcbiAgICBpZiAoZSA9PT0gXCJcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGZyb206IGksIHRvOiBuIH0gPSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xuICAgIG8gfHwgKG8gPSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLnRleHRCZXR3ZWVuKGksIG4pKTtcbiAgICBjb25zdCByID0gdGhpcy5fdGlwdGFwRWRpdG9yLnNjaGVtYS5tYXJrKFwibGlua1wiLCB7IGhyZWY6IGUgfSk7XG4gICAgdGhpcy5fdGlwdGFwRWRpdG9yLnZpZXcuZGlzcGF0Y2goXG4gICAgICB0aGlzLl90aXB0YXBFZGl0b3Iudmlldy5zdGF0ZS50ci5pbnNlcnRUZXh0KG8sIGksIG4pLmFkZE1hcmsoaSwgaSArIG8ubGVuZ3RoLCByKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgYmxvY2sgY29udGFpbmluZyB0aGUgdGV4dCBjdXJzb3IgY2FuIGJlIG5lc3RlZC5cbiAgICovXG4gIGNhbk5lc3RCbG9jaygpIHtcbiAgICBjb25zdCB7IHN0YXJ0UG9zOiBlLCBkZXB0aDogbyB9ID0gYihcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MsXG4gICAgICB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmZyb21cbiAgICApO1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLnJlc29sdmUoZSkuaW5kZXgobyAtIDEpID4gMDtcbiAgfVxuICAvKipcbiAgICogTmVzdHMgdGhlIGJsb2NrIGNvbnRhaW5pbmcgdGhlIHRleHQgY3Vyc29yIGludG8gdGhlIGJsb2NrIGFib3ZlIGl0LlxuICAgKi9cbiAgbmVzdEJsb2NrKCkge1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zaW5rTGlzdEl0ZW0oXCJibG9ja0NvbnRhaW5lclwiKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBibG9jayBjb250YWluaW5nIHRoZSB0ZXh0IGN1cnNvciBpcyBuZXN0ZWQuXG4gICAqL1xuICBjYW5Vbm5lc3RCbG9jaygpIHtcbiAgICBjb25zdCB7IGRlcHRoOiBlIH0gPSBiKFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYyxcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbVxuICAgICk7XG4gICAgcmV0dXJuIGUgPiAyO1xuICB9XG4gIC8qKlxuICAgKiBMaWZ0cyB0aGUgYmxvY2sgY29udGFpbmluZyB0aGUgdGV4dCBjdXJzb3Igb3V0IG9mIGl0cyBwYXJlbnQuXG4gICAqL1xuICB1bm5lc3RCbG9jaygpIHtcbiAgICB0aGlzLl90aXB0YXBFZGl0b3IuY29tbWFuZHMubGlmdExpc3RJdGVtKFwiYmxvY2tDb250YWluZXJcIik7XG4gIH1cbiAgLy8gVE9ETzogRml4IHdoZW4gaW1wbGVtZW50aW5nIEhUTUwvTWFya2Rvd24gaW1wb3J0ICYgZXhwb3J0XG4gIC8qKlxuICAgKiBTZXJpYWxpemVzIGJsb2NrcyBpbnRvIGFuIEhUTUwgc3RyaW5nLiBUbyBiZXR0ZXIgY29uZm9ybSB0byBIVE1MIHN0YW5kYXJkcywgY2hpbGRyZW4gb2YgYmxvY2tzIHdoaWNoIGFyZW4ndCBsaXN0XG4gICAqIGl0ZW1zIGFyZSB1bi1uZXN0ZWQgaW4gdGhlIG91dHB1dCBIVE1MLlxuICAgKiBAcGFyYW0gYmxvY2tzIEFuIGFycmF5IG9mIGJsb2NrcyB0aGF0IHNob3VsZCBiZSBzZXJpYWxpemVkIGludG8gSFRNTC5cbiAgICogQHJldHVybnMgVGhlIGJsb2Nrcywgc2VyaWFsaXplZCBhcyBhbiBIVE1MIHN0cmluZy5cbiAgICovXG4gIGFzeW5jIGJsb2Nrc1RvSFRNTExvc3N5KGUgPSB0aGlzLmRvY3VtZW50KSB7XG4gICAgcmV0dXJuIG5lKFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnNjaGVtYSxcbiAgICAgIHRoaXNcbiAgICApLmV4cG9ydEJsb2NrcyhlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2VzIGJsb2NrcyBmcm9tIGFuIEhUTUwgc3RyaW5nLiBUcmllcyB0byBjcmVhdGUgYEJsb2NrYCBvYmplY3RzIG91dCBvZiBhbnkgSFRNTCBibG9jay1sZXZlbCBlbGVtZW50cywgYW5kXG4gICAqIGBJbmxpbmVOb2RlYCBvYmplY3RzIGZyb20gYW55IEhUTUwgaW5saW5lIGVsZW1lbnRzLCB0aG91Z2ggbm90IGFsbCBlbGVtZW50IHR5cGVzIGFyZSByZWNvZ25pemVkLiBJZiBCbG9ja05vdGVcbiAgICogZG9lc24ndCByZWNvZ25pemUgYW4gSFRNTCBlbGVtZW50J3MgdGFnLCBpdCB3aWxsIHBhcnNlIGl0IGFzIGEgcGFyYWdyYXBoIG9yIHBsYWluIHRleHQuXG4gICAqIEBwYXJhbSBodG1sIFRoZSBIVE1MIHN0cmluZyB0byBwYXJzZSBibG9ja3MgZnJvbS5cbiAgICogQHJldHVybnMgVGhlIGJsb2NrcyBwYXJzZWQgZnJvbSB0aGUgSFRNTCBzdHJpbmcuXG4gICAqL1xuICBhc3luYyB0cnlQYXJzZUhUTUxUb0Jsb2NrcyhlKSB7XG4gICAgcmV0dXJuIGt0KFxuICAgICAgZSxcbiAgICAgIHRoaXMuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgdGhpcy5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgIHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnNjaGVtYVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgYmxvY2tzIGludG8gYSBNYXJrZG93biBzdHJpbmcuIFRoZSBvdXRwdXQgaXMgc2ltcGxpZmllZCBhcyBNYXJrZG93biBkb2VzIG5vdCBzdXBwb3J0IGFsbCBmZWF0dXJlcyBvZlxuICAgKiBCbG9ja05vdGUgLSBjaGlsZHJlbiBvZiBibG9ja3Mgd2hpY2ggYXJlbid0IGxpc3QgaXRlbXMgYXJlIHVuLW5lc3RlZCBhbmQgY2VydGFpbiBzdHlsZXMgYXJlIHJlbW92ZWQuXG4gICAqIEBwYXJhbSBibG9ja3MgQW4gYXJyYXkgb2YgYmxvY2tzIHRoYXQgc2hvdWxkIGJlIHNlcmlhbGl6ZWQgaW50byBNYXJrZG93bi5cbiAgICogQHJldHVybnMgVGhlIGJsb2Nrcywgc2VyaWFsaXplZCBhcyBhIE1hcmtkb3duIHN0cmluZy5cbiAgICovXG4gIGFzeW5jIGJsb2Nrc1RvTWFya2Rvd25Mb3NzeShlID0gdGhpcy5kb2N1bWVudCkge1xuICAgIHJldHVybiBWaShlLCB0aGlzLl90aXB0YXBFZGl0b3Iuc2NoZW1hLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIGxpc3Qgb2YgYmxvY2tzIGZyb20gYSBNYXJrZG93biBzdHJpbmcuIFRyaWVzIHRvIGNyZWF0ZSBgQmxvY2tgIGFuZCBgSW5saW5lTm9kZWAgb2JqZWN0cyBiYXNlZCBvblxuICAgKiBNYXJrZG93biBzeW50YXgsIHRob3VnaCBub3QgYWxsIHN5bWJvbHMgYXJlIHJlY29nbml6ZWQuIElmIEJsb2NrTm90ZSBkb2Vzbid0IHJlY29nbml6ZSBhIHN5bWJvbCwgaXQgd2lsbCBwYXJzZSBpdFxuICAgKiBhcyB0ZXh0LlxuICAgKiBAcGFyYW0gbWFya2Rvd24gVGhlIE1hcmtkb3duIHN0cmluZyB0byBwYXJzZSBibG9ja3MgZnJvbS5cbiAgICogQHJldHVybnMgVGhlIGJsb2NrcyBwYXJzZWQgZnJvbSB0aGUgTWFya2Rvd24gc3RyaW5nLlxuICAgKi9cbiAgYXN5bmMgdHJ5UGFyc2VNYXJrZG93blRvQmxvY2tzKGUpIHtcbiAgICByZXR1cm4gS2koXG4gICAgICBlLFxuICAgICAgdGhpcy5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICB0aGlzLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICB0aGlzLl90aXB0YXBFZGl0b3Iuc2NoZW1hXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdXNlciBpbmZvIGZvciB0aGUgY3VycmVudCB1c2VyIHRoYXQncyBzaG93biB0byBvdGhlciBjb2xsYWJvcmF0b3JzLlxuICAgKi9cbiAgdXBkYXRlQ29sbGFib3JhdGlvblVzZXJJbmZvKGUpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jb2xsYWJvcmF0aW9uKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNhbm5vdCB1cGRhdGUgY29sbGFib3JhdGlvbiB1c2VyIGluZm8gd2hlbiBjb2xsYWJvcmF0aW9uIGlzIGRpc2FibGVkLlwiXG4gICAgICApO1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy51cGRhdGVVc2VyKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgcnVucyB3aGVuZXZlciB0aGUgZWRpdG9yJ3MgY29udGVudHMgY2hhbmdlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUuXG4gICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBjYWxsYmFjay5cbiAgICovXG4gIG9uQ2hhbmdlKGUpIHtcbiAgICBjb25zdCBvID0gKCkgPT4ge1xuICAgICAgZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iub24oXCJ1cGRhdGVcIiwgbyksICgpID0+IHtcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5vZmYoXCJ1cGRhdGVcIiwgbyk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHJ1bnMgd2hlbmV2ZXIgdGhlIHRleHQgY3Vyc29yIHBvc2l0aW9uIG9yIHNlbGVjdGlvbiBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUuXG4gICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBjYWxsYmFjay5cbiAgICovXG4gIG9uU2VsZWN0aW9uQ2hhbmdlKGUpIHtcbiAgICBjb25zdCBvID0gKCkgPT4ge1xuICAgICAgZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iub24oXCJzZWxlY3Rpb25VcGRhdGVcIiwgbyksICgpID0+IHtcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5vZmYoXCJzZWxlY3Rpb25VcGRhdGVcIiwgbyk7XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gUm4odCkge1xuICBsZXQgZSA9IHQuZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2ssIG8gPSB0LnNjaGVtYS5ibG9ja1NjaGVtYVtlLnR5cGVdLmNvbnRlbnQ7XG4gIGZvciAoOyBvID09PSBcIm5vbmVcIjsgKVxuICAgIGUgPSB0LmdldFRleHRDdXJzb3JQb3NpdGlvbigpLm5leHRCbG9jaywgbyA9IHQuc2NoZW1hLmJsb2NrU2NoZW1hW2UudHlwZV0uY29udGVudCwgdC5zZXRUZXh0Q3Vyc29yUG9zaXRpb24oZSwgXCJlbmRcIik7XG59XG5mdW5jdGlvbiBDKHQsIGUpIHtcbiAgY29uc3QgbyA9IHQuZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2s7XG4gIGlmIChvLmNvbnRlbnQgPT09IHZvaWQgMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTbGFzaCBNZW51IG9wZW4gaW4gYSBibG9jayB0aGF0IGRvZXNuJ3QgY29udGFpbiBjb250ZW50LlwiKTtcbiAgQXJyYXkuaXNBcnJheShvLmNvbnRlbnQpICYmIChvLmNvbnRlbnQubGVuZ3RoID09PSAxICYmIFooby5jb250ZW50WzBdKSAmJiBvLmNvbnRlbnRbMF0udHlwZSA9PT0gXCJ0ZXh0XCIgJiYgby5jb250ZW50WzBdLnRleHQgPT09IFwiL1wiIHx8IG8uY29udGVudC5sZW5ndGggPT09IDApID8gdC51cGRhdGVCbG9jayhvLCBlKSA6ICh0Lmluc2VydEJsb2NrcyhbZV0sIG8sIFwiYWZ0ZXJcIiksIHQuc2V0VGV4dEN1cnNvclBvc2l0aW9uKFxuICAgIHQuZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkubmV4dEJsb2NrLFxuICAgIFwiZW5kXCJcbiAgKSk7XG4gIGNvbnN0IGkgPSB0LmdldFRleHRDdXJzb3JQb3NpdGlvbigpLmJsb2NrO1xuICByZXR1cm4gUm4odCksIGk7XG59XG5mdW5jdGlvbiBEcih0KSB7XG4gIGNvbnN0IGUgPSBbXTtcbiAgcmV0dXJuIFMoXCJoZWFkaW5nXCIsIHQpICYmIGUucHVzaChcbiAgICB7XG4gICAgICBvbkl0ZW1DbGljazogKCkgPT4ge1xuICAgICAgICBDKHQsIHtcbiAgICAgICAgICB0eXBlOiBcImhlYWRpbmdcIixcbiAgICAgICAgICBwcm9wczogeyBsZXZlbDogMSB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGJhZGdlOiBSKFwiTW9kLUFsdC0xXCIpLFxuICAgICAga2V5OiBcImhlYWRpbmdcIixcbiAgICAgIC4uLnQuZGljdGlvbmFyeS5zbGFzaF9tZW51LmhlYWRpbmdcbiAgICB9LFxuICAgIHtcbiAgICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICAgIEModCwge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7IGxldmVsOiAyIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgYmFkZ2U6IFIoXCJNb2QtQWx0LTJcIiksXG4gICAgICBrZXk6IFwiaGVhZGluZ18yXCIsXG4gICAgICAuLi50LmRpY3Rpb25hcnkuc2xhc2hfbWVudS5oZWFkaW5nXzJcbiAgICB9LFxuICAgIHtcbiAgICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICAgIEModCwge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7IGxldmVsOiAzIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgYmFkZ2U6IFIoXCJNb2QtQWx0LTNcIiksXG4gICAgICBrZXk6IFwiaGVhZGluZ18zXCIsXG4gICAgICAuLi50LmRpY3Rpb25hcnkuc2xhc2hfbWVudS5oZWFkaW5nXzNcbiAgICB9XG4gICksIFMoXCJudW1iZXJlZExpc3RJdGVtXCIsIHQpICYmIGUucHVzaCh7XG4gICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgIEModCwge1xuICAgICAgICB0eXBlOiBcIm51bWJlcmVkTGlzdEl0ZW1cIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBiYWRnZTogUihcIk1vZC1TaGlmdC03XCIpLFxuICAgIGtleTogXCJudW1iZXJlZF9saXN0XCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUubnVtYmVyZWRfbGlzdFxuICB9KSwgUyhcImJ1bGxldExpc3RJdGVtXCIsIHQpICYmIGUucHVzaCh7XG4gICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgIEModCwge1xuICAgICAgICB0eXBlOiBcImJ1bGxldExpc3RJdGVtXCJcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYmFkZ2U6IFIoXCJNb2QtU2hpZnQtOFwiKSxcbiAgICBrZXk6IFwiYnVsbGV0X2xpc3RcIixcbiAgICAuLi50LmRpY3Rpb25hcnkuc2xhc2hfbWVudS5idWxsZXRfbGlzdFxuICB9KSwgUyhcInBhcmFncmFwaFwiLCB0KSAmJiBlLnB1c2goe1xuICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICBDKHQsIHtcbiAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBiYWRnZTogUihcIk1vZC1BbHQtMFwiKSxcbiAgICBrZXk6IFwicGFyYWdyYXBoXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUucGFyYWdyYXBoXG4gIH0pLCBTKFwidGFibGVcIiwgdCkgJiYgZS5wdXNoKHtcbiAgICBvbkl0ZW1DbGljazogKCkgPT4ge1xuICAgICAgQyh0LCB7XG4gICAgICAgIHR5cGU6IFwidGFibGVcIixcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVDb250ZW50XCIsXG4gICAgICAgICAgcm93czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjZWxsczogW1wiXCIsIFwiXCIsIFwiXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjZWxsczogW1wiXCIsIFwiXCIsIFwiXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGJhZGdlOiB2b2lkIDAsXG4gICAga2V5OiBcInRhYmxlXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUudGFibGVcbiAgfSksIFMoXCJpbWFnZVwiLCB0KSAmJiBlLnB1c2goe1xuICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICBjb25zdCBvID0gQyh0LCB7XG4gICAgICAgIHR5cGU6IFwiaW1hZ2VcIlxuICAgICAgfSk7XG4gICAgICB0LnByb3NlbWlycm9yVmlldy5kaXNwYXRjaChcbiAgICAgICAgdC5fdGlwdGFwRWRpdG9yLnN0YXRlLnRyLnNldE1ldGEodC5maWxlUGFuZWwucGx1Z2luLCB7XG4gICAgICAgICAgYmxvY2s6IG9cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBrZXk6IFwiaW1hZ2VcIixcbiAgICAuLi50LmRpY3Rpb25hcnkuc2xhc2hfbWVudS5pbWFnZVxuICB9KSwgUyhcInZpZGVvXCIsIHQpICYmIGUucHVzaCh7XG4gICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBDKHQsIHtcbiAgICAgICAgdHlwZTogXCJ2aWRlb1wiXG4gICAgICB9KTtcbiAgICAgIHQucHJvc2VtaXJyb3JWaWV3LmRpc3BhdGNoKFxuICAgICAgICB0Ll90aXB0YXBFZGl0b3Iuc3RhdGUudHIuc2V0TWV0YSh0LmZpbGVQYW5lbC5wbHVnaW4sIHtcbiAgICAgICAgICBibG9jazogb1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIGtleTogXCJ2aWRlb1wiLFxuICAgIC4uLnQuZGljdGlvbmFyeS5zbGFzaF9tZW51LnZpZGVvXG4gIH0pLCBTKFwiYXVkaW9cIiwgdCkgJiYgZS5wdXNoKHtcbiAgICBvbkl0ZW1DbGljazogKCkgPT4ge1xuICAgICAgY29uc3QgbyA9IEModCwge1xuICAgICAgICB0eXBlOiBcImF1ZGlvXCJcbiAgICAgIH0pO1xuICAgICAgdC5wcm9zZW1pcnJvclZpZXcuZGlzcGF0Y2goXG4gICAgICAgIHQuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKHQuZmlsZVBhbmVsLnBsdWdpbiwge1xuICAgICAgICAgIGJsb2NrOiBvXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAga2V5OiBcImF1ZGlvXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuYXVkaW9cbiAgfSksIFMoXCJmaWxlXCIsIHQpICYmIGUucHVzaCh7XG4gICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBDKHQsIHtcbiAgICAgICAgdHlwZTogXCJmaWxlXCJcbiAgICAgIH0pO1xuICAgICAgdC5wcm9zZW1pcnJvclZpZXcuZGlzcGF0Y2goXG4gICAgICAgIHQuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKHQuZmlsZVBhbmVsLnBsdWdpbiwge1xuICAgICAgICAgIGJsb2NrOiBvXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAga2V5OiBcImltYWdlXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuZmlsZVxuICB9KSwgZTtcbn1cbmZ1bmN0aW9uIE9yKHQsIGUpIHtcbiAgcmV0dXJuIHQuZmlsdGVyKFxuICAgICh7IHRpdGxlOiBvLCBhbGlhc2VzOiBpIH0pID0+IG8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlLnRvTG93ZXJDYXNlKCkpIHx8IGkgJiYgaS5maWx0ZXIoXG4gICAgICAobikgPT4gbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSlcbiAgICApLmxlbmd0aCAhPT0gMFxuICApO1xufVxuZnVuY3Rpb24gZmUodCA9IFwiXCIpIHtcbiAgcmV0dXJuIHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyBbXG4gICAge1xuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICB0ZXh0OiB0LFxuICAgICAgc3R5bGVzOiB7fVxuICAgIH1cbiAgXSA6IHQ7XG59XG5mdW5jdGlvbiB3dCh0KSB7XG4gIHJldHVybiB0eXBlb2YgdCA9PSBcInN0cmluZ1wiID8gZmUodCkgOiBBcnJheS5pc0FycmF5KHQpID8gdC5mbGF0TWFwKChlKSA9PiB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gZmUoZSkgOiBZZShlKSA/IHtcbiAgICAuLi5lLFxuICAgIGNvbnRlbnQ6IGZlKGUuY29udGVudClcbiAgfSA6IFooZSkgPyBlIDoge1xuICAgIHByb3BzOiB7fSxcbiAgICAuLi5lLFxuICAgIGNvbnRlbnQ6IHd0KGUuY29udGVudClcbiAgfSkgOiB0O1xufVxuZnVuY3Rpb24gUnIodCwgZSkge1xuICByZXR1cm4gZS5tYXAoXG4gICAgKG8pID0+IHZ0KHQsIG8pXG4gICk7XG59XG5mdW5jdGlvbiB2dCh0LCBlKSB7XG4gIGNvbnN0IG8gPSB7XG4gICAgaWQ6IFwiXCIsXG4gICAgdHlwZTogZS50eXBlLFxuICAgIHByb3BzOiB7fSxcbiAgICBjb250ZW50OiB0W2UudHlwZV0uY29udGVudCA9PT0gXCJpbmxpbmVcIiA/IFtdIDogdm9pZCAwLFxuICAgIGNoaWxkcmVuOiBbXSxcbiAgICAuLi5lXG4gIH07XG4gIHJldHVybiBPYmplY3QuZW50cmllcyh0W2UudHlwZV0ucHJvcFNjaGVtYSkuZm9yRWFjaChcbiAgICAoW2ksIG5dKSA9PiB7XG4gICAgICBvLnByb3BzW2ldID09PSB2b2lkIDAgJiYgKG8ucHJvcHNbaV0gPSBuLmRlZmF1bHQpO1xuICAgIH1cbiAgKSwge1xuICAgIC4uLm8sXG4gICAgY29udGVudDogd3Qoby5jb250ZW50KSxcbiAgICBjaGlsZHJlbjogby5jaGlsZHJlbi5tYXAoKGkpID0+IHZ0KHQsIGkpKVxuICB9O1xufVxuZnVuY3Rpb24gVm4odCkge1xuICB0LmlkIHx8ICh0LmlkID0gSi5vcHRpb25zLmdlbmVyYXRlSUQoKSksIHQuY2hpbGRyZW4gJiYgam4odC5jaGlsZHJlbik7XG59XG5mdW5jdGlvbiBqbih0KSB7XG4gIGZvciAoY29uc3QgZSBvZiB0KVxuICAgIFZuKGUpO1xufVxuZXhwb3J0IHtcbiAgbGkgYXMgQXVkaW9CbG9jayxcbiAgX3QgYXMgQmxvY2tOb3RlRWRpdG9yLFxuICBUZSBhcyBCbG9ja05vdGVTY2hlbWEsXG4gIEdvIGFzIEZpbGVCbG9jayxcbiAgWGkgYXMgRmlsZVBhbmVsUHJvc2VtaXJyb3JQbHVnaW4sXG4gIHFpIGFzIEZpbGVQYW5lbFZpZXcsXG4gIFlpIGFzIEZvcm1hdHRpbmdUb29sYmFyUHJvc2VtaXJyb3JQbHVnaW4sXG4gIFppIGFzIEZvcm1hdHRpbmdUb29sYmFyVmlldyxcbiAgWm8gYXMgSW1hZ2VCbG9jayxcbiAgdG4gYXMgTGlua1Rvb2xiYXJQcm9zZW1pcnJvclBsdWdpbixcbiAgdW4gYXMgU2lkZU1lbnVQcm9zZW1pcnJvclBsdWdpbixcbiAgZG4gYXMgU2lkZU1lbnVWaWV3LFxuICBybiBhcyBTdWdnZXN0aW9uTWVudVByb3NlTWlycm9yUGx1Z2luLFxuICBnbiBhcyBUYWJsZUhhbmRsZXNQcm9zZW1pcnJvclBsdWdpbixcbiAgZm4gYXMgVGFibGVIYW5kbGVzVmlldyxcbiAgSiBhcyBVbmlxdWVJRCxcbiAgSSBhcyBVbnJlYWNoYWJsZUNhc2VFcnJvcixcbiAgb2kgYXMgVmlkZW9CbG9jayxcbiAgVm4gYXMgYWRkSWRzVG9CbG9jayxcbiAgam4gYXMgYWRkSWRzVG9CbG9ja3MsXG4gIElvIGFzIGFkZElubGluZUNvbnRlbnRBdHRyaWJ1dGVzLFxuICBBbyBhcyBhZGRJbmxpbmVDb250ZW50S2V5Ym9hcmRTaG9ydGN1dHMsXG4gIERvIGFzIGFkZFN0eWxlQXR0cmlidXRlcyxcbiAgeHIgYXMgYXNzZXJ0RW1wdHksXG4gIG5pIGFzIGF1ZGlvQmxvY2tDb25maWcsXG4gIGFpIGFzIGF1ZGlvUGFyc2UsXG4gIGlpIGFzIGF1ZGlvUHJvcFNjaGVtYSxcbiAgcmkgYXMgYXVkaW9SZW5kZXIsXG4gIHNpIGFzIGF1ZGlvVG9FeHRlcm5hbEhUTUwsXG4gIE4gYXMgYmxvY2tUb05vZGUsXG4gIG9lIGFzIGNhbWVsVG9EYXRhS2ViYWIsXG4gIEhyIGFzIGNoZWNrQmxvY2tIYXNEZWZhdWx0UHJvcCxcbiAgSXIgYXMgY2hlY2tCbG9ja0lzRGVmYXVsdFR5cGUsXG4gIEFyIGFzIGNoZWNrQmxvY2tJc0ZpbGVCbG9jayxcbiAgUHIgYXMgY2hlY2tCbG9ja0lzRmlsZUJsb2NrV2l0aFBsYWNlaG9sZGVyLFxuICBOciBhcyBjaGVja0Jsb2NrSXNGaWxlQmxvY2tXaXRoUHJldmlldyxcbiAgTmkgYXMgY2hlY2tCbG9ja1R5cGVIYXNEZWZhdWx0UHJvcCxcbiAgUyBhcyBjaGVja0RlZmF1bHRCbG9ja1R5cGVJblNjaGVtYSxcbiAgdmUgYXMgY29udGVudE5vZGVUb0lubGluZUNvbnRlbnQsXG4gIHNlIGFzIGNyZWF0ZUFkZEZpbGVCdXR0b24sXG4gIHJlIGFzIGNyZWF0ZUJsb2NrU3BlYyxcbiAgUSBhcyBjcmVhdGVCbG9ja1NwZWNGcm9tU3Ryb25nbHlUeXBlZFRpcHRhcE5vZGUsXG4gIGFlIGFzIGNyZWF0ZURlZmF1bHRGaWxlUHJldmlldyxcbiAgbmUgYXMgY3JlYXRlRXh0ZXJuYWxIVE1MRXhwb3J0ZXIsXG4gIHhlIGFzIGNyZWF0ZUZpZ3VyZVdpdGhDYXB0aW9uLFxuICBPIGFzIGNyZWF0ZUZpbGVBbmRDYXB0aW9uV3JhcHBlcixcbiAgU3IgYXMgY3JlYXRlSW5saW5lQ29udGVudFNwZWMsXG4gIFBvIGFzIGNyZWF0ZUlubGluZUNvbnRlbnRTcGVjRnJvbVRpcFRhcE5vZGUsXG4gIHN0IGFzIGNyZWF0ZUludGVybmFsQmxvY2tTcGVjLFxuICBudCBhcyBjcmVhdGVJbnRlcm5hbEhUTUxTZXJpYWxpemVyLFxuICBObyBhcyBjcmVhdGVJbnRlcm5hbElubGluZUNvbnRlbnRTcGVjLFxuICBjdCBhcyBjcmVhdGVJbnRlcm5hbFN0eWxlU3BlYyxcbiAgZGUgYXMgY3JlYXRlTGlua1dpdGhDYXB0aW9uLFxuICBwdCBhcyBjcmVhdGVSZXNpemVIYW5kbGVzV3JhcHBlcixcbiAgRyBhcyBjcmVhdGVTdHJvbmdseVR5cGVkVGlwdGFwTm9kZSxcbiAgTXIgYXMgY3JlYXRlU3R5bGVTcGVjLFxuICBQIGFzIGNyZWF0ZVN0eWxlU3BlY0Zyb21UaXBUYXBNYXJrLFxuICBVciBhcyBjcmVhdGVTdWdnZXN0aW9uTWVudSxcbiAgQWkgYXMgZGVmYXVsdEJsb2NrU2NoZW1hLFxuICBodCBhcyBkZWZhdWx0QmxvY2tTcGVjcyxcbiAgTHIgYXMgZGVmYXVsdElubGluZUNvbnRlbnRTY2hlbWEsXG4gIGZ0IGFzIGRlZmF1bHRJbmxpbmVDb250ZW50U3BlY3MsXG4gIGsgYXMgZGVmYXVsdFByb3BzLFxuICBCciBhcyBkZWZhdWx0U3R5bGVTY2hlbWEsXG4gIG10IGFzIGRlZmF1bHRTdHlsZVNwZWNzLFxuICBWbyBhcyBmaWxlQmxvY2tDb25maWcsXG4gIHpvIGFzIGZpbGVQYXJzZSxcbiAgUm8gYXMgZmlsZVByb3BTY2hlbWEsXG4gIGpvIGFzIGZpbGVSZW5kZXIsXG4gIEZvIGFzIGZpbGVUb0V4dGVybmFsSFRNTCxcbiAgQ3IgYXMgZmlsZW5hbWVGcm9tVVJMLFxuICBPciBhcyBmaWx0ZXJTdWdnZXN0aW9uSXRlbXMsXG4gIFIgYXMgZm9ybWF0S2V5Ym9hcmRTaG9ydGN1dCxcbiAgSmkgYXMgZm9ybWF0dGluZ1Rvb2xiYXJQbHVnaW5LZXksXG4gIEJvIGFzIGdldEJsb2NrRnJvbVBvcyxcbiAgQW4gYXMgZ2V0QmxvY2tOb3RlRXh0ZW5zaW9ucyxcbiAgbHQgYXMgZ2V0QmxvY2tTY2hlbWFGcm9tU3BlY3MsXG4gIERyIGFzIGdldERlZmF1bHRTbGFzaE1lbnVJdGVtcyxcbiAgTWUgYXMgZ2V0RHJhZ2dhYmxlQmxvY2tGcm9tQ29vcmRzLFxuICBIbyBhcyBnZXRJbmxpbmVDb250ZW50UGFyc2VSdWxlcyxcbiAgZHQgYXMgZ2V0SW5saW5lQ29udGVudFNjaGVtYUZyb21TcGVjcyxcbiAgTG8gYXMgZ2V0UGFyc2VSdWxlcyxcbiAgT28gYXMgZ2V0U3R5bGVQYXJzZVJ1bGVzLFxuICB1dCBhcyBnZXRTdHlsZVNjaGVtYUZyb21TcGVjcyxcbiAgJG8gYXMgaW1hZ2VCbG9ja0NvbmZpZyxcbiAgcW8gYXMgaW1hZ2VQYXJzZSxcbiAgV28gYXMgaW1hZ2VQcm9wU2NoZW1hLFxuICBLbyBhcyBpbWFnZVJlbmRlcixcbiAgWG8gYXMgaW1hZ2VUb0V4dGVybmFsSFRNTCxcbiAgcnQgYXMgaW5oZXJpdGVkUHJvcHMsXG4gIGllIGFzIGlubGluZUNvbnRlbnRUb05vZGVzLFxuICBDIGFzIGluc2VydE9yVXBkYXRlQmxvY2ssXG4gIFRvIGFzIGlzQXBwbGVPUyxcbiAgSGUgYXMgaXNMaW5rSW5saW5lQ29udGVudCxcbiAgWWUgYXMgaXNQYXJ0aWFsTGlua0lubGluZUNvbnRlbnQsXG4gIEVyIGFzIGlzU2FmYXJpLFxuICBaIGFzIGlzU3R5bGVkVGV4dElubGluZUNvbnRlbnQsXG4gIGVuIGFzIGxpbmtUb29sYmFyUGx1Z2luS2V5LFxuICB2ciBhcyBsb2NhbGVzLFxuICBEIGFzIG1lcmdlQ1NTQ2xhc3NlcyxcbiAgXyBhcyBub2RlVG9CbG9jayxcbiAgdHQgYXMgbm9kZVRvQ3VzdG9tSW5saW5lQ29udGVudCxcbiAgT2UgYXMgcGFyc2VFbWJlZEVsZW1lbnQsXG4gIGxlIGFzIHBhcnNlRmlndXJlRWxlbWVudCxcbiAgUmUgYXMgcGFyc2VJbWFnZUVsZW1lbnQsXG4gIHZ0IGFzIHBhcnRpYWxCbG9ja1RvQmxvY2tGb3JUZXN0aW5nLFxuICBSciBhcyBwYXJ0aWFsQmxvY2tzVG9CbG9ja3NGb3JUZXN0aW5nLFxuICBhdCBhcyBwcm9wc1RvQXR0cmlidXRlcyxcbiAgY24gYXMgc2lkZU1lbnVQbHVnaW5LZXksXG4gIFVvIGFzIHN0eWxlUHJvcHNUb0F0dHJpYnV0ZXMsXG4gIFUgYXMgc3VnZ2VzdGlvbk1lbnVQbHVnaW5LZXksXG4gIFFlIGFzIHRhYmxlQ29udGVudFRvTm9kZXMsXG4gIFggYXMgdGFibGVIYW5kbGVzUGx1Z2luS2V5LFxuICBUciBhcyB1cGxvYWRUb1RtcEZpbGVzRG90T3JnX0RFVl9PTkxZLFxuICBZbyBhcyB2aWRlb0Jsb2NrQ29uZmlnLFxuICBlaSBhcyB2aWRlb1BhcnNlLFxuICBKbyBhcyB2aWRlb1Byb3BTY2hlbWEsXG4gIFFvIGFzIHZpZGVvUmVuZGVyLFxuICB0aSBhcyB2aWRlb1RvRXh0ZXJuYWxIVE1MLFxuICBwZSBhcyB3cmFwSW5CbG9ja1N0cnVjdHVyZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2Nrbm90ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@blocknote/core/dist/blocknote.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@blocknote/mantine/dist/blocknote-mantine.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@blocknote/mantine/dist/blocknote-mantine.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockNoteView: () => (/* binding */ Ft),\n/* harmony export */   applyBlockNoteCSSVariablesFromTheme: () => (/* binding */ De),\n/* harmony export */   components: () => (/* binding */ Tt),\n/* harmony export */   darkDefaultTheme: () => (/* binding */ Ot),\n/* harmony export */   defaultColorScheme: () => (/* binding */ x),\n/* harmony export */   lightDefaultTheme: () => (/* binding */ ze),\n/* harmony export */   removeBlockNoteCSSVariables: () => (/* binding */ $r)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _blocknote_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blocknote/react */ \"(ssr)/./node_modules/@blocknote/react/dist/blocknote-react.js\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/TextInput/TextInput.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Menu/Menu.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Checkbox/CheckIcon.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Group/Group.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Tabs/Tabs.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/LoadingOverlay/LoadingOverlay.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Button/Button.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/FileInput/FileInput.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Popover/Popover.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Popover/PopoverTarget/PopoverTarget.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Popover/PopoverDropdown/PopoverDropdown.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/ActionIcon/ActionIcon.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Stack/Stack.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Text/Text.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Badge/Badge.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Loader/Loader.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Tooltip/Tooltip.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/core/MantineProvider/MantineProvider.mjs\");\n/* harmony import */ var use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! use-prefers-color-scheme */ \"(ssr)/./node_modules/use-prefers-color-scheme/dist/index.esm.js\");\n/* harmony import */ var _blocknote_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @blocknote/core */ \"(ssr)/./node_modules/@blocknote/core/dist/blocknote.js\");\n/* harmony import */ var _mantine_hooks__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mantine/hooks */ \"(ssr)/./node_modules/@mantine/hooks/esm/use-focus-within/use-focus-within.mjs\");\n/* harmony import */ var _mantine_hooks__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mantine/hooks */ \"(ssr)/./node_modules/@mantine/hooks/esm/use-focus-trap/use-focus-trap.mjs\");\n/* harmony import */ var _mantine_hooks__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mantine/hooks */ \"(ssr)/./node_modules/@mantine/hooks/esm/use-merged-ref/use-merged-ref.mjs\");\n\n\n\n\n\n\n\nvar ie = { exports: {} }, B = {};\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar Fe;\nfunction Ar() {\n  if (Fe)\n    return B;\n  Fe = 1;\n  var r = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.fragment\"), o = Object.prototype.hasOwnProperty, s = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, c = { key: !0, ref: !0, __self: !0, __source: !0 };\n  function f(u, b, p) {\n    var y, w = {}, P = null, W = null;\n    p !== void 0 && (P = \"\" + p), b.key !== void 0 && (P = \"\" + b.key), b.ref !== void 0 && (W = b.ref);\n    for (y in b)\n      o.call(b, y) && !c.hasOwnProperty(y) && (w[y] = b[y]);\n    if (u && u.defaultProps)\n      for (y in b = u.defaultProps, b)\n        w[y] === void 0 && (w[y] = b[y]);\n    return { $$typeof: t, type: u, key: P, ref: W, props: w, _owner: s.current };\n  }\n  return B.Fragment = n, B.jsx = f, B.jsxs = f, B;\n}\nvar $ = {};\n/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar Me;\nfunction zr() {\n  return Me || (Me = 1,  true && function() {\n    var r = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.portal\"), o = Symbol.for(\"react.fragment\"), s = Symbol.for(\"react.strict_mode\"), c = Symbol.for(\"react.profiler\"), f = Symbol.for(\"react.provider\"), u = Symbol.for(\"react.context\"), b = Symbol.for(\"react.forward_ref\"), p = Symbol.for(\"react.suspense\"), y = Symbol.for(\"react.suspense_list\"), w = Symbol.for(\"react.memo\"), P = Symbol.for(\"react.lazy\"), W = Symbol.for(\"react.offscreen\"), se = Symbol.iterator, Ue = \"@@iterator\";\n    function Ge(e) {\n      if (e === null || typeof e != \"object\")\n        return null;\n      var a = se && e[se] || e[Ue];\n      return typeof a == \"function\" ? a : null;\n    }\n    var N = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n    function S(e) {\n      {\n        for (var a = arguments.length, i = new Array(a > 1 ? a - 1 : 0), v = 1; v < a; v++)\n          i[v - 1] = arguments[v];\n        He(\"error\", e, i);\n      }\n    }\n    function He(e, a, i) {\n      {\n        var v = N.ReactDebugCurrentFrame, h = v.getStackAddendum();\n        h !== \"\" && (a += \"%s\", i = i.concat([h]));\n        var j = i.map(function(g) {\n          return String(g);\n        });\n        j.unshift(\"Warning: \" + a), Function.prototype.apply.call(console[e], console, j);\n      }\n    }\n    var Ke = !1, qe = !1, Je = !1, Xe = !1, Ze = !1, le;\n    le = Symbol.for(\"react.module.reference\");\n    function Qe(e) {\n      return !!(typeof e == \"string\" || typeof e == \"function\" || e === o || e === c || Ze || e === s || e === p || e === y || Xe || e === W || Ke || qe || Je || typeof e == \"object\" && e !== null && (e.$$typeof === P || e.$$typeof === w || e.$$typeof === f || e.$$typeof === u || e.$$typeof === b || // This needs to include all possible module reference object\n      // types supported by any Flight configuration anywhere since\n      // we don't know which Flight build this will end up being used\n      // with.\n      e.$$typeof === le || e.getModuleId !== void 0));\n    }\n    function er(e, a, i) {\n      var v = e.displayName;\n      if (v)\n        return v;\n      var h = a.displayName || a.name || \"\";\n      return h !== \"\" ? i + \"(\" + h + \")\" : i;\n    }\n    function ue(e) {\n      return e.displayName || \"Context\";\n    }\n    function O(e) {\n      if (e == null)\n        return null;\n      if (typeof e.tag == \"number\" && S(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"), typeof e == \"function\")\n        return e.displayName || e.name || null;\n      if (typeof e == \"string\")\n        return e;\n      switch (e) {\n        case o:\n          return \"Fragment\";\n        case n:\n          return \"Portal\";\n        case c:\n          return \"Profiler\";\n        case s:\n          return \"StrictMode\";\n        case p:\n          return \"Suspense\";\n        case y:\n          return \"SuspenseList\";\n      }\n      if (typeof e == \"object\")\n        switch (e.$$typeof) {\n          case u:\n            var a = e;\n            return ue(a) + \".Consumer\";\n          case f:\n            var i = e;\n            return ue(i._context) + \".Provider\";\n          case b:\n            return er(e, e.render, \"ForwardRef\");\n          case w:\n            var v = e.displayName || null;\n            return v !== null ? v : O(e.type) || \"Memo\";\n          case P: {\n            var h = e, j = h._payload, g = h._init;\n            try {\n              return O(g(j));\n            } catch {\n              return null;\n            }\n          }\n        }\n      return null;\n    }\n    var D = Object.assign, A = 0, ce, de, fe, ve, be, pe, me;\n    function ge() {\n    }\n    ge.__reactDisabledLog = !0;\n    function rr() {\n      {\n        if (A === 0) {\n          ce = console.log, de = console.info, fe = console.warn, ve = console.error, be = console.group, pe = console.groupCollapsed, me = console.groupEnd;\n          var e = {\n            configurable: !0,\n            enumerable: !0,\n            value: ge,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            info: e,\n            log: e,\n            warn: e,\n            error: e,\n            group: e,\n            groupCollapsed: e,\n            groupEnd: e\n          });\n        }\n        A++;\n      }\n    }\n    function tr() {\n      {\n        if (A--, A === 0) {\n          var e = {\n            configurable: !0,\n            enumerable: !0,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            log: D({}, e, {\n              value: ce\n            }),\n            info: D({}, e, {\n              value: de\n            }),\n            warn: D({}, e, {\n              value: fe\n            }),\n            error: D({}, e, {\n              value: ve\n            }),\n            group: D({}, e, {\n              value: be\n            }),\n            groupCollapsed: D({}, e, {\n              value: pe\n            }),\n            groupEnd: D({}, e, {\n              value: me\n            })\n          });\n        }\n        A < 0 && S(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\");\n      }\n    }\n    var J = N.ReactCurrentDispatcher, X;\n    function V(e, a, i) {\n      {\n        if (X === void 0)\n          try {\n            throw Error();\n          } catch (h) {\n            var v = h.stack.trim().match(/\\n( *(at )?)/);\n            X = v && v[1] || \"\";\n          }\n        return `\n` + X + e;\n      }\n    }\n    var Z = !1, Y;\n    {\n      var nr = typeof WeakMap == \"function\" ? WeakMap : Map;\n      Y = new nr();\n    }\n    function he(e, a) {\n      if (!e || Z)\n        return \"\";\n      {\n        var i = Y.get(e);\n        if (i !== void 0)\n          return i;\n      }\n      var v;\n      Z = !0;\n      var h = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      var j;\n      j = J.current, J.current = null, rr();\n      try {\n        if (a) {\n          var g = function() {\n            throw Error();\n          };\n          if (Object.defineProperty(g.prototype, \"props\", {\n            set: function() {\n              throw Error();\n            }\n          }), typeof Reflect == \"object\" && Reflect.construct) {\n            try {\n              Reflect.construct(g, []);\n            } catch (F) {\n              v = F;\n            }\n            Reflect.construct(e, [], g);\n          } else {\n            try {\n              g.call();\n            } catch (F) {\n              v = F;\n            }\n            e.call(g.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (F) {\n            v = F;\n          }\n          e();\n        }\n      } catch (F) {\n        if (F && v && typeof F.stack == \"string\") {\n          for (var m = F.stack.split(`\n`), _ = v.stack.split(`\n`), E = m.length - 1, k = _.length - 1; E >= 1 && k >= 0 && m[E] !== _[k]; )\n            k--;\n          for (; E >= 1 && k >= 0; E--, k--)\n            if (m[E] !== _[k]) {\n              if (E !== 1 || k !== 1)\n                do\n                  if (E--, k--, k < 0 || m[E] !== _[k]) {\n                    var C = `\n` + m[E].replace(\" at new \", \" at \");\n                    return e.displayName && C.includes(\"<anonymous>\") && (C = C.replace(\"<anonymous>\", e.displayName)), typeof e == \"function\" && Y.set(e, C), C;\n                  }\n                while (E >= 1 && k >= 0);\n              break;\n            }\n        }\n      } finally {\n        Z = !1, J.current = j, tr(), Error.prepareStackTrace = h;\n      }\n      var L = e ? e.displayName || e.name : \"\", Oe = L ? V(L) : \"\";\n      return typeof e == \"function\" && Y.set(e, Oe), Oe;\n    }\n    function or(e, a, i) {\n      return he(e, !1);\n    }\n    function ar(e) {\n      var a = e.prototype;\n      return !!(a && a.isReactComponent);\n    }\n    function U(e, a, i) {\n      if (e == null)\n        return \"\";\n      if (typeof e == \"function\")\n        return he(e, ar(e));\n      if (typeof e == \"string\")\n        return V(e);\n      switch (e) {\n        case p:\n          return V(\"Suspense\");\n        case y:\n          return V(\"SuspenseList\");\n      }\n      if (typeof e == \"object\")\n        switch (e.$$typeof) {\n          case b:\n            return or(e.render);\n          case w:\n            return U(e.type, a, i);\n          case P: {\n            var v = e, h = v._payload, j = v._init;\n            try {\n              return U(j(h), a, i);\n            } catch {\n            }\n          }\n        }\n      return \"\";\n    }\n    var G = Object.prototype.hasOwnProperty, xe = {}, ye = N.ReactDebugCurrentFrame;\n    function H(e) {\n      if (e) {\n        var a = e._owner, i = U(e.type, e._source, a ? a.type : null);\n        ye.setExtraStackFrame(i);\n      } else\n        ye.setExtraStackFrame(null);\n    }\n    function ir(e, a, i, v, h) {\n      {\n        var j = Function.call.bind(G);\n        for (var g in e)\n          if (j(e, g)) {\n            var m = void 0;\n            try {\n              if (typeof e[g] != \"function\") {\n                var _ = Error((v || \"React class\") + \": \" + i + \" type `\" + g + \"` is invalid; it must be a function, usually from the `prop-types` package, but received `\" + typeof e[g] + \"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");\n                throw _.name = \"Invariant Violation\", _;\n              }\n              m = e[g](a, g, v, i, null, \"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\");\n            } catch (E) {\n              m = E;\n            }\n            m && !(m instanceof Error) && (H(h), S(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\", v || \"React class\", i, g, typeof m), H(null)), m instanceof Error && !(m.message in xe) && (xe[m.message] = !0, H(h), S(\"Failed %s type: %s\", i, m.message), H(null));\n          }\n      }\n    }\n    var sr = Array.isArray;\n    function Q(e) {\n      return sr(e);\n    }\n    function lr(e) {\n      {\n        var a = typeof Symbol == \"function\" && Symbol.toStringTag, i = a && e[Symbol.toStringTag] || e.constructor.name || \"Object\";\n        return i;\n      }\n    }\n    function ur(e) {\n      try {\n        return je(e), !1;\n      } catch {\n        return !0;\n      }\n    }\n    function je(e) {\n      return \"\" + e;\n    }\n    function Re(e) {\n      if (ur(e))\n        return S(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\", lr(e)), je(e);\n    }\n    var z = N.ReactCurrentOwner, cr = {\n      key: !0,\n      ref: !0,\n      __self: !0,\n      __source: !0\n    }, Te, Ee, ee;\n    ee = {};\n    function dr(e) {\n      if (G.call(e, \"ref\")) {\n        var a = Object.getOwnPropertyDescriptor(e, \"ref\").get;\n        if (a && a.isReactWarning)\n          return !1;\n      }\n      return e.ref !== void 0;\n    }\n    function fr(e) {\n      if (G.call(e, \"key\")) {\n        var a = Object.getOwnPropertyDescriptor(e, \"key\").get;\n        if (a && a.isReactWarning)\n          return !1;\n      }\n      return e.key !== void 0;\n    }\n    function vr(e, a) {\n      if (typeof e.ref == \"string\" && z.current && a && z.current.stateNode !== a) {\n        var i = O(z.current.type);\n        ee[i] || (S('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', O(z.current.type), e.ref), ee[i] = !0);\n      }\n    }\n    function br(e, a) {\n      {\n        var i = function() {\n          Te || (Te = !0, S(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", a));\n        };\n        i.isReactWarning = !0, Object.defineProperty(e, \"key\", {\n          get: i,\n          configurable: !0\n        });\n      }\n    }\n    function pr(e, a) {\n      {\n        var i = function() {\n          Ee || (Ee = !0, S(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", a));\n        };\n        i.isReactWarning = !0, Object.defineProperty(e, \"ref\", {\n          get: i,\n          configurable: !0\n        });\n      }\n    }\n    var mr = function(e, a, i, v, h, j, g) {\n      var m = {\n        // This tag allows us to uniquely identify this as a React Element\n        $$typeof: t,\n        // Built-in properties that belong on the element\n        type: e,\n        key: a,\n        ref: i,\n        props: g,\n        // Record the component responsible for creating this element.\n        _owner: j\n      };\n      return m._store = {}, Object.defineProperty(m._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: !1\n      }), Object.defineProperty(m, \"_self\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: v\n      }), Object.defineProperty(m, \"_source\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: h\n      }), Object.freeze && (Object.freeze(m.props), Object.freeze(m)), m;\n    };\n    function gr(e, a, i, v, h) {\n      {\n        var j, g = {}, m = null, _ = null;\n        i !== void 0 && (Re(i), m = \"\" + i), fr(a) && (Re(a.key), m = \"\" + a.key), dr(a) && (_ = a.ref, vr(a, h));\n        for (j in a)\n          G.call(a, j) && !cr.hasOwnProperty(j) && (g[j] = a[j]);\n        if (e && e.defaultProps) {\n          var E = e.defaultProps;\n          for (j in E)\n            g[j] === void 0 && (g[j] = E[j]);\n        }\n        if (m || _) {\n          var k = typeof e == \"function\" ? e.displayName || e.name || \"Unknown\" : e;\n          m && br(g, k), _ && pr(g, k);\n        }\n        return mr(e, m, _, h, v, z.current, g);\n      }\n    }\n    var re = N.ReactCurrentOwner, ke = N.ReactDebugCurrentFrame;\n    function I(e) {\n      if (e) {\n        var a = e._owner, i = U(e.type, e._source, a ? a.type : null);\n        ke.setExtraStackFrame(i);\n      } else\n        ke.setExtraStackFrame(null);\n    }\n    var te;\n    te = !1;\n    function ne(e) {\n      return typeof e == \"object\" && e !== null && e.$$typeof === t;\n    }\n    function we() {\n      {\n        if (re.current) {\n          var e = O(re.current.type);\n          if (e)\n            return `\n\nCheck the render method of \\`` + e + \"`.\";\n        }\n        return \"\";\n      }\n    }\n    function hr(e) {\n      {\n        if (e !== void 0) {\n          var a = e.fileName.replace(/^.*[\\\\\\/]/, \"\"), i = e.lineNumber;\n          return `\n\nCheck your code at ` + a + \":\" + i + \".\";\n        }\n        return \"\";\n      }\n    }\n    var Se = {};\n    function xr(e) {\n      {\n        var a = we();\n        if (!a) {\n          var i = typeof e == \"string\" ? e : e.displayName || e.name;\n          i && (a = `\n\nCheck the top-level render call using <` + i + \">.\");\n        }\n        return a;\n      }\n    }\n    function _e(e, a) {\n      {\n        if (!e._store || e._store.validated || e.key != null)\n          return;\n        e._store.validated = !0;\n        var i = xr(a);\n        if (Se[i])\n          return;\n        Se[i] = !0;\n        var v = \"\";\n        e && e._owner && e._owner !== re.current && (v = \" It was passed a child from \" + O(e._owner.type) + \".\"), I(e), S('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', i, v), I(null);\n      }\n    }\n    function Pe(e, a) {\n      {\n        if (typeof e != \"object\")\n          return;\n        if (Q(e))\n          for (var i = 0; i < e.length; i++) {\n            var v = e[i];\n            ne(v) && _e(v, a);\n          }\n        else if (ne(e))\n          e._store && (e._store.validated = !0);\n        else if (e) {\n          var h = Ge(e);\n          if (typeof h == \"function\" && h !== e.entries)\n            for (var j = h.call(e), g; !(g = j.next()).done; )\n              ne(g.value) && _e(g.value, a);\n        }\n      }\n    }\n    function yr(e) {\n      {\n        var a = e.type;\n        if (a == null || typeof a == \"string\")\n          return;\n        var i;\n        if (typeof a == \"function\")\n          i = a.propTypes;\n        else if (typeof a == \"object\" && (a.$$typeof === b || // Note: Memo only checks outer props here.\n        // Inner props are checked in the reconciler.\n        a.$$typeof === w))\n          i = a.propTypes;\n        else\n          return;\n        if (i) {\n          var v = O(a);\n          ir(i, e.props, \"prop\", v, e);\n        } else if (a.PropTypes !== void 0 && !te) {\n          te = !0;\n          var h = O(a);\n          S(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\", h || \"Unknown\");\n        }\n        typeof a.getDefaultProps == \"function\" && !a.getDefaultProps.isReactClassApproved && S(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\");\n      }\n    }\n    function jr(e) {\n      {\n        for (var a = Object.keys(e.props), i = 0; i < a.length; i++) {\n          var v = a[i];\n          if (v !== \"children\" && v !== \"key\") {\n            I(e), S(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\", v), I(null);\n            break;\n          }\n        }\n        e.ref !== null && (I(e), S(\"Invalid attribute `ref` supplied to `React.Fragment`.\"), I(null));\n      }\n    }\n    function Ce(e, a, i, v, h, j) {\n      {\n        var g = Qe(e);\n        if (!g) {\n          var m = \"\";\n          (e === void 0 || typeof e == \"object\" && e !== null && Object.keys(e).length === 0) && (m += \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");\n          var _ = hr(h);\n          _ ? m += _ : m += we();\n          var E;\n          e === null ? E = \"null\" : Q(e) ? E = \"array\" : e !== void 0 && e.$$typeof === t ? (E = \"<\" + (O(e.type) || \"Unknown\") + \" />\", m = \" Did you accidentally export a JSX literal instead of a component?\") : E = typeof e, S(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\", E, m);\n        }\n        var k = gr(e, a, i, h, j);\n        if (k == null)\n          return k;\n        if (g) {\n          var C = a.children;\n          if (C !== void 0)\n            if (v)\n              if (Q(C)) {\n                for (var L = 0; L < C.length; L++)\n                  Pe(C[L], e);\n                Object.freeze && Object.freeze(C);\n              } else\n                S(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");\n            else\n              Pe(C, e);\n        }\n        return e === o ? jr(k) : yr(k), k;\n      }\n    }\n    function Rr(e, a, i) {\n      return Ce(e, a, i, !0);\n    }\n    function Tr(e, a, i) {\n      return Ce(e, a, i, !1);\n    }\n    var Er = Tr, kr = Rr;\n    $.Fragment = o, $.jsx = Er, $.jsxs = kr;\n  }()), $;\n}\n false ? 0 : ie.exports = zr();\nvar l = ie.exports;\nconst Be = (r, t, n = !1) => {\n  const o = [];\n  function s(c, f = \"--bn\") {\n    for (const u in c) {\n      const b = u.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase(), p = `${f}-${b}`;\n      typeof c[u] != \"object\" ? (typeof c[u] == \"number\" && (c[u] = `${c[u]}px`), n ? t.style.removeProperty(p) : t.style.setProperty(p, c[u].toString())) : s(c[u], p);\n    }\n  }\n  return s(r), o;\n}, De = (r, t) => Be(r, t), Br = {\n  colors: {\n    editor: {\n      text: void 0,\n      background: void 0\n    },\n    menu: {\n      text: void 0,\n      background: void 0\n    },\n    tooltip: {\n      text: void 0,\n      background: void 0\n    },\n    hovered: {\n      text: void 0,\n      background: void 0\n    },\n    selected: {\n      text: void 0,\n      background: void 0\n    },\n    disabled: {\n      text: void 0,\n      background: void 0\n    },\n    shadow: void 0,\n    border: void 0,\n    sideMenu: void 0,\n    highlights: {\n      gray: {\n        text: void 0,\n        background: void 0\n      },\n      brown: {\n        text: void 0,\n        background: void 0\n      },\n      red: {\n        text: void 0,\n        background: void 0\n      },\n      orange: {\n        text: void 0,\n        background: void 0\n      },\n      yellow: {\n        text: void 0,\n        background: void 0\n      },\n      green: {\n        text: void 0,\n        background: void 0\n      },\n      blue: {\n        text: void 0,\n        background: void 0\n      },\n      purple: {\n        text: void 0,\n        background: void 0\n      },\n      pink: {\n        text: void 0,\n        background: void 0\n      }\n    }\n  },\n  borderRadius: void 0,\n  fontFamily: void 0\n}, $r = (r) => Be(Br, r, !0), Wr = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    name: o,\n    label: s,\n    icon: c,\n    value: f,\n    autoFocus: u,\n    placeholder: b,\n    onKeyDown: p,\n    onChange: y,\n    onSubmit: w,\n    ...P\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(P), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_4__.TextInput,\n    {\n      size: \"xs\",\n      className: n,\n      ref: t,\n      name: o,\n      label: s,\n      leftSection: c,\n      value: f,\n      autoFocus: u,\n      \"data-autofocus\": u ? \"true\" : void 0,\n      placeholder: b,\n      onKeyDown: p,\n      onChange: y,\n      onSubmit: w\n    }\n  );\n});\nvar $e = {\n  color: void 0,\n  size: void 0,\n  className: void 0,\n  style: void 0,\n  attr: void 0\n}, Ne = react__WEBPACK_IMPORTED_MODULE_0__.createContext && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createContext($e), Vr = [\"attr\", \"size\", \"title\"];\nfunction Yr(r, t) {\n  if (r == null)\n    return {};\n  var n = Ur(r, t), o, s;\n  if (Object.getOwnPropertySymbols) {\n    var c = Object.getOwnPropertySymbols(r);\n    for (s = 0; s < c.length; s++)\n      o = c[s], !(t.indexOf(o) >= 0) && Object.prototype.propertyIsEnumerable.call(r, o) && (n[o] = r[o]);\n  }\n  return n;\n}\nfunction Ur(r, t) {\n  if (r == null)\n    return {};\n  var n = {};\n  for (var o in r)\n    if (Object.prototype.hasOwnProperty.call(r, o)) {\n      if (t.indexOf(o) >= 0)\n        continue;\n      n[o] = r[o];\n    }\n  return n;\n}\nfunction K() {\n  return K = Object.assign ? Object.assign.bind() : function(r) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n      for (var o in n)\n        Object.prototype.hasOwnProperty.call(n, o) && (r[o] = n[o]);\n    }\n    return r;\n  }, K.apply(this, arguments);\n}\nfunction Ie(r, t) {\n  var n = Object.keys(r);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(r);\n    t && (o = o.filter(function(s) {\n      return Object.getOwnPropertyDescriptor(r, s).enumerable;\n    })), n.push.apply(n, o);\n  }\n  return n;\n}\nfunction q(r) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = arguments[t] != null ? arguments[t] : {};\n    t % 2 ? Ie(Object(n), !0).forEach(function(o) {\n      Gr(r, o, n[o]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(n)) : Ie(Object(n)).forEach(function(o) {\n      Object.defineProperty(r, o, Object.getOwnPropertyDescriptor(n, o));\n    });\n  }\n  return r;\n}\nfunction Gr(r, t, n) {\n  return t = Hr(t), t in r ? Object.defineProperty(r, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : r[t] = n, r;\n}\nfunction Hr(r) {\n  var t = Kr(r, \"string\");\n  return typeof t == \"symbol\" ? t : t + \"\";\n}\nfunction Kr(r, t) {\n  if (typeof r != \"object\" || !r)\n    return r;\n  var n = r[Symbol.toPrimitive];\n  if (n !== void 0) {\n    var o = n.call(r, t || \"default\");\n    if (typeof o != \"object\")\n      return o;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (t === \"string\" ? String : Number)(r);\n}\nfunction We(r) {\n  return r && r.map((t, n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(t.tag, q({\n    key: n\n  }, t.attr), We(t.child)));\n}\nfunction Ve(r) {\n  return (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(qr, K({\n    attr: q({}, r.attr)\n  }, t), We(r.child));\n}\nfunction qr(r) {\n  var t = (n) => {\n    var {\n      attr: o,\n      size: s,\n      title: c\n    } = r, f = Yr(r, Vr), u = s || n.size || \"1em\", b;\n    return n.className && (b = n.className), r.className && (b = (b ? b + \" \" : \"\") + r.className), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", K({\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\"\n    }, n.attr, o, f, {\n      className: b,\n      style: q(q({\n        color: r.color || n.color\n      }, n.style), r.style),\n      height: u,\n      width: u,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }), c && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"title\", null, c), r.children);\n  };\n  return Ne !== void 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ne.Consumer, null, (n) => t(n)) : t($e);\n}\nfunction Jr(r) {\n  return Ve({ tag: \"svg\", attr: { viewBox: \"0 0 20 20\", fill: \"currentColor\", \"aria-hidden\": \"true\" }, child: [{ tag: \"path\", attr: { fillRule: \"evenodd\", d: \"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\", clipRule: \"evenodd\" }, child: [] }] })(r);\n}\nfunction Xr(r) {\n  return Ve({ tag: \"svg\", attr: { viewBox: \"0 0 20 20\", fill: \"currentColor\", \"aria-hidden\": \"true\" }, child: [{ tag: \"path\", attr: { fillRule: \"evenodd\", d: \"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\", clipRule: \"evenodd\" }, child: [] }] })(r);\n}\nconst Ye = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0), Zr = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    children: n,\n    onOpenChange: o,\n    position: s,\n    sub: c,\n    // not used\n    ...f\n  } = r;\n  (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(f);\n  const [u, b] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), p = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(), y = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    p.current && clearTimeout(p.current), p.current = setTimeout(() => {\n      b(!1);\n    }, 250);\n  }, []), w = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    p.current && clearTimeout(p.current), b(!0);\n  }, []);\n  return /* @__PURE__ */ l.jsx(\n    Ye.Provider,\n    {\n      value: {\n        onMenuMouseOver: w,\n        onMenuMouseLeave: y\n      },\n      children: /* @__PURE__ */ l.jsx(\n        _mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Item,\n        {\n          className: \"bn-menu-item bn-mt-sub-menu-item\",\n          ref: t,\n          onMouseOver: w,\n          onMouseLeave: y,\n          children: /* @__PURE__ */ l.jsx(\n            _mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu,\n            {\n              withinPortal: !1,\n              middlewares: { flip: !0, shift: !0, inline: !1, size: !0 },\n              trigger: \"hover\",\n              opened: u,\n              onClose: () => o == null ? void 0 : o(!1),\n              onOpen: () => o == null ? void 0 : o(!0),\n              position: s,\n              children: n\n            }\n          )\n        }\n      )\n    }\n  );\n}), Qr = (r) => {\n  const { children: t, onOpenChange: n, position: o, sub: s, ...c } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(c), s ? /* @__PURE__ */ l.jsx(Zr, { ...r }) : /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu,\n    {\n      withinPortal: !1,\n      middlewares: { flip: !0, shift: !0, inline: !1, size: !0 },\n      onClose: () => n == null ? void 0 : n(!1),\n      onOpen: () => n == null ? void 0 : n(!0),\n      position: o,\n      children: t\n    }\n  );\n}, et = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, icon: s, checked: c, subTrigger: f, onClick: u, ...b } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(b, !1), f ? /* @__PURE__ */ l.jsxs(\"div\", { ref: t, ...b, children: [\n    o,\n    /* @__PURE__ */ l.jsx(Xr, { size: 15 })\n  ] }) : /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Item,\n    {\n      className: n,\n      ref: t,\n      leftSection: s,\n      rightSection: c ? /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_6__.CheckIcon, { size: 10 }) : c === !1 ? /* @__PURE__ */ l.jsx(\"div\", { className: \"bn-tick-space\" }) : null,\n      onClick: u,\n      ...b,\n      children: o\n    }\n  );\n}), rt = (r) => {\n  const {\n    children: t,\n    sub: n,\n    // unused\n    ...o\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(o), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Target, { children: t });\n}, tt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    sub: s,\n    //unused\n    ...c\n  } = r;\n  (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(c);\n  const f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Ye);\n  return /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Dropdown,\n    {\n      className: n,\n      ref: t,\n      onMouseOver: f == null ? void 0 : f.onMenuMouseOver,\n      onMouseLeave: f == null ? void 0 : f.onMenuMouseLeave,\n      children: o\n    }\n  );\n}), nt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, ...o } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(o), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Divider, { className: n, ref: t });\n}), ot = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Label, { className: n, ref: t, children: o });\n}), at = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    tabs: o,\n    defaultOpenTab: s,\n    openTab: c,\n    setOpenTab: f,\n    loading: u,\n    ...b\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(b), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: n, ref: t, children: /* @__PURE__ */ l.jsxs(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs,\n    {\n      value: c,\n      defaultValue: s,\n      onChange: f,\n      children: [\n        u && /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_9__.LoadingOverlay, { visible: u }),\n        /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs.List, { children: o.map((p) => /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs.Tab,\n          {\n            \"data-test\": `${p.name.toLowerCase()}-tab`,\n            value: p.name,\n            children: p.name\n          },\n          p.name\n        )) }),\n        o.map((p) => /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs.Panel, { value: p.name, children: p.tabPanel }, p.name))\n      ]\n    }\n  ) });\n}), it = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, onClick: s, label: c, ...f } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(f), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n    {\n      size: \"xs\",\n      \"aria-label\": c,\n      className: n,\n      ref: t,\n      onClick: s,\n      ...f,\n      children: o\n    }\n  );\n}), st = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, accept: o, value: s, placeholder: c, onChange: f, ...u } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(u), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_11__.FileInput,\n    {\n      size: \"xs\",\n      className: n,\n      ref: t,\n      accept: o,\n      value: s,\n      placeholder: c,\n      onChange: f,\n      ...u\n    }\n  );\n}), lt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(s), /* @__PURE__ */ l.jsx(\"div\", { className: n, ref: t, children: o });\n}), ut = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, value: o, placeholder: s, onKeyDown: c, onChange: f, ...u } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(u), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_4__.TextInput,\n    {\n      size: \"xs\",\n      \"data-test\": \"embed-input\",\n      className: n,\n      ref: t,\n      value: o,\n      placeholder: s,\n      onKeyDown: c,\n      onChange: f\n    }\n  );\n}), ct = (r) => {\n  const { children: t, opened: n, position: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(s), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_12__.Popover,\n    {\n      withinPortal: !1,\n      zIndex: 1e4,\n      opened: n,\n      position: o,\n      children: t\n    }\n  );\n}, dt = (r) => {\n  const { children: t, ...n } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(n), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_13__.PopoverTarget, { children: t });\n}, ft = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    variant: s,\n    // unused\n    ...c\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(c), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_14__.PopoverDropdown, { className: n, ref: t, children: o });\n}), vt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { align: \"center\", gap: 0, className: n, ref: t, children: o });\n}), bt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    icon: s,\n    onClick: c,\n    onDragEnd: f,\n    onDragStart: u,\n    draggable: b,\n    label: p,\n    ...y\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(y, !1), s ? /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_15__.ActionIcon,\n    {\n      size: 24,\n      className: n,\n      ref: t,\n      onClick: c,\n      onDragEnd: f,\n      onDragStart: u,\n      draggable: b,\n      \"aria-label\": p,\n      ...y,\n      children: s\n    }\n  ) : /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n    {\n      className: n,\n      ref: t,\n      onClick: c,\n      onDragEnd: f,\n      onDragStart: u,\n      draggable: b,\n      \"aria-label\": p,\n      ...y,\n      children: o\n    }\n  );\n}), pt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, id: s, ...c } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(c), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_16__.Stack,\n    {\n      gap: 0,\n      className: n,\n      ref: t,\n      id: s,\n      role: \"listbox\",\n      children: o\n    }\n  );\n}), mt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: n, ref: t, children: /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: \"bn-mt-suggestion-menu-item-label\", children: o }) });\n}), gt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, isSelected: o, onClick: s, item: c, id: f, ...u } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(u), /* @__PURE__ */ l.jsxs(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n    {\n      gap: 0,\n      className: n,\n      ref: t,\n      id: f,\n      role: \"option\",\n      onClick: s,\n      \"aria-selected\": o || void 0,\n      children: [\n        c.icon && /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n          {\n            className: \"bn-mt-suggestion-menu-item-section\",\n            \"data-position\": \"left\",\n            children: c.icon\n          }\n        ),\n        /* @__PURE__ */ l.jsxs(_mantine_core__WEBPACK_IMPORTED_MODULE_16__.Stack, { gap: 0, className: \"bn-mt-suggestion-menu-item-body\", children: [\n          /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_17__.Text, { className: \"bn-mt-suggestion-menu-item-title\", children: c.title }),\n          /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_17__.Text, { className: \"bn-mt-suggestion-menu-item-subtitle\", children: c.subtext })\n        ] }),\n        c.badge && /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n          {\n            \"data-position\": \"right\",\n            className: \"bn-mt-suggestion-menu-item-section\",\n            children: /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_18__.Badge, { size: \"xs\", children: c.badge })\n          }\n        )\n      ]\n    }\n  );\n}), ht = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: n, ref: t, children: o });\n}), xt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    // unused, using \"dots\" instead\n    ...s\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_19__.Loader, { className: n, type: \"dots\", ref: t });\n}), yt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    draggable: s,\n    onDragStart: c,\n    onDragEnd: f,\n    style: u,\n    label: b,\n    ...p\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(p, !1), /* @__PURE__ */ l.jsx(\n    \"button\",\n    {\n      className: n,\n      ref: t,\n      \"aria-label\": b,\n      draggable: s,\n      onDragStart: c,\n      onDragEnd: f,\n      style: u,\n      ...p,\n      children: o\n    }\n  );\n}), Le = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  (r, t) => {\n    const { className: n, children: o, onMouseEnter: s, onMouseLeave: c, ...f } = r;\n    (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(f);\n    const { ref: u, focused: b } = (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_20__.useFocusWithin)(), p = (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_21__.useFocusTrap)(b), y = (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_22__.mergeRefs)(t, u, p);\n    return /* @__PURE__ */ l.jsx(\n      _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n      {\n        className: n,\n        ref: y,\n        role: \"toolbar\",\n        onMouseEnter: s,\n        onMouseLeave: c,\n        children: o\n      }\n    );\n  }\n), jt = (r) => /* @__PURE__ */ l.jsxs(_mantine_core__WEBPACK_IMPORTED_MODULE_16__.Stack, { gap: 0, className: \"bn-tooltip\", children: [\n  /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_17__.Text, { size: \"sm\", children: r.mainTooltip }),\n  r.secondaryTooltip && /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_17__.Text, { size: \"xs\", children: r.secondaryTooltip })\n] }), Ae = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  (r, t) => {\n    const {\n      className: n,\n      children: o,\n      mainTooltip: s,\n      secondaryTooltip: c,\n      icon: f,\n      isSelected: u,\n      isDisabled: b,\n      onClick: p,\n      label: y,\n      ...w\n    } = r;\n    return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(w, !1), /* @__PURE__ */ l.jsx(\n      _mantine_core__WEBPACK_IMPORTED_MODULE_23__.Tooltip,\n      {\n        withinPortal: !1,\n        label: /* @__PURE__ */ l.jsx(\n          jt,\n          {\n            mainTooltip: s,\n            secondaryTooltip: c\n          }\n        ),\n        children: o ? /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n          {\n            \"aria-label\": y,\n            className: n,\n            onMouseDown: (P) => {\n              (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.isSafari)() && P.currentTarget.focus();\n            },\n            onClick: p,\n            \"aria-pressed\": u,\n            \"data-selected\": u || void 0,\n            \"data-test\": s.slice(0, 1).toLowerCase() + s.replace(/\\s+/g, \"\").slice(1),\n            size: \"xs\",\n            disabled: b || !1,\n            ref: t,\n            ...w,\n            children: o\n          }\n        ) : /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_15__.ActionIcon,\n          {\n            className: n,\n            \"aria-label\": y,\n            onMouseDown: (P) => {\n              (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.isSafari)() && P.currentTarget.focus();\n            },\n            onClick: p,\n            \"aria-pressed\": u,\n            \"data-selected\": u || void 0,\n            \"data-test\": s.slice(0, 1).toLowerCase() + s.replace(/\\s+/g, \"\").slice(1),\n            size: 30,\n            disabled: b || !1,\n            ref: t,\n            ...w,\n            children: f\n          }\n        )\n      }\n    );\n  }\n), Rt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, items: o, isDisabled: s, ...c } = r;\n  (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.assertEmpty)(c);\n  const f = o.filter((u) => u.isSelected)[0];\n  return f ? /* @__PURE__ */ l.jsxs(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu,\n    {\n      withinPortal: !1,\n      transitionProps: {\n        exitDuration: 0\n      },\n      disabled: s,\n      middlewares: { flip: !0, shift: !0, inline: !1, size: !0 },\n      children: [\n        /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Target, { children: /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n          {\n            onMouseDown: (u) => {\n              (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_3__.isSafari)() && u.currentTarget.focus();\n            },\n            leftSection: f.icon,\n            rightSection: /* @__PURE__ */ l.jsx(Jr, {}),\n            size: \"xs\",\n            variant: \"subtle\",\n            disabled: s,\n            children: f.text\n          }\n        ) }),\n        /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Dropdown, { className: n, ref: t, children: o.map((u) => /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_5__.Menu.Item,\n          {\n            onClick: u.onClick,\n            leftSection: u.icon,\n            rightSection: u.isSelected ? /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_6__.CheckIcon, { size: 10, className: \"bn-tick-icon\" }) : (\n              // Ensures space for tick even if item isn't currently selected.\n              /* @__PURE__ */ l.jsx(\"div\", { className: \"bn-tick-space\" })\n            ),\n            disabled: u.isDisabled,\n            children: u.text\n          },\n          u.text\n        )) })\n      ]\n    }\n  ) : null;\n});\nconst x = [\n  \"#FFFFFF\",\n  \"#EFEFEF\",\n  \"#CFCFCF\",\n  \"#AFAFAF\",\n  \"#7F7F7F\",\n  \"#3F3F3F\",\n  \"#1F1F1F\",\n  \"#161616\",\n  \"#0F0F0F\",\n  \"#000000\"\n], ze = {\n  colors: {\n    editor: {\n      text: x[5],\n      background: x[0]\n    },\n    menu: {\n      text: x[5],\n      background: x[0]\n    },\n    tooltip: {\n      text: x[5],\n      background: x[1]\n    },\n    hovered: {\n      text: x[5],\n      background: x[1]\n    },\n    selected: {\n      text: x[0],\n      background: x[5]\n    },\n    disabled: {\n      text: x[3],\n      background: x[1]\n    },\n    shadow: x[2],\n    border: x[1],\n    sideMenu: x[2],\n    highlights: {\n      gray: {\n        text: \"#9b9a97\",\n        background: \"#ebeced\"\n      },\n      brown: {\n        text: \"#64473a\",\n        background: \"#e9e5e3\"\n      },\n      red: {\n        text: \"#e03e3e\",\n        background: \"#fbe4e4\"\n      },\n      orange: {\n        text: \"#d9730d\",\n        background: \"#f6e9d9\"\n      },\n      yellow: {\n        text: \"#dfab01\",\n        background: \"#fbf3db\"\n      },\n      green: {\n        text: \"#4d6461\",\n        background: \"#ddedea\"\n      },\n      blue: {\n        text: \"#0b6e99\",\n        background: \"#ddebf1\"\n      },\n      purple: {\n        text: \"#6940a5\",\n        background: \"#eae4f2\"\n      },\n      pink: {\n        text: \"#ad1a72\",\n        background: \"#f4dfeb\"\n      }\n    }\n  },\n  borderRadius: 6,\n  fontFamily: '\"Inter\", \"SF Pro Display\", -apple-system, BlinkMacSystemFont, \"Open Sans\", \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif'\n}, Ot = {\n  colors: {\n    editor: {\n      text: x[2],\n      background: x[6]\n    },\n    menu: {\n      text: x[2],\n      background: x[6]\n    },\n    tooltip: {\n      text: x[2],\n      background: x[7]\n    },\n    hovered: {\n      text: x[2],\n      background: x[7]\n    },\n    selected: {\n      text: x[2],\n      background: x[8]\n    },\n    disabled: {\n      text: x[5],\n      background: x[7]\n    },\n    shadow: x[8],\n    border: x[7],\n    sideMenu: x[4],\n    highlights: {\n      gray: {\n        text: \"#bebdb8\",\n        background: \"#9b9a97\"\n      },\n      brown: {\n        text: \"#8e6552\",\n        background: \"#64473a\"\n      },\n      red: {\n        text: \"#ec4040\",\n        background: \"#be3434\"\n      },\n      orange: {\n        text: \"#e3790d\",\n        background: \"#b7600a\"\n      },\n      yellow: {\n        text: \"#dfab01\",\n        background: \"#b58b00\"\n      },\n      green: {\n        text: \"#6b8b87\",\n        background: \"#4d6461\"\n      },\n      blue: {\n        text: \"#0e87bc\",\n        background: \"#0b6e99\"\n      },\n      purple: {\n        text: \"#8552d7\",\n        background: \"#6940a5\"\n      },\n      pink: {\n        text: \"#da208f\",\n        background: \"#ad1a72\"\n      }\n    }\n  },\n  borderRadius: ze.borderRadius,\n  fontFamily: ze.fontFamily\n}, Tt = {\n  FormattingToolbar: {\n    Root: Le,\n    Button: Ae,\n    Select: Rt\n  },\n  FilePanel: {\n    Root: at,\n    Button: it,\n    FileInput: st,\n    TabPanel: lt,\n    TextInput: ut\n  },\n  LinkToolbar: {\n    Root: Le,\n    Button: Ae\n  },\n  SideMenu: {\n    Root: vt,\n    Button: bt\n  },\n  SuggestionMenu: {\n    Root: pt,\n    Item: gt,\n    EmptyItem: mt,\n    Label: ht,\n    Loader: xt\n  },\n  TableHandle: {\n    Root: yt\n  },\n  Generic: {\n    Form: {\n      Root: (r) => /* @__PURE__ */ l.jsx(\"div\", { children: r.children }),\n      TextInput: Wr\n    },\n    Menu: {\n      Root: Qr,\n      Trigger: rt,\n      Dropdown: tt,\n      Divider: nt,\n      Label: ot,\n      Item: et\n    },\n    Popover: {\n      Root: ct,\n      Trigger: dt,\n      Content: ft\n    }\n  }\n}, Et = {\n  // Removes button press effect\n  activeClassName: \"\"\n}, Ft = (r) => {\n  const { theme: t, ...n } = r, o = (0,_blocknote_react__WEBPACK_IMPORTED_MODULE_1__.useBlockNoteContext)(), s = (0,use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(), c = (o == null ? void 0 : o.colorSchemePreference) || s, f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (u) => {\n      if (u && ($r(u), typeof t == \"object\")) {\n        if (\"light\" in t && \"dark\" in t) {\n          De(\n            t[c === \"dark\" ? \"dark\" : \"light\"],\n            u\n          );\n          return;\n        }\n        De(t, u);\n        return;\n      }\n    },\n    [c, t]\n  );\n  return /* @__PURE__ */ l.jsx(_blocknote_react__WEBPACK_IMPORTED_MODULE_1__.ComponentsContext.Provider, { value: Tt, children: /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_24__.MantineProvider,\n    {\n      theme: Et,\n      cssVariablesSelector: \".bn-container\",\n      children: /* @__PURE__ */ l.jsx(\n        _blocknote_react__WEBPACK_IMPORTED_MODULE_1__.BlockNoteViewRaw,\n        {\n          theme: typeof t == \"object\" ? void 0 : t,\n          ...n,\n          ref: f\n        }\n      )\n    }\n  ) });\n};\n\n//# sourceMappingURL=blocknote-mantine.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9tYW50aW5lL2Rpc3QvYmxvY2tub3RlLW1hbnRpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUk7QUFDckI7QUFDM0U7QUFDbUI7QUFDWjtBQUN5QjtBQUN3QjtBQUMzRixXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0NBQUMsNExBQTRMO0FBQ3ZNO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsS0FBcUM7QUFDN0QsWUFBWSxrQ0FBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixPQUFPO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYixzQkFBc0I7QUFDdEI7QUFDQSxhQUFhO0FBQ2Isc0JBQXNCO0FBQ3RCO0FBQ0EsYUFBYTtBQUNiLHVCQUF1QjtBQUN2QjtBQUNBLGFBQWE7QUFDYix1QkFBdUI7QUFDdkI7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDO0FBQ2hDO0FBQ0EsYUFBYTtBQUNiLDBCQUEwQjtBQUMxQjtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG1DQUFtQztBQUMzRTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGtHQUFrRztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGtEQUFrRCxzQkFBc0I7QUFDeEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsVUFBVSxpQkFBaUIsU0FBUyxxRUFBRSxRQUFRLG9FQUFFLGlFQUFpRSxrREFBRTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLCtCQUErQiwrREFBRSxhQUFhO0FBQzlDLElBQUksMkRBQUU7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOERBQUU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQVNFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZC8uL25vZGVfbW9kdWxlcy9AYmxvY2tub3RlL21hbnRpbmUvZGlzdC9ibG9ja25vdGUtbWFudGluZS5qcz8xNzAyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBNLCB7IGZvcndhcmRSZWYgYXMgVCwgY3JlYXRlQ29udGV4dCBhcyB3ciwgdXNlU3RhdGUgYXMgU3IsIHVzZVJlZiBhcyBfciwgdXNlQ2FsbGJhY2sgYXMgb2UsIHVzZUNvbnRleHQgYXMgUHIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUJsb2NrTm90ZUNvbnRleHQgYXMgQ3IsIENvbXBvbmVudHNDb250ZXh0IGFzIE9yLCBCbG9ja05vdGVWaWV3UmF3IGFzIEZyIH0gZnJvbSBcIkBibG9ja25vdGUvcmVhY3RcIjtcbmltcG9ydCAqIGFzIGQgZnJvbSBcIkBtYW50aW5lL2NvcmVcIjtcbmltcG9ydCB7IE1hbnRpbmVQcm92aWRlciBhcyBNciB9IGZyb20gXCJAbWFudGluZS9jb3JlXCI7XG5pbXBvcnQgRHIgZnJvbSBcInVzZS1wcmVmZXJzLWNvbG9yLXNjaGVtZVwiO1xuaW1wb3J0IHsgYXNzZXJ0RW1wdHkgYXMgUiwgaXNTYWZhcmkgYXMgYWUgfSBmcm9tIFwiQGJsb2Nrbm90ZS9jb3JlXCI7XG5pbXBvcnQgeyB1c2VGb2N1c1dpdGhpbiBhcyBOciwgdXNlRm9jdXNUcmFwIGFzIElyLCBtZXJnZVJlZnMgYXMgTHIgfSBmcm9tIFwiQG1hbnRpbmUvaG9va3NcIjtcbnZhciBpZSA9IHsgZXhwb3J0czoge30gfSwgQiA9IHt9O1xuLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xudmFyIEZlO1xuZnVuY3Rpb24gQXIoKSB7XG4gIGlmIChGZSlcbiAgICByZXR1cm4gQjtcbiAgRmUgPSAxO1xuICB2YXIgciA9IE0sIHQgPSBTeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSwgbiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSwgbyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIHMgPSByLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLCBjID0geyBrZXk6ICEwLCByZWY6ICEwLCBfX3NlbGY6ICEwLCBfX3NvdXJjZTogITAgfTtcbiAgZnVuY3Rpb24gZih1LCBiLCBwKSB7XG4gICAgdmFyIHksIHcgPSB7fSwgUCA9IG51bGwsIFcgPSBudWxsO1xuICAgIHAgIT09IHZvaWQgMCAmJiAoUCA9IFwiXCIgKyBwKSwgYi5rZXkgIT09IHZvaWQgMCAmJiAoUCA9IFwiXCIgKyBiLmtleSksIGIucmVmICE9PSB2b2lkIDAgJiYgKFcgPSBiLnJlZik7XG4gICAgZm9yICh5IGluIGIpXG4gICAgICBvLmNhbGwoYiwgeSkgJiYgIWMuaGFzT3duUHJvcGVydHkoeSkgJiYgKHdbeV0gPSBiW3ldKTtcbiAgICBpZiAodSAmJiB1LmRlZmF1bHRQcm9wcylcbiAgICAgIGZvciAoeSBpbiBiID0gdS5kZWZhdWx0UHJvcHMsIGIpXG4gICAgICAgIHdbeV0gPT09IHZvaWQgMCAmJiAod1t5XSA9IGJbeV0pO1xuICAgIHJldHVybiB7ICQkdHlwZW9mOiB0LCB0eXBlOiB1LCBrZXk6IFAsIHJlZjogVywgcHJvcHM6IHcsIF9vd25lcjogcy5jdXJyZW50IH07XG4gIH1cbiAgcmV0dXJuIEIuRnJhZ21lbnQgPSBuLCBCLmpzeCA9IGYsIEIuanN4cyA9IGYsIEI7XG59XG52YXIgJCA9IHt9O1xuLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xudmFyIE1lO1xuZnVuY3Rpb24genIoKSB7XG4gIHJldHVybiBNZSB8fCAoTWUgPSAxLCBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHIgPSBNLCB0ID0gU3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksIG4gPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLCBvID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLCBzID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLCBjID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLCBmID0gU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpLCB1ID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksIGIgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksIHAgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksIHkgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSwgdyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLCBQID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksIFcgPSBTeW1ib2wuZm9yKFwicmVhY3Qub2Zmc2NyZWVuXCIpLCBzZSA9IFN5bWJvbC5pdGVyYXRvciwgVWUgPSBcIkBAaXRlcmF0b3JcIjtcbiAgICBmdW5jdGlvbiBHZShlKSB7XG4gICAgICBpZiAoZSA9PT0gbnVsbCB8fCB0eXBlb2YgZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBhID0gc2UgJiYgZVtzZV0gfHwgZVtVZV07XG4gICAgICByZXR1cm4gdHlwZW9mIGEgPT0gXCJmdW5jdGlvblwiID8gYSA6IG51bGw7XG4gICAgfVxuICAgIHZhciBOID0gci5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcbiAgICBmdW5jdGlvbiBTKGUpIHtcbiAgICAgIHtcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50cy5sZW5ndGgsIGkgPSBuZXcgQXJyYXkoYSA+IDEgPyBhIC0gMSA6IDApLCB2ID0gMTsgdiA8IGE7IHYrKylcbiAgICAgICAgICBpW3YgLSAxXSA9IGFyZ3VtZW50c1t2XTtcbiAgICAgICAgSGUoXCJlcnJvclwiLCBlLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gSGUoZSwgYSwgaSkge1xuICAgICAge1xuICAgICAgICB2YXIgdiA9IE4uUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSwgaCA9IHYuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuICAgICAgICBoICE9PSBcIlwiICYmIChhICs9IFwiJXNcIiwgaSA9IGkuY29uY2F0KFtoXSkpO1xuICAgICAgICB2YXIgaiA9IGkubWFwKGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKGcpO1xuICAgICAgICB9KTtcbiAgICAgICAgai51bnNoaWZ0KFwiV2FybmluZzogXCIgKyBhKSwgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtlXSwgY29uc29sZSwgaik7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBLZSA9ICExLCBxZSA9ICExLCBKZSA9ICExLCBYZSA9ICExLCBaZSA9ICExLCBsZTtcbiAgICBsZSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tb2R1bGUucmVmZXJlbmNlXCIpO1xuICAgIGZ1bmN0aW9uIFFlKGUpIHtcbiAgICAgIHJldHVybiAhISh0eXBlb2YgZSA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBlID09IFwiZnVuY3Rpb25cIiB8fCBlID09PSBvIHx8IGUgPT09IGMgfHwgWmUgfHwgZSA9PT0gcyB8fCBlID09PSBwIHx8IGUgPT09IHkgfHwgWGUgfHwgZSA9PT0gVyB8fCBLZSB8fCBxZSB8fCBKZSB8fCB0eXBlb2YgZSA9PSBcIm9iamVjdFwiICYmIGUgIT09IG51bGwgJiYgKGUuJCR0eXBlb2YgPT09IFAgfHwgZS4kJHR5cGVvZiA9PT0gdyB8fCBlLiQkdHlwZW9mID09PSBmIHx8IGUuJCR0eXBlb2YgPT09IHUgfHwgZS4kJHR5cGVvZiA9PT0gYiB8fCAvLyBUaGlzIG5lZWRzIHRvIGluY2x1ZGUgYWxsIHBvc3NpYmxlIG1vZHVsZSByZWZlcmVuY2Ugb2JqZWN0XG4gICAgICAvLyB0eXBlcyBzdXBwb3J0ZWQgYnkgYW55IEZsaWdodCBjb25maWd1cmF0aW9uIGFueXdoZXJlIHNpbmNlXG4gICAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAgIC8vIHdpdGguXG4gICAgICBlLiQkdHlwZW9mID09PSBsZSB8fCBlLmdldE1vZHVsZUlkICE9PSB2b2lkIDApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXIoZSwgYSwgaSkge1xuICAgICAgdmFyIHYgPSBlLmRpc3BsYXlOYW1lO1xuICAgICAgaWYgKHYpXG4gICAgICAgIHJldHVybiB2O1xuICAgICAgdmFyIGggPSBhLmRpc3BsYXlOYW1lIHx8IGEubmFtZSB8fCBcIlwiO1xuICAgICAgcmV0dXJuIGggIT09IFwiXCIgPyBpICsgXCIoXCIgKyBoICsgXCIpXCIgOiBpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1ZShlKSB7XG4gICAgICByZXR1cm4gZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gTyhlKSB7XG4gICAgICBpZiAoZSA9PSBudWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgZS50YWcgPT0gXCJudW1iZXJcIiAmJiBTKFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIiksIHR5cGVvZiBlID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIGUuZGlzcGxheU5hbWUgfHwgZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgY2FzZSBvOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgbjpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSBjOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgczpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgcDpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIHk6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGUgPT0gXCJvYmplY3RcIilcbiAgICAgICAgc3dpdGNoIChlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSB1OlxuICAgICAgICAgICAgdmFyIGEgPSBlO1xuICAgICAgICAgICAgcmV0dXJuIHVlKGEpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIGY6XG4gICAgICAgICAgICB2YXIgaSA9IGU7XG4gICAgICAgICAgICByZXR1cm4gdWUoaS5fY29udGV4dCkgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICAgIGNhc2UgYjpcbiAgICAgICAgICAgIHJldHVybiBlcihlLCBlLnJlbmRlciwgXCJGb3J3YXJkUmVmXCIpO1xuICAgICAgICAgIGNhc2UgdzpcbiAgICAgICAgICAgIHZhciB2ID0gZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHYgIT09IG51bGwgPyB2IDogTyhlLnR5cGUpIHx8IFwiTWVtb1wiO1xuICAgICAgICAgIGNhc2UgUDoge1xuICAgICAgICAgICAgdmFyIGggPSBlLCBqID0gaC5fcGF5bG9hZCwgZyA9IGguX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gTyhnKGopKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgRCA9IE9iamVjdC5hc3NpZ24sIEEgPSAwLCBjZSwgZGUsIGZlLCB2ZSwgYmUsIHBlLCBtZTtcbiAgICBmdW5jdGlvbiBnZSgpIHtcbiAgICB9XG4gICAgZ2UuX19yZWFjdERpc2FibGVkTG9nID0gITA7XG4gICAgZnVuY3Rpb24gcnIoKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChBID09PSAwKSB7XG4gICAgICAgICAgY2UgPSBjb25zb2xlLmxvZywgZGUgPSBjb25zb2xlLmluZm8sIGZlID0gY29uc29sZS53YXJuLCB2ZSA9IGNvbnNvbGUuZXJyb3IsIGJlID0gY29uc29sZS5ncm91cCwgcGUgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkLCBtZSA9IGNvbnNvbGUuZ3JvdXBFbmQ7XG4gICAgICAgICAgdmFyIGUgPSB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgICB2YWx1ZTogZ2UsXG4gICAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgICB9O1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICAgIGluZm86IGUsXG4gICAgICAgICAgICBsb2c6IGUsXG4gICAgICAgICAgICB3YXJuOiBlLFxuICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICBncm91cDogZSxcbiAgICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBlLFxuICAgICAgICAgICAgZ3JvdXBFbmQ6IGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBBKys7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyKCkge1xuICAgICAge1xuICAgICAgICBpZiAoQS0tLCBBID09PSAwKSB7XG4gICAgICAgICAgdmFyIGUgPSB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgICB9O1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICAgIGxvZzogRCh7fSwgZSwge1xuICAgICAgICAgICAgICB2YWx1ZTogY2VcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgaW5mbzogRCh7fSwgZSwge1xuICAgICAgICAgICAgICB2YWx1ZTogZGVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgd2FybjogRCh7fSwgZSwge1xuICAgICAgICAgICAgICB2YWx1ZTogZmVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZXJyb3I6IEQoe30sIGUsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHZlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdyb3VwOiBEKHt9LCBlLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBiZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBncm91cENvbGxhcHNlZDogRCh7fSwgZSwge1xuICAgICAgICAgICAgICB2YWx1ZTogcGVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ3JvdXBFbmQ6IEQoe30sIGUsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IG1lXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIEEgPCAwICYmIFMoXCJkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgSiA9IE4uUmVhY3RDdXJyZW50RGlzcGF0Y2hlciwgWDtcbiAgICBmdW5jdGlvbiBWKGUsIGEsIGkpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKFggPT09IHZvaWQgMClcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICB9IGNhdGNoIChoKSB7XG4gICAgICAgICAgICB2YXIgdiA9IGguc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7XG4gICAgICAgICAgICBYID0gdiAmJiB2WzFdIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFxuYCArIFggKyBlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgWiA9ICExLCBZO1xuICAgIHtcbiAgICAgIHZhciBuciA9IHR5cGVvZiBXZWFrTWFwID09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBNYXA7XG4gICAgICBZID0gbmV3IG5yKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhlKGUsIGEpIHtcbiAgICAgIGlmICghZSB8fCBaKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIHtcbiAgICAgICAgdmFyIGkgPSBZLmdldChlKTtcbiAgICAgICAgaWYgKGkgIT09IHZvaWQgMClcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICAgIHZhciB2O1xuICAgICAgWiA9ICEwO1xuICAgICAgdmFyIGggPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdm9pZCAwO1xuICAgICAgdmFyIGo7XG4gICAgICBqID0gSi5jdXJyZW50LCBKLmN1cnJlbnQgPSBudWxsLCBycigpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICB2YXIgZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkoZy5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSwgdHlwZW9mIFJlZmxlY3QgPT0gXCJvYmplY3RcIiAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZywgW10pO1xuICAgICAgICAgICAgfSBjYXRjaCAoRikge1xuICAgICAgICAgICAgICB2ID0gRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGUsIFtdLCBnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZy5jYWxsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChGKSB7XG4gICAgICAgICAgICAgIHYgPSBGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5jYWxsKGcucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoRikge1xuICAgICAgICAgICAgdiA9IEY7XG4gICAgICAgICAgfVxuICAgICAgICAgIGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoRikge1xuICAgICAgICBpZiAoRiAmJiB2ICYmIHR5cGVvZiBGLnN0YWNrID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBmb3IgKHZhciBtID0gRi5zdGFjay5zcGxpdChgXG5gKSwgXyA9IHYuc3RhY2suc3BsaXQoYFxuYCksIEUgPSBtLmxlbmd0aCAtIDEsIGsgPSBfLmxlbmd0aCAtIDE7IEUgPj0gMSAmJiBrID49IDAgJiYgbVtFXSAhPT0gX1trXTsgKVxuICAgICAgICAgICAgay0tO1xuICAgICAgICAgIGZvciAoOyBFID49IDEgJiYgayA+PSAwOyBFLS0sIGstLSlcbiAgICAgICAgICAgIGlmIChtW0VdICE9PSBfW2tdKSB7XG4gICAgICAgICAgICAgIGlmIChFICE9PSAxIHx8IGsgIT09IDEpXG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChFLS0sIGstLSwgayA8IDAgfHwgbVtFXSAhPT0gX1trXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgQyA9IGBcbmAgKyBtW0VdLnJlcGxhY2UoXCIgYXQgbmV3IFwiLCBcIiBhdCBcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmRpc3BsYXlOYW1lICYmIEMuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJiAoQyA9IEMucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGUuZGlzcGxheU5hbWUpKSwgdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiICYmIFkuc2V0KGUsIEMpLCBDO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlIChFID49IDEgJiYgayA+PSAwKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFogPSAhMSwgSi5jdXJyZW50ID0gaiwgdHIoKSwgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBoO1xuICAgICAgfVxuICAgICAgdmFyIEwgPSBlID8gZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUgOiBcIlwiLCBPZSA9IEwgPyBWKEwpIDogXCJcIjtcbiAgICAgIHJldHVybiB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIgJiYgWS5zZXQoZSwgT2UpLCBPZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb3IoZSwgYSwgaSkge1xuICAgICAgcmV0dXJuIGhlKGUsICExKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXIoZSkge1xuICAgICAgdmFyIGEgPSBlLnByb3RvdHlwZTtcbiAgICAgIHJldHVybiAhIShhICYmIGEuaXNSZWFjdENvbXBvbmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFUoZSwgYSwgaSkge1xuICAgICAgaWYgKGUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAodHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gaGUoZSwgYXIoZSkpO1xuICAgICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBWKGUpO1xuICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgIGNhc2UgcDpcbiAgICAgICAgICByZXR1cm4gVihcIlN1c3BlbnNlXCIpO1xuICAgICAgICBjYXNlIHk6XG4gICAgICAgICAgcmV0dXJuIFYoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGUgPT0gXCJvYmplY3RcIilcbiAgICAgICAgc3dpdGNoIChlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgcmV0dXJuIG9yKGUucmVuZGVyKTtcbiAgICAgICAgICBjYXNlIHc6XG4gICAgICAgICAgICByZXR1cm4gVShlLnR5cGUsIGEsIGkpO1xuICAgICAgICAgIGNhc2UgUDoge1xuICAgICAgICAgICAgdmFyIHYgPSBlLCBoID0gdi5fcGF5bG9hZCwgaiA9IHYuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gVShqKGgpLCBhLCBpKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHZhciBHID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgeGUgPSB7fSwgeWUgPSBOLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgZnVuY3Rpb24gSChlKSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICB2YXIgYSA9IGUuX293bmVyLCBpID0gVShlLnR5cGUsIGUuX3NvdXJjZSwgYSA/IGEudHlwZSA6IG51bGwpO1xuICAgICAgICB5ZS5zZXRFeHRyYVN0YWNrRnJhbWUoaSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgeWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpcihlLCBhLCBpLCB2LCBoKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBqID0gRnVuY3Rpb24uY2FsbC5iaW5kKEcpO1xuICAgICAgICBmb3IgKHZhciBnIGluIGUpXG4gICAgICAgICAgaWYgKGooZSwgZykpIHtcbiAgICAgICAgICAgIHZhciBtID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlW2ddICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBfID0gRXJyb3IoKHYgfHwgXCJSZWFjdCBjbGFzc1wiKSArIFwiOiBcIiArIGkgKyBcIiB0eXBlIGBcIiArIGcgKyBcImAgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYFwiICsgdHlwZW9mIGVbZ10gKyBcImAuVGhpcyBvZnRlbiBoYXBwZW5zIGJlY2F1c2Ugb2YgdHlwb3Mgc3VjaCBhcyBgUHJvcFR5cGVzLmZ1bmN0aW9uYCBpbnN0ZWFkIG9mIGBQcm9wVHlwZXMuZnVuY2AuXCIpO1xuICAgICAgICAgICAgICAgIHRocm93IF8ubmFtZSA9IFwiSW52YXJpYW50IFZpb2xhdGlvblwiLCBfO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG0gPSBlW2ddKGEsIGcsIHYsIGksIG51bGwsIFwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIik7XG4gICAgICAgICAgICB9IGNhdGNoIChFKSB7XG4gICAgICAgICAgICAgIG0gPSBFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbSAmJiAhKG0gaW5zdGFuY2VvZiBFcnJvcikgJiYgKEgoaCksIFMoXCIlczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciBmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCBzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuXCIsIHYgfHwgXCJSZWFjdCBjbGFzc1wiLCBpLCBnLCB0eXBlb2YgbSksIEgobnVsbCkpLCBtIGluc3RhbmNlb2YgRXJyb3IgJiYgIShtLm1lc3NhZ2UgaW4geGUpICYmICh4ZVttLm1lc3NhZ2VdID0gITAsIEgoaCksIFMoXCJGYWlsZWQgJXMgdHlwZTogJXNcIiwgaSwgbS5tZXNzYWdlKSwgSChudWxsKSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3IgPSBBcnJheS5pc0FycmF5O1xuICAgIGZ1bmN0aW9uIFEoZSkge1xuICAgICAgcmV0dXJuIHNyKGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBscihlKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBhID0gdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLnRvU3RyaW5nVGFnLCBpID0gYSAmJiBlW1N5bWJvbC50b1N0cmluZ1RhZ10gfHwgZS5jb25zdHJ1Y3Rvci5uYW1lIHx8IFwiT2JqZWN0XCI7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1cihlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gamUoZSksICExO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gamUoZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZShlKSB7XG4gICAgICBpZiAodXIoZSkpXG4gICAgICAgIHJldHVybiBTKFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsIGxyKGUpKSwgamUoZSk7XG4gICAgfVxuICAgIHZhciB6ID0gTi5SZWFjdEN1cnJlbnRPd25lciwgY3IgPSB7XG4gICAgICBrZXk6ICEwLFxuICAgICAgcmVmOiAhMCxcbiAgICAgIF9fc2VsZjogITAsXG4gICAgICBfX3NvdXJjZTogITBcbiAgICB9LCBUZSwgRWUsIGVlO1xuICAgIGVlID0ge307XG4gICAgZnVuY3Rpb24gZHIoZSkge1xuICAgICAgaWYgKEcuY2FsbChlLCBcInJlZlwiKSkge1xuICAgICAgICB2YXIgYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgXCJyZWZcIikuZ2V0O1xuICAgICAgICBpZiAoYSAmJiBhLmlzUmVhY3RXYXJuaW5nKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlLnJlZiAhPT0gdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmcihlKSB7XG4gICAgICBpZiAoRy5jYWxsKGUsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBhID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBcImtleVwiKS5nZXQ7XG4gICAgICAgIGlmIChhICYmIGEuaXNSZWFjdFdhcm5pbmcpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGUua2V5ICE9PSB2b2lkIDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZyKGUsIGEpIHtcbiAgICAgIGlmICh0eXBlb2YgZS5yZWYgPT0gXCJzdHJpbmdcIiAmJiB6LmN1cnJlbnQgJiYgYSAmJiB6LmN1cnJlbnQuc3RhdGVOb2RlICE9PSBhKSB7XG4gICAgICAgIHZhciBpID0gTyh6LmN1cnJlbnQudHlwZSk7XG4gICAgICAgIGVlW2ldIHx8IChTKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gU3VwcG9ydCBmb3Igc3RyaW5nIHJlZnMgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIFRoaXMgY2FzZSBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYW4gYXJyb3cgZnVuY3Rpb24uIFdlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiBMZWFybiBtb3JlIGFib3V0IHVzaW5nIHJlZnMgc2FmZWx5IGhlcmU6IGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zdHJpY3QtbW9kZS1zdHJpbmctcmVmJywgTyh6LmN1cnJlbnQudHlwZSksIGUucmVmKSwgZWVbaV0gPSAhMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJyKGUsIGEpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBUZSB8fCAoVGUgPSAhMCwgUyhcIiVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpXCIsIGEpKTtcbiAgICAgICAgfTtcbiAgICAgICAgaS5pc1JlYWN0V2FybmluZyA9ICEwLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJrZXlcIiwge1xuICAgICAgICAgIGdldDogaSxcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcihlLCBhKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBpID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgRWUgfHwgKEVlID0gITAsIFMoXCIlczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zcGVjaWFsLXByb3BzKVwiLCBhKSk7XG4gICAgICAgIH07XG4gICAgICAgIGkuaXNSZWFjdFdhcm5pbmcgPSAhMCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicmVmXCIsIHtcbiAgICAgICAgICBnZXQ6IGksXG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG1yID0gZnVuY3Rpb24oZSwgYSwgaSwgdiwgaCwgaiwgZykge1xuICAgICAgdmFyIG0gPSB7XG4gICAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgICAkJHR5cGVvZjogdCxcbiAgICAgICAgLy8gQnVpbHQtaW4gcHJvcGVydGllcyB0aGF0IGJlbG9uZyBvbiB0aGUgZWxlbWVudFxuICAgICAgICB0eXBlOiBlLFxuICAgICAgICBrZXk6IGEsXG4gICAgICAgIHJlZjogaSxcbiAgICAgICAgcHJvcHM6IGcsXG4gICAgICAgIC8vIFJlY29yZCB0aGUgY29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgIF9vd25lcjogalxuICAgICAgfTtcbiAgICAgIHJldHVybiBtLl9zdG9yZSA9IHt9LCBPYmplY3QuZGVmaW5lUHJvcGVydHkobS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6ICExXG4gICAgICB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG0sIFwiX3NlbGZcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICExLFxuICAgICAgICB2YWx1ZTogdlxuICAgICAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtLCBcIl9zb3VyY2VcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICExLFxuICAgICAgICB2YWx1ZTogaFxuICAgICAgfSksIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUobS5wcm9wcyksIE9iamVjdC5mcmVlemUobSkpLCBtO1xuICAgIH07XG4gICAgZnVuY3Rpb24gZ3IoZSwgYSwgaSwgdiwgaCkge1xuICAgICAge1xuICAgICAgICB2YXIgaiwgZyA9IHt9LCBtID0gbnVsbCwgXyA9IG51bGw7XG4gICAgICAgIGkgIT09IHZvaWQgMCAmJiAoUmUoaSksIG0gPSBcIlwiICsgaSksIGZyKGEpICYmIChSZShhLmtleSksIG0gPSBcIlwiICsgYS5rZXkpLCBkcihhKSAmJiAoXyA9IGEucmVmLCB2cihhLCBoKSk7XG4gICAgICAgIGZvciAoaiBpbiBhKVxuICAgICAgICAgIEcuY2FsbChhLCBqKSAmJiAhY3IuaGFzT3duUHJvcGVydHkoaikgJiYgKGdbal0gPSBhW2pdKTtcbiAgICAgICAgaWYgKGUgJiYgZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICB2YXIgRSA9IGUuZGVmYXVsdFByb3BzO1xuICAgICAgICAgIGZvciAoaiBpbiBFKVxuICAgICAgICAgICAgZ1tqXSA9PT0gdm9pZCAwICYmIChnW2pdID0gRVtqXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0gfHwgXykge1xuICAgICAgICAgIHZhciBrID0gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiID8gZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUgfHwgXCJVbmtub3duXCIgOiBlO1xuICAgICAgICAgIG0gJiYgYnIoZywgayksIF8gJiYgcHIoZywgayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1yKGUsIG0sIF8sIGgsIHYsIHouY3VycmVudCwgZyk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciByZSA9IE4uUmVhY3RDdXJyZW50T3duZXIsIGtlID0gTi5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIGZ1bmN0aW9uIEkoZSkge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgdmFyIGEgPSBlLl9vd25lciwgaSA9IFUoZS50eXBlLCBlLl9zb3VyY2UsIGEgPyBhLnR5cGUgOiBudWxsKTtcbiAgICAgICAga2Uuc2V0RXh0cmFTdGFja0ZyYW1lKGkpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGtlLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gICAgdmFyIHRlO1xuICAgIHRlID0gITE7XG4gICAgZnVuY3Rpb24gbmUoZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBlID09IFwib2JqZWN0XCIgJiYgZSAhPT0gbnVsbCAmJiBlLiQkdHlwZW9mID09PSB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiB3ZSgpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKHJlLmN1cnJlbnQpIHtcbiAgICAgICAgICB2YXIgZSA9IE8ocmUuY3VycmVudC50eXBlKTtcbiAgICAgICAgICBpZiAoZSlcbiAgICAgICAgICAgIHJldHVybiBgXG5cbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIFxcYGAgKyBlICsgXCJgLlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBocihlKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB2YXIgYSA9IGUuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgXCJcIiksIGkgPSBlLmxpbmVOdW1iZXI7XG4gICAgICAgICAgcmV0dXJuIGBcblxuQ2hlY2sgeW91ciBjb2RlIGF0IGAgKyBhICsgXCI6XCIgKyBpICsgXCIuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBTZSA9IHt9O1xuICAgIGZ1bmN0aW9uIHhyKGUpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGEgPSB3ZSgpO1xuICAgICAgICBpZiAoIWEpIHtcbiAgICAgICAgICB2YXIgaSA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBlIDogZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWU7XG4gICAgICAgICAgaSAmJiAoYSA9IGBcblxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8YCArIGkgKyBcIj4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfZShlLCBhKSB7XG4gICAgICB7XG4gICAgICAgIGlmICghZS5fc3RvcmUgfHwgZS5fc3RvcmUudmFsaWRhdGVkIHx8IGUua2V5ICE9IG51bGwpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBlLl9zdG9yZS52YWxpZGF0ZWQgPSAhMDtcbiAgICAgICAgdmFyIGkgPSB4cihhKTtcbiAgICAgICAgaWYgKFNlW2ldKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgU2VbaV0gPSAhMDtcbiAgICAgICAgdmFyIHYgPSBcIlwiO1xuICAgICAgICBlICYmIGUuX293bmVyICYmIGUuX293bmVyICE9PSByZS5jdXJyZW50ICYmICh2ID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBPKGUuX293bmVyLnR5cGUpICsgXCIuXCIpLCBJKGUpLCBTKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLCBpLCB2KSwgSShudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gUGUoZSwgYSkge1xuICAgICAge1xuICAgICAgICBpZiAodHlwZW9mIGUgIT0gXCJvYmplY3RcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChRKGUpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHYgPSBlW2ldO1xuICAgICAgICAgICAgbmUodikgJiYgX2UodiwgYSk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZShlKSlcbiAgICAgICAgICBlLl9zdG9yZSAmJiAoZS5fc3RvcmUudmFsaWRhdGVkID0gITApO1xuICAgICAgICBlbHNlIGlmIChlKSB7XG4gICAgICAgICAgdmFyIGggPSBHZShlKTtcbiAgICAgICAgICBpZiAodHlwZW9mIGggPT0gXCJmdW5jdGlvblwiICYmIGggIT09IGUuZW50cmllcylcbiAgICAgICAgICAgIGZvciAodmFyIGogPSBoLmNhbGwoZSksIGc7ICEoZyA9IGoubmV4dCgpKS5kb25lOyApXG4gICAgICAgICAgICAgIG5lKGcudmFsdWUpICYmIF9lKGcudmFsdWUsIGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHlyKGUpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGEgPSBlLnR5cGU7XG4gICAgICAgIGlmIChhID09IG51bGwgfHwgdHlwZW9mIGEgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpZiAodHlwZW9mIGEgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgIGkgPSBhLnByb3BUeXBlcztcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT0gXCJvYmplY3RcIiAmJiAoYS4kJHR5cGVvZiA9PT0gYiB8fCAvLyBOb3RlOiBNZW1vIG9ubHkgY2hlY2tzIG91dGVyIHByb3BzIGhlcmUuXG4gICAgICAgIC8vIElubmVyIHByb3BzIGFyZSBjaGVja2VkIGluIHRoZSByZWNvbmNpbGVyLlxuICAgICAgICBhLiQkdHlwZW9mID09PSB3KSlcbiAgICAgICAgICBpID0gYS5wcm9wVHlwZXM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgdmFyIHYgPSBPKGEpO1xuICAgICAgICAgIGlyKGksIGUucHJvcHMsIFwicHJvcFwiLCB2LCBlKTtcbiAgICAgICAgfSBlbHNlIGlmIChhLlByb3BUeXBlcyAhPT0gdm9pZCAwICYmICF0ZSkge1xuICAgICAgICAgIHRlID0gITA7XG4gICAgICAgICAgdmFyIGggPSBPKGEpO1xuICAgICAgICAgIFMoXCJDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD9cIiwgaCB8fCBcIlVua25vd25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZW9mIGEuZ2V0RGVmYXVsdFByb3BzID09IFwiZnVuY3Rpb25cIiAmJiAhYS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQgJiYgUyhcImdldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyBkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBqcihlKSB7XG4gICAgICB7XG4gICAgICAgIGZvciAodmFyIGEgPSBPYmplY3Qua2V5cyhlLnByb3BzKSwgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHYgPSBhW2ldO1xuICAgICAgICAgIGlmICh2ICE9PSBcImNoaWxkcmVuXCIgJiYgdiAhPT0gXCJrZXlcIikge1xuICAgICAgICAgICAgSShlKSwgUyhcIkludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuIFJlYWN0LkZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYGtleWAgYW5kIGBjaGlsZHJlbmAgcHJvcHMuXCIsIHYpLCBJKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGUucmVmICE9PSBudWxsICYmIChJKGUpLCBTKFwiSW52YWxpZCBhdHRyaWJ1dGUgYHJlZmAgc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC5cIiksIEkobnVsbCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBDZShlLCBhLCBpLCB2LCBoLCBqKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBnID0gUWUoZSk7XG4gICAgICAgIGlmICghZykge1xuICAgICAgICAgIHZhciBtID0gXCJcIjtcbiAgICAgICAgICAoZSA9PT0gdm9pZCAwIHx8IHR5cGVvZiBlID09IFwib2JqZWN0XCIgJiYgZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyhlKS5sZW5ndGggPT09IDApICYmIChtICs9IFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIik7XG4gICAgICAgICAgdmFyIF8gPSBocihoKTtcbiAgICAgICAgICBfID8gbSArPSBfIDogbSArPSB3ZSgpO1xuICAgICAgICAgIHZhciBFO1xuICAgICAgICAgIGUgPT09IG51bGwgPyBFID0gXCJudWxsXCIgOiBRKGUpID8gRSA9IFwiYXJyYXlcIiA6IGUgIT09IHZvaWQgMCAmJiBlLiQkdHlwZW9mID09PSB0ID8gKEUgPSBcIjxcIiArIChPKGUudHlwZSkgfHwgXCJVbmtub3duXCIpICsgXCIgLz5cIiwgbSA9IFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/XCIpIDogRSA9IHR5cGVvZiBlLCBTKFwiUmVhY3QuanN4OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzXCIsIEUsIG0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrID0gZ3IoZSwgYSwgaSwgaCwgaik7XG4gICAgICAgIGlmIChrID09IG51bGwpXG4gICAgICAgICAgcmV0dXJuIGs7XG4gICAgICAgIGlmIChnKSB7XG4gICAgICAgICAgdmFyIEMgPSBhLmNoaWxkcmVuO1xuICAgICAgICAgIGlmIChDICE9PSB2b2lkIDApXG4gICAgICAgICAgICBpZiAodilcbiAgICAgICAgICAgICAgaWYgKFEoQykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBMID0gMDsgTCA8IEMubGVuZ3RoOyBMKyspXG4gICAgICAgICAgICAgICAgICBQZShDW0xdLCBlKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoQyk7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIFMoXCJSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiBZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuIFVzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBQZShDLCBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZSA9PT0gbyA/IGpyKGspIDogeXIoayksIGs7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJyKGUsIGEsIGkpIHtcbiAgICAgIHJldHVybiBDZShlLCBhLCBpLCAhMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRyKGUsIGEsIGkpIHtcbiAgICAgIHJldHVybiBDZShlLCBhLCBpLCAhMSk7XG4gICAgfVxuICAgIHZhciBFciA9IFRyLCBrciA9IFJyO1xuICAgICQuRnJhZ21lbnQgPSBvLCAkLmpzeCA9IEVyLCAkLmpzeHMgPSBrcjtcbiAgfSgpKSwgJDtcbn1cbnByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGllLmV4cG9ydHMgPSBBcigpIDogaWUuZXhwb3J0cyA9IHpyKCk7XG52YXIgbCA9IGllLmV4cG9ydHM7XG5jb25zdCBCZSA9IChyLCB0LCBuID0gITEpID0+IHtcbiAgY29uc3QgbyA9IFtdO1xuICBmdW5jdGlvbiBzKGMsIGYgPSBcIi0tYm5cIikge1xuICAgIGZvciAoY29uc3QgdSBpbiBjKSB7XG4gICAgICBjb25zdCBiID0gdS5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCksIHAgPSBgJHtmfS0ke2J9YDtcbiAgICAgIHR5cGVvZiBjW3VdICE9IFwib2JqZWN0XCIgPyAodHlwZW9mIGNbdV0gPT0gXCJudW1iZXJcIiAmJiAoY1t1XSA9IGAke2NbdV19cHhgKSwgbiA/IHQuc3R5bGUucmVtb3ZlUHJvcGVydHkocCkgOiB0LnN0eWxlLnNldFByb3BlcnR5KHAsIGNbdV0udG9TdHJpbmcoKSkpIDogcyhjW3VdLCBwKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHMociksIG87XG59LCBEZSA9IChyLCB0KSA9PiBCZShyLCB0KSwgQnIgPSB7XG4gIGNvbG9yczoge1xuICAgIGVkaXRvcjoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBtZW51OiB7XG4gICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICBiYWNrZ3JvdW5kOiB2b2lkIDBcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgIHRleHQ6IHZvaWQgMCxcbiAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgIH0sXG4gICAgaG92ZXJlZDoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBzaGFkb3c6IHZvaWQgMCxcbiAgICBib3JkZXI6IHZvaWQgMCxcbiAgICBzaWRlTWVudTogdm9pZCAwLFxuICAgIGhpZ2hsaWdodHM6IHtcbiAgICAgIGdyYXk6IHtcbiAgICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgICBiYWNrZ3JvdW5kOiB2b2lkIDBcbiAgICAgIH0sXG4gICAgICBicm93bjoge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHJlZDoge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIG9yYW5nZToge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHllbGxvdzoge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIGdyZWVuOiB7XG4gICAgICAgIHRleHQ6IHZvaWQgMCxcbiAgICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgICB9LFxuICAgICAgYmx1ZToge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHB1cnBsZToge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHBpbms6IHtcbiAgICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgICBiYWNrZ3JvdW5kOiB2b2lkIDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGJvcmRlclJhZGl1czogdm9pZCAwLFxuICBmb250RmFtaWx5OiB2b2lkIDBcbn0sICRyID0gKHIpID0+IEJlKEJyLCByLCAhMCksIFdyID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIG5hbWU6IG8sXG4gICAgbGFiZWw6IHMsXG4gICAgaWNvbjogYyxcbiAgICB2YWx1ZTogZixcbiAgICBhdXRvRm9jdXM6IHUsXG4gICAgcGxhY2Vob2xkZXI6IGIsXG4gICAgb25LZXlEb3duOiBwLFxuICAgIG9uQ2hhbmdlOiB5LFxuICAgIG9uU3VibWl0OiB3LFxuICAgIC4uLlBcbiAgfSA9IHI7XG4gIHJldHVybiBSKFApLCAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgZC5UZXh0SW5wdXQsXG4gICAge1xuICAgICAgc2l6ZTogXCJ4c1wiLFxuICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgcmVmOiB0LFxuICAgICAgbmFtZTogbyxcbiAgICAgIGxhYmVsOiBzLFxuICAgICAgbGVmdFNlY3Rpb246IGMsXG4gICAgICB2YWx1ZTogZixcbiAgICAgIGF1dG9Gb2N1czogdSxcbiAgICAgIFwiZGF0YS1hdXRvZm9jdXNcIjogdSA/IFwidHJ1ZVwiIDogdm9pZCAwLFxuICAgICAgcGxhY2Vob2xkZXI6IGIsXG4gICAgICBvbktleURvd246IHAsXG4gICAgICBvbkNoYW5nZTogeSxcbiAgICAgIG9uU3VibWl0OiB3XG4gICAgfVxuICApO1xufSk7XG52YXIgJGUgPSB7XG4gIGNvbG9yOiB2b2lkIDAsXG4gIHNpemU6IHZvaWQgMCxcbiAgY2xhc3NOYW1lOiB2b2lkIDAsXG4gIHN0eWxlOiB2b2lkIDAsXG4gIGF0dHI6IHZvaWQgMFxufSwgTmUgPSBNLmNyZWF0ZUNvbnRleHQgJiYgLyogQF9fUFVSRV9fICovIE0uY3JlYXRlQ29udGV4dCgkZSksIFZyID0gW1wiYXR0clwiLCBcInNpemVcIiwgXCJ0aXRsZVwiXTtcbmZ1bmN0aW9uIFlyKHIsIHQpIHtcbiAgaWYgKHIgPT0gbnVsbClcbiAgICByZXR1cm4ge307XG4gIHZhciBuID0gVXIociwgdCksIG8sIHM7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIGMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHIpO1xuICAgIGZvciAocyA9IDA7IHMgPCBjLmxlbmd0aDsgcysrKVxuICAgICAgbyA9IGNbc10sICEodC5pbmRleE9mKG8pID49IDApICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyLCBvKSAmJiAobltvXSA9IHJbb10pO1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gVXIociwgdCkge1xuICBpZiAociA9PSBudWxsKVxuICAgIHJldHVybiB7fTtcbiAgdmFyIG4gPSB7fTtcbiAgZm9yICh2YXIgbyBpbiByKVxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwociwgbykpIHtcbiAgICAgIGlmICh0LmluZGV4T2YobykgPj0gMClcbiAgICAgICAgY29udGludWU7XG4gICAgICBuW29dID0gcltvXTtcbiAgICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gSygpIHtcbiAgcmV0dXJuIEsgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbihyKSB7XG4gICAgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHtcbiAgICAgIHZhciBuID0gYXJndW1lbnRzW3RdO1xuICAgICAgZm9yICh2YXIgbyBpbiBuKVxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgbykgJiYgKHJbb10gPSBuW29dKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH0sIEsuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbmZ1bmN0aW9uIEllKHIsIHQpIHtcbiAgdmFyIG4gPSBPYmplY3Qua2V5cyhyKTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocik7XG4gICAgdCAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uKHMpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsIHMpLmVudW1lcmFibGU7XG4gICAgfSkpLCBuLnB1c2guYXBwbHkobiwgbyk7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBxKHIpIHtcbiAgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHtcbiAgICB2YXIgbiA9IGFyZ3VtZW50c1t0XSAhPSBudWxsID8gYXJndW1lbnRzW3RdIDoge307XG4gICAgdCAlIDIgPyBJZShPYmplY3QobiksICEwKS5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgIEdyKHIsIG8sIG5bb10pO1xuICAgIH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhyLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSkgOiBJZShPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24obykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIG8sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobiwgbykpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiByO1xufVxuZnVuY3Rpb24gR3IociwgdCwgbikge1xuICByZXR1cm4gdCA9IEhyKHQpLCB0IGluIHIgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkociwgdCwgeyB2YWx1ZTogbiwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IHJbdF0gPSBuLCByO1xufVxuZnVuY3Rpb24gSHIocikge1xuICB2YXIgdCA9IEtyKHIsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gdHlwZW9mIHQgPT0gXCJzeW1ib2xcIiA/IHQgOiB0ICsgXCJcIjtcbn1cbmZ1bmN0aW9uIEtyKHIsIHQpIHtcbiAgaWYgKHR5cGVvZiByICE9IFwib2JqZWN0XCIgfHwgIXIpXG4gICAgcmV0dXJuIHI7XG4gIHZhciBuID0gcltTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAobiAhPT0gdm9pZCAwKSB7XG4gICAgdmFyIG8gPSBuLmNhbGwociwgdCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKHR5cGVvZiBvICE9IFwib2JqZWN0XCIpXG4gICAgICByZXR1cm4gbztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuICh0ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShyKTtcbn1cbmZ1bmN0aW9uIFdlKHIpIHtcbiAgcmV0dXJuIHIgJiYgci5tYXAoKHQsIG4pID0+IC8qIEBfX1BVUkVfXyAqLyBNLmNyZWF0ZUVsZW1lbnQodC50YWcsIHEoe1xuICAgIGtleTogblxuICB9LCB0LmF0dHIpLCBXZSh0LmNoaWxkKSkpO1xufVxuZnVuY3Rpb24gVmUocikge1xuICByZXR1cm4gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBNLmNyZWF0ZUVsZW1lbnQocXIsIEsoe1xuICAgIGF0dHI6IHEoe30sIHIuYXR0cilcbiAgfSwgdCksIFdlKHIuY2hpbGQpKTtcbn1cbmZ1bmN0aW9uIHFyKHIpIHtcbiAgdmFyIHQgPSAobikgPT4ge1xuICAgIHZhciB7XG4gICAgICBhdHRyOiBvLFxuICAgICAgc2l6ZTogcyxcbiAgICAgIHRpdGxlOiBjXG4gICAgfSA9IHIsIGYgPSBZcihyLCBWciksIHUgPSBzIHx8IG4uc2l6ZSB8fCBcIjFlbVwiLCBiO1xuICAgIHJldHVybiBuLmNsYXNzTmFtZSAmJiAoYiA9IG4uY2xhc3NOYW1lKSwgci5jbGFzc05hbWUgJiYgKGIgPSAoYiA/IGIgKyBcIiBcIiA6IFwiXCIpICsgci5jbGFzc05hbWUpLCAvKiBAX19QVVJFX18gKi8gTS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIEsoe1xuICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgIHN0cm9rZVdpZHRoOiBcIjBcIlxuICAgIH0sIG4uYXR0ciwgbywgZiwge1xuICAgICAgY2xhc3NOYW1lOiBiLFxuICAgICAgc3R5bGU6IHEocSh7XG4gICAgICAgIGNvbG9yOiByLmNvbG9yIHx8IG4uY29sb3JcbiAgICAgIH0sIG4uc3R5bGUpLCByLnN0eWxlKSxcbiAgICAgIGhlaWdodDogdSxcbiAgICAgIHdpZHRoOiB1LFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIH0pLCBjICYmIC8qIEBfX1BVUkVfXyAqLyBNLmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBjKSwgci5jaGlsZHJlbik7XG4gIH07XG4gIHJldHVybiBOZSAhPT0gdm9pZCAwID8gLyogQF9fUFVSRV9fICovIE0uY3JlYXRlRWxlbWVudChOZS5Db25zdW1lciwgbnVsbCwgKG4pID0+IHQobikpIDogdCgkZSk7XG59XG5mdW5jdGlvbiBKcihyKSB7XG4gIHJldHVybiBWZSh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyMCAyMFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgZDogXCJNNS4yOTMgNy4yOTNhMSAxIDAgMDExLjQxNCAwTDEwIDEwLjU4NmwzLjI5My0zLjI5M2ExIDEgMCAxMTEuNDE0IDEuNDE0bC00IDRhMSAxIDAgMDEtMS40MTQgMGwtNC00YTEgMSAwIDAxMC0xLjQxNHpcIiwgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiIH0sIGNoaWxkOiBbXSB9XSB9KShyKTtcbn1cbmZ1bmN0aW9uIFhyKHIpIHtcbiAgcmV0dXJuIFZlKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDIwIDIwXCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk03LjI5MyAxNC43MDdhMSAxIDAgMDEwLTEuNDE0TDEwLjU4NiAxMCA3LjI5MyA2LjcwN2ExIDEgMCAwMTEuNDE0LTEuNDE0bDQgNGExIDEgMCAwMTAgMS40MTRsLTQgNGExIDEgMCAwMS0xLjQxNCAwelwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKHIpO1xufVxuY29uc3QgWWUgPSB3cih2b2lkIDApLCBaciA9IFQoKHIsIHQpID0+IHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuOiBuLFxuICAgIG9uT3BlbkNoYW5nZTogbyxcbiAgICBwb3NpdGlvbjogcyxcbiAgICBzdWI6IGMsXG4gICAgLy8gbm90IHVzZWRcbiAgICAuLi5mXG4gIH0gPSByO1xuICBSKGYpO1xuICBjb25zdCBbdSwgYl0gPSBTcighMSksIHAgPSBfcigpLCB5ID0gb2UoKCkgPT4ge1xuICAgIHAuY3VycmVudCAmJiBjbGVhclRpbWVvdXQocC5jdXJyZW50KSwgcC5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBiKCExKTtcbiAgICB9LCAyNTApO1xuICB9LCBbXSksIHcgPSBvZSgoKSA9PiB7XG4gICAgcC5jdXJyZW50ICYmIGNsZWFyVGltZW91dChwLmN1cnJlbnQpLCBiKCEwKTtcbiAgfSwgW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIFllLlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIG9uTWVudU1vdXNlT3ZlcjogdyxcbiAgICAgICAgb25NZW51TW91c2VMZWF2ZTogeVxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgIGQuTWVudS5JdGVtLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImJuLW1lbnUtaXRlbSBibi1tdC1zdWItbWVudS1pdGVtXCIsXG4gICAgICAgICAgcmVmOiB0LFxuICAgICAgICAgIG9uTW91c2VPdmVyOiB3LFxuICAgICAgICAgIG9uTW91c2VMZWF2ZTogeSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICAgICAgZC5NZW51LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB3aXRoaW5Qb3J0YWw6ICExLFxuICAgICAgICAgICAgICBtaWRkbGV3YXJlczogeyBmbGlwOiAhMCwgc2hpZnQ6ICEwLCBpbmxpbmU6ICExLCBzaXplOiAhMCB9LFxuICAgICAgICAgICAgICB0cmlnZ2VyOiBcImhvdmVyXCIsXG4gICAgICAgICAgICAgIG9wZW5lZDogdSxcbiAgICAgICAgICAgICAgb25DbG9zZTogKCkgPT4gbyA9PSBudWxsID8gdm9pZCAwIDogbyghMSksXG4gICAgICAgICAgICAgIG9uT3BlbjogKCkgPT4gbyA9PSBudWxsID8gdm9pZCAwIDogbyghMCksXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBzLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogblxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn0pLCBRciA9IChyKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW46IHQsIG9uT3BlbkNoYW5nZTogbiwgcG9zaXRpb246IG8sIHN1YjogcywgLi4uYyB9ID0gcjtcbiAgcmV0dXJuIFIoYyksIHMgPyAvKiBAX19QVVJFX18gKi8gbC5qc3goWnIsIHsgLi4uciB9KSA6IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICBkLk1lbnUsXG4gICAge1xuICAgICAgd2l0aGluUG9ydGFsOiAhMSxcbiAgICAgIG1pZGRsZXdhcmVzOiB7IGZsaXA6ICEwLCBzaGlmdDogITAsIGlubGluZTogITEsIHNpemU6ICEwIH0sXG4gICAgICBvbkNsb3NlOiAoKSA9PiBuID09IG51bGwgPyB2b2lkIDAgOiBuKCExKSxcbiAgICAgIG9uT3BlbjogKCkgPT4gbiA9PSBudWxsID8gdm9pZCAwIDogbighMCksXG4gICAgICBwb3NpdGlvbjogbyxcbiAgICAgIGNoaWxkcmVuOiB0XG4gICAgfVxuICApO1xufSwgZXQgPSBUKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgaWNvbjogcywgY2hlY2tlZDogYywgc3ViVHJpZ2dlcjogZiwgb25DbGljazogdSwgLi4uYiB9ID0gcjtcbiAgcmV0dXJuIFIoYiwgITEpLCBmID8gLyogQF9fUFVSRV9fICovIGwuanN4cyhcImRpdlwiLCB7IHJlZjogdCwgLi4uYiwgY2hpbGRyZW46IFtcbiAgICBvLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChYciwgeyBzaXplOiAxNSB9KVxuICBdIH0pIDogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIGQuTWVudS5JdGVtLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgIHJlZjogdCxcbiAgICAgIGxlZnRTZWN0aW9uOiBzLFxuICAgICAgcmlnaHRTZWN0aW9uOiBjID8gLyogQF9fUFVSRV9fICovIGwuanN4KGQuQ2hlY2tJY29uLCB7IHNpemU6IDEwIH0pIDogYyA9PT0gITEgPyAvKiBAX19QVVJFX18gKi8gbC5qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm4tdGljay1zcGFjZVwiIH0pIDogbnVsbCxcbiAgICAgIG9uQ2xpY2s6IHUsXG4gICAgICAuLi5iLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgcnQgPSAocikgPT4ge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW46IHQsXG4gICAgc3ViOiBuLFxuICAgIC8vIHVudXNlZFxuICAgIC4uLm9cbiAgfSA9IHI7XG4gIHJldHVybiBSKG8pLCAvKiBAX19QVVJFX18gKi8gbC5qc3goZC5NZW51LlRhcmdldCwgeyBjaGlsZHJlbjogdCB9KTtcbn0sIHR0ID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIGNoaWxkcmVuOiBvLFxuICAgIHN1YjogcyxcbiAgICAvL3VudXNlZFxuICAgIC4uLmNcbiAgfSA9IHI7XG4gIFIoYyk7XG4gIGNvbnN0IGYgPSBQcihZZSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgZC5NZW51LkRyb3Bkb3duLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgIHJlZjogdCxcbiAgICAgIG9uTW91c2VPdmVyOiBmID09IG51bGwgPyB2b2lkIDAgOiBmLm9uTWVudU1vdXNlT3ZlcixcbiAgICAgIG9uTW91c2VMZWF2ZTogZiA9PSBudWxsID8gdm9pZCAwIDogZi5vbk1lbnVNb3VzZUxlYXZlLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgbnQgPSBUKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCAuLi5vIH0gPSByO1xuICByZXR1cm4gUihvKSwgLyogQF9fUFVSRV9fICovIGwuanN4KGQuTWVudS5EaXZpZGVyLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0IH0pO1xufSksIG90ID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZTogbiwgY2hpbGRyZW46IG8sIC4uLnMgfSA9IHI7XG4gIHJldHVybiBSKHMpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goZC5NZW51LkxhYmVsLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogbyB9KTtcbn0pLCBhdCA9IFQoKHIsIHQpID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZTogbixcbiAgICB0YWJzOiBvLFxuICAgIGRlZmF1bHRPcGVuVGFiOiBzLFxuICAgIG9wZW5UYWI6IGMsXG4gICAgc2V0T3BlblRhYjogZixcbiAgICBsb2FkaW5nOiB1LFxuICAgIC4uLmJcbiAgfSA9IHI7XG4gIHJldHVybiBSKGIpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goZC5Hcm91cCwgeyBjbGFzc05hbWU6IG4sIHJlZjogdCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBsLmpzeHMoXG4gICAgZC5UYWJzLFxuICAgIHtcbiAgICAgIHZhbHVlOiBjLFxuICAgICAgZGVmYXVsdFZhbHVlOiBzLFxuICAgICAgb25DaGFuZ2U6IGYsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB1ICYmIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChkLkxvYWRpbmdPdmVybGF5LCB7IHZpc2libGU6IHUgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChkLlRhYnMuTGlzdCwgeyBjaGlsZHJlbjogby5tYXAoKHApID0+IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgICAgICBkLlRhYnMuVGFiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiZGF0YS10ZXN0XCI6IGAke3AubmFtZS50b0xvd2VyQ2FzZSgpfS10YWJgLFxuICAgICAgICAgICAgdmFsdWU6IHAubmFtZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBwLm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHAubmFtZVxuICAgICAgICApKSB9KSxcbiAgICAgICAgby5tYXAoKHApID0+IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChkLlRhYnMuUGFuZWwsIHsgdmFsdWU6IHAubmFtZSwgY2hpbGRyZW46IHAudGFiUGFuZWwgfSwgcC5uYW1lKSlcbiAgICAgIF1cbiAgICB9XG4gICkgfSk7XG59KSwgaXQgPSBUKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgb25DbGljazogcywgbGFiZWw6IGMsIC4uLmYgfSA9IHI7XG4gIHJldHVybiBSKGYpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgZC5CdXR0b24sXG4gICAge1xuICAgICAgc2l6ZTogXCJ4c1wiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IGMsXG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBvbkNsaWNrOiBzLFxuICAgICAgLi4uZixcbiAgICAgIGNoaWxkcmVuOiBvXG4gICAgfVxuICApO1xufSksIHN0ID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZTogbiwgYWNjZXB0OiBvLCB2YWx1ZTogcywgcGxhY2Vob2xkZXI6IGMsIG9uQ2hhbmdlOiBmLCAuLi51IH0gPSByO1xuICByZXR1cm4gUih1KSwgLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIGQuRmlsZUlucHV0LFxuICAgIHtcbiAgICAgIHNpemU6IFwieHNcIixcbiAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgIHJlZjogdCxcbiAgICAgIGFjY2VwdDogbyxcbiAgICAgIHZhbHVlOiBzLFxuICAgICAgcGxhY2Vob2xkZXI6IGMsXG4gICAgICBvbkNoYW5nZTogZixcbiAgICAgIC4uLnVcbiAgICB9XG4gICk7XG59KSwgbHQgPSBUKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgLi4ucyB9ID0gcjtcbiAgcmV0dXJuIFIocyksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogbyB9KTtcbn0pLCB1dCA9IFQoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIHZhbHVlOiBvLCBwbGFjZWhvbGRlcjogcywgb25LZXlEb3duOiBjLCBvbkNoYW5nZTogZiwgLi4udSB9ID0gcjtcbiAgcmV0dXJuIFIodSksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICBkLlRleHRJbnB1dCxcbiAgICB7XG4gICAgICBzaXplOiBcInhzXCIsXG4gICAgICBcImRhdGEtdGVzdFwiOiBcImVtYmVkLWlucHV0XCIsXG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICB2YWx1ZTogbyxcbiAgICAgIHBsYWNlaG9sZGVyOiBzLFxuICAgICAgb25LZXlEb3duOiBjLFxuICAgICAgb25DaGFuZ2U6IGZcbiAgICB9XG4gICk7XG59KSwgY3QgPSAocikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuOiB0LCBvcGVuZWQ6IG4sIHBvc2l0aW9uOiBvLCAuLi5zIH0gPSByO1xuICByZXR1cm4gUihzKSwgLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIGQuUG9wb3ZlcixcbiAgICB7XG4gICAgICB3aXRoaW5Qb3J0YWw6ICExLFxuICAgICAgekluZGV4OiAxZTQsXG4gICAgICBvcGVuZWQ6IG4sXG4gICAgICBwb3NpdGlvbjogbyxcbiAgICAgIGNoaWxkcmVuOiB0XG4gICAgfVxuICApO1xufSwgZHQgPSAocikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuOiB0LCAuLi5uIH0gPSByO1xuICByZXR1cm4gUihuKSwgLyogQF9fUFVSRV9fICovIGwuanN4KGQuUG9wb3ZlclRhcmdldCwgeyBjaGlsZHJlbjogdCB9KTtcbn0sIGZ0ID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIGNoaWxkcmVuOiBvLFxuICAgIHZhcmlhbnQ6IHMsXG4gICAgLy8gdW51c2VkXG4gICAgLi4uY1xuICB9ID0gcjtcbiAgcmV0dXJuIFIoYyksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChkLlBvcG92ZXJEcm9wZG93biwgeyBjbGFzc05hbWU6IG4sIHJlZjogdCwgY2hpbGRyZW46IG8gfSk7XG59KSwgdnQgPSBUKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgLi4ucyB9ID0gcjtcbiAgcmV0dXJuIFIocyksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChkLkdyb3VwLCB7IGFsaWduOiBcImNlbnRlclwiLCBnYXA6IDAsIGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogbyB9KTtcbn0pLCBidCA9IFQoKHIsIHQpID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZTogbixcbiAgICBjaGlsZHJlbjogbyxcbiAgICBpY29uOiBzLFxuICAgIG9uQ2xpY2s6IGMsXG4gICAgb25EcmFnRW5kOiBmLFxuICAgIG9uRHJhZ1N0YXJ0OiB1LFxuICAgIGRyYWdnYWJsZTogYixcbiAgICBsYWJlbDogcCxcbiAgICAuLi55XG4gIH0gPSByO1xuICByZXR1cm4gUih5LCAhMSksIHMgPyAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgZC5BY3Rpb25JY29uLFxuICAgIHtcbiAgICAgIHNpemU6IDI0LFxuICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgcmVmOiB0LFxuICAgICAgb25DbGljazogYyxcbiAgICAgIG9uRHJhZ0VuZDogZixcbiAgICAgIG9uRHJhZ1N0YXJ0OiB1LFxuICAgICAgZHJhZ2dhYmxlOiBiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHAsXG4gICAgICAuLi55LFxuICAgICAgY2hpbGRyZW46IHNcbiAgICB9XG4gICkgOiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgZC5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgcmVmOiB0LFxuICAgICAgb25DbGljazogYyxcbiAgICAgIG9uRHJhZ0VuZDogZixcbiAgICAgIG9uRHJhZ1N0YXJ0OiB1LFxuICAgICAgZHJhZ2dhYmxlOiBiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IHAsXG4gICAgICAuLi55LFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgcHQgPSBUKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgaWQ6IHMsIC4uLmMgfSA9IHI7XG4gIHJldHVybiBSKGMpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgZC5TdGFjayxcbiAgICB7XG4gICAgICBnYXA6IDAsXG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBpZDogcyxcbiAgICAgIHJvbGU6IFwibGlzdGJveFwiLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgbXQgPSBUKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgLi4ucyB9ID0gcjtcbiAgcmV0dXJuIFIocyksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChkLkdyb3VwLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KGQuR3JvdXAsIHsgY2xhc3NOYW1lOiBcImJuLW10LXN1Z2dlc3Rpb24tbWVudS1pdGVtLWxhYmVsXCIsIGNoaWxkcmVuOiBvIH0pIH0pO1xufSksIGd0ID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZTogbiwgaXNTZWxlY3RlZDogbywgb25DbGljazogcywgaXRlbTogYywgaWQ6IGYsIC4uLnUgfSA9IHI7XG4gIHJldHVybiBSKHUpLCAvKiBAX19QVVJFX18gKi8gbC5qc3hzKFxuICAgIGQuR3JvdXAsXG4gICAge1xuICAgICAgZ2FwOiAwLFxuICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgcmVmOiB0LFxuICAgICAgaWQ6IGYsXG4gICAgICByb2xlOiBcIm9wdGlvblwiLFxuICAgICAgb25DbGljazogcyxcbiAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBvIHx8IHZvaWQgMCxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIGMuaWNvbiAmJiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgICAgZC5Hcm91cCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiYm4tbXQtc3VnZ2VzdGlvbi1tZW51LWl0ZW0tc2VjdGlvblwiLFxuICAgICAgICAgICAgXCJkYXRhLXBvc2l0aW9uXCI6IFwibGVmdFwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IGMuaWNvblxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGwuanN4cyhkLlN0YWNrLCB7IGdhcDogMCwgY2xhc3NOYW1lOiBcImJuLW10LXN1Z2dlc3Rpb24tbWVudS1pdGVtLWJvZHlcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gbC5qc3goZC5UZXh0LCB7IGNsYXNzTmFtZTogXCJibi1tdC1zdWdnZXN0aW9uLW1lbnUtaXRlbS10aXRsZVwiLCBjaGlsZHJlbjogYy50aXRsZSB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gbC5qc3goZC5UZXh0LCB7IGNsYXNzTmFtZTogXCJibi1tdC1zdWdnZXN0aW9uLW1lbnUtaXRlbS1zdWJ0aXRsZVwiLCBjaGlsZHJlbjogYy5zdWJ0ZXh0IH0pXG4gICAgICAgIF0gfSksXG4gICAgICAgIGMuYmFkZ2UgJiYgLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICAgIGQuR3JvdXAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJkYXRhLXBvc2l0aW9uXCI6IFwicmlnaHRcIixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJibi1tdC1zdWdnZXN0aW9uLW1lbnUtaXRlbS1zZWN0aW9uXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KGQuQmFkZ2UsIHsgc2l6ZTogXCJ4c1wiLCBjaGlsZHJlbjogYy5iYWRnZSB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCBodCA9IFQoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIGNoaWxkcmVuOiBvLCAuLi5zIH0gPSByO1xuICByZXR1cm4gUihzKSwgLyogQF9fUFVSRV9fICovIGwuanN4KGQuR3JvdXAsIHsgY2xhc3NOYW1lOiBuLCByZWY6IHQsIGNoaWxkcmVuOiBvIH0pO1xufSksIHh0ID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIGNoaWxkcmVuOiBvLFxuICAgIC8vIHVudXNlZCwgdXNpbmcgXCJkb3RzXCIgaW5zdGVhZFxuICAgIC4uLnNcbiAgfSA9IHI7XG4gIHJldHVybiBSKHMpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goZC5Mb2FkZXIsIHsgY2xhc3NOYW1lOiBuLCB0eXBlOiBcImRvdHNcIiwgcmVmOiB0IH0pO1xufSksIHl0ID0gVCgociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIGNoaWxkcmVuOiBvLFxuICAgIGRyYWdnYWJsZTogcyxcbiAgICBvbkRyYWdTdGFydDogYyxcbiAgICBvbkRyYWdFbmQ6IGYsXG4gICAgc3R5bGU6IHUsXG4gICAgbGFiZWw6IGIsXG4gICAgLi4ucFxuICB9ID0gcjtcbiAgcmV0dXJuIFIocCwgITEpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgXCJidXR0b25cIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBcImFyaWEtbGFiZWxcIjogYixcbiAgICAgIGRyYWdnYWJsZTogcyxcbiAgICAgIG9uRHJhZ1N0YXJ0OiBjLFxuICAgICAgb25EcmFnRW5kOiBmLFxuICAgICAgc3R5bGU6IHUsXG4gICAgICAuLi5wLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgTGUgPSBUKFxuICAociwgdCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgb25Nb3VzZUVudGVyOiBzLCBvbk1vdXNlTGVhdmU6IGMsIC4uLmYgfSA9IHI7XG4gICAgUihmKTtcbiAgICBjb25zdCB7IHJlZjogdSwgZm9jdXNlZDogYiB9ID0gTnIoKSwgcCA9IElyKGIpLCB5ID0gTHIodCwgdSwgcCk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgIGQuR3JvdXAsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgICAgcmVmOiB5LFxuICAgICAgICByb2xlOiBcInRvb2xiYXJcIixcbiAgICAgICAgb25Nb3VzZUVudGVyOiBzLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IGMsXG4gICAgICAgIGNoaWxkcmVuOiBvXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKSwganQgPSAocikgPT4gLyogQF9fUFVSRV9fICovIGwuanN4cyhkLlN0YWNrLCB7IGdhcDogMCwgY2xhc3NOYW1lOiBcImJuLXRvb2x0aXBcIiwgY2hpbGRyZW46IFtcbiAgLyogQF9fUFVSRV9fICovIGwuanN4KGQuVGV4dCwgeyBzaXplOiBcInNtXCIsIGNoaWxkcmVuOiByLm1haW5Ub29sdGlwIH0pLFxuICByLnNlY29uZGFyeVRvb2x0aXAgJiYgLyogQF9fUFVSRV9fICovIGwuanN4KGQuVGV4dCwgeyBzaXplOiBcInhzXCIsIGNoaWxkcmVuOiByLnNlY29uZGFyeVRvb2x0aXAgfSlcbl0gfSksIEFlID0gVChcbiAgKHIsIHQpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICBjaGlsZHJlbjogbyxcbiAgICAgIG1haW5Ub29sdGlwOiBzLFxuICAgICAgc2Vjb25kYXJ5VG9vbHRpcDogYyxcbiAgICAgIGljb246IGYsXG4gICAgICBpc1NlbGVjdGVkOiB1LFxuICAgICAgaXNEaXNhYmxlZDogYixcbiAgICAgIG9uQ2xpY2s6IHAsXG4gICAgICBsYWJlbDogeSxcbiAgICAgIC4uLndcbiAgICB9ID0gcjtcbiAgICByZXR1cm4gUih3LCAhMSksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgIGQuVG9vbHRpcCxcbiAgICAgIHtcbiAgICAgICAgd2l0aGluUG9ydGFsOiAhMSxcbiAgICAgICAgbGFiZWw6IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgICAgICBqdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtYWluVG9vbHRpcDogcyxcbiAgICAgICAgICAgIHNlY29uZGFyeVRvb2x0aXA6IGNcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIGNoaWxkcmVuOiBvID8gLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICAgIGQuQnV0dG9uLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiB5LFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgICAgICAgb25Nb3VzZURvd246IChQKSA9PiB7XG4gICAgICAgICAgICAgIGFlKCkgJiYgUC5jdXJyZW50VGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGljazogcCxcbiAgICAgICAgICAgIFwiYXJpYS1wcmVzc2VkXCI6IHUsXG4gICAgICAgICAgICBcImRhdGEtc2VsZWN0ZWRcIjogdSB8fCB2b2lkIDAsXG4gICAgICAgICAgICBcImRhdGEtdGVzdFwiOiBzLnNsaWNlKDAsIDEpLnRvTG93ZXJDYXNlKCkgKyBzLnJlcGxhY2UoL1xccysvZywgXCJcIikuc2xpY2UoMSksXG4gICAgICAgICAgICBzaXplOiBcInhzXCIsXG4gICAgICAgICAgICBkaXNhYmxlZDogYiB8fCAhMSxcbiAgICAgICAgICAgIHJlZjogdCxcbiAgICAgICAgICAgIC4uLncsXG4gICAgICAgICAgICBjaGlsZHJlbjogb1xuICAgICAgICAgIH1cbiAgICAgICAgKSA6IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgICAgICBkLkFjdGlvbkljb24sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IHksXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogKFApID0+IHtcbiAgICAgICAgICAgICAgYWUoKSAmJiBQLmN1cnJlbnRUYXJnZXQuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsaWNrOiBwLFxuICAgICAgICAgICAgXCJhcmlhLXByZXNzZWRcIjogdSxcbiAgICAgICAgICAgIFwiZGF0YS1zZWxlY3RlZFwiOiB1IHx8IHZvaWQgMCxcbiAgICAgICAgICAgIFwiZGF0YS10ZXN0XCI6IHMuc2xpY2UoMCwgMSkudG9Mb3dlckNhc2UoKSArIHMucmVwbGFjZSgvXFxzKy9nLCBcIlwiKS5zbGljZSgxKSxcbiAgICAgICAgICAgIHNpemU6IDMwLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGIgfHwgITEsXG4gICAgICAgICAgICByZWY6IHQsXG4gICAgICAgICAgICAuLi53LFxuICAgICAgICAgICAgY2hpbGRyZW46IGZcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApO1xuICB9XG4pLCBSdCA9IFQoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIGl0ZW1zOiBvLCBpc0Rpc2FibGVkOiBzLCAuLi5jIH0gPSByO1xuICBSKGMpO1xuICBjb25zdCBmID0gby5maWx0ZXIoKHUpID0+IHUuaXNTZWxlY3RlZClbMF07XG4gIHJldHVybiBmID8gLyogQF9fUFVSRV9fICovIGwuanN4cyhcbiAgICBkLk1lbnUsXG4gICAge1xuICAgICAgd2l0aGluUG9ydGFsOiAhMSxcbiAgICAgIHRyYW5zaXRpb25Qcm9wczoge1xuICAgICAgICBleGl0RHVyYXRpb246IDBcbiAgICAgIH0sXG4gICAgICBkaXNhYmxlZDogcyxcbiAgICAgIG1pZGRsZXdhcmVzOiB7IGZsaXA6ICEwLCBzaGlmdDogITAsIGlubGluZTogITEsIHNpemU6ICEwIH0sXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8gbC5qc3goZC5NZW51LlRhcmdldCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICAgIGQuQnV0dG9uLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG9uTW91c2VEb3duOiAodSkgPT4ge1xuICAgICAgICAgICAgICBhZSgpICYmIHUuY3VycmVudFRhcmdldC5mb2N1cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlZnRTZWN0aW9uOiBmLmljb24sXG4gICAgICAgICAgICByaWdodFNlY3Rpb246IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChKciwge30pLFxuICAgICAgICAgICAgc2l6ZTogXCJ4c1wiLFxuICAgICAgICAgICAgdmFyaWFudDogXCJzdWJ0bGVcIixcbiAgICAgICAgICAgIGRpc2FibGVkOiBzLFxuICAgICAgICAgICAgY2hpbGRyZW46IGYudGV4dFxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGwuanN4KGQuTWVudS5Ecm9wZG93biwgeyBjbGFzc05hbWU6IG4sIHJlZjogdCwgY2hpbGRyZW46IG8ubWFwKCh1KSA9PiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgICAgZC5NZW51Lkl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25DbGljazogdS5vbkNsaWNrLFxuICAgICAgICAgICAgbGVmdFNlY3Rpb246IHUuaWNvbixcbiAgICAgICAgICAgIHJpZ2h0U2VjdGlvbjogdS5pc1NlbGVjdGVkID8gLyogQF9fUFVSRV9fICovIGwuanN4KGQuQ2hlY2tJY29uLCB7IHNpemU6IDEwLCBjbGFzc05hbWU6IFwiYm4tdGljay1pY29uXCIgfSkgOiAoXG4gICAgICAgICAgICAgIC8vIEVuc3VyZXMgc3BhY2UgZm9yIHRpY2sgZXZlbiBpZiBpdGVtIGlzbid0IGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGwuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLXRpY2stc3BhY2VcIiB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGRpc2FibGVkOiB1LmlzRGlzYWJsZWQsXG4gICAgICAgICAgICBjaGlsZHJlbjogdS50ZXh0XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1LnRleHRcbiAgICAgICAgKSkgfSlcbiAgICAgIF1cbiAgICB9XG4gICkgOiBudWxsO1xufSk7XG5jb25zdCB4ID0gW1xuICBcIiNGRkZGRkZcIixcbiAgXCIjRUZFRkVGXCIsXG4gIFwiI0NGQ0ZDRlwiLFxuICBcIiNBRkFGQUZcIixcbiAgXCIjN0Y3RjdGXCIsXG4gIFwiIzNGM0YzRlwiLFxuICBcIiMxRjFGMUZcIixcbiAgXCIjMTYxNjE2XCIsXG4gIFwiIzBGMEYwRlwiLFxuICBcIiMwMDAwMDBcIlxuXSwgemUgPSB7XG4gIGNvbG9yczoge1xuICAgIGVkaXRvcjoge1xuICAgICAgdGV4dDogeFs1XSxcbiAgICAgIGJhY2tncm91bmQ6IHhbMF1cbiAgICB9LFxuICAgIG1lbnU6IHtcbiAgICAgIHRleHQ6IHhbNV0sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzBdXG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICB0ZXh0OiB4WzVdLFxuICAgICAgYmFja2dyb3VuZDogeFsxXVxuICAgIH0sXG4gICAgaG92ZXJlZDoge1xuICAgICAgdGV4dDogeFs1XSxcbiAgICAgIGJhY2tncm91bmQ6IHhbMV1cbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICB0ZXh0OiB4WzBdLFxuICAgICAgYmFja2dyb3VuZDogeFs1XVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHRleHQ6IHhbM10sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzFdXG4gICAgfSxcbiAgICBzaGFkb3c6IHhbMl0sXG4gICAgYm9yZGVyOiB4WzFdLFxuICAgIHNpZGVNZW51OiB4WzJdLFxuICAgIGhpZ2hsaWdodHM6IHtcbiAgICAgIGdyYXk6IHtcbiAgICAgICAgdGV4dDogXCIjOWI5YTk3XCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2ViZWNlZFwiXG4gICAgICB9LFxuICAgICAgYnJvd246IHtcbiAgICAgICAgdGV4dDogXCIjNjQ0NzNhXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2U5ZTVlM1wiXG4gICAgICB9LFxuICAgICAgcmVkOiB7XG4gICAgICAgIHRleHQ6IFwiI2UwM2UzZVwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNmYmU0ZTRcIlxuICAgICAgfSxcbiAgICAgIG9yYW5nZToge1xuICAgICAgICB0ZXh0OiBcIiNkOTczMGRcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZjZlOWQ5XCJcbiAgICAgIH0sXG4gICAgICB5ZWxsb3c6IHtcbiAgICAgICAgdGV4dDogXCIjZGZhYjAxXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2ZiZjNkYlwiXG4gICAgICB9LFxuICAgICAgZ3JlZW46IHtcbiAgICAgICAgdGV4dDogXCIjNGQ2NDYxXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2RkZWRlYVwiXG4gICAgICB9LFxuICAgICAgYmx1ZToge1xuICAgICAgICB0ZXh0OiBcIiMwYjZlOTlcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZGRlYmYxXCJcbiAgICAgIH0sXG4gICAgICBwdXJwbGU6IHtcbiAgICAgICAgdGV4dDogXCIjNjk0MGE1XCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2VhZTRmMlwiXG4gICAgICB9LFxuICAgICAgcGluazoge1xuICAgICAgICB0ZXh0OiBcIiNhZDFhNzJcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZjRkZmViXCJcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGJvcmRlclJhZGl1czogNixcbiAgZm9udEZhbWlseTogJ1wiSW50ZXJcIiwgXCJTRiBQcm8gRGlzcGxheVwiLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiT3BlbiBTYW5zXCIsIFwiU2Vnb2UgVUlcIiwgXCJSb2JvdG9cIiwgXCJPeHlnZW5cIiwgXCJVYnVudHVcIiwgXCJDYW50YXJlbGxcIiwgXCJGaXJhIFNhbnNcIiwgXCJEcm9pZCBTYW5zXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgc2Fucy1zZXJpZidcbn0sIE90ID0ge1xuICBjb2xvcnM6IHtcbiAgICBlZGl0b3I6IHtcbiAgICAgIHRleHQ6IHhbMl0sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzZdXG4gICAgfSxcbiAgICBtZW51OiB7XG4gICAgICB0ZXh0OiB4WzJdLFxuICAgICAgYmFja2dyb3VuZDogeFs2XVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgdGV4dDogeFsyXSxcbiAgICAgIGJhY2tncm91bmQ6IHhbN11cbiAgICB9LFxuICAgIGhvdmVyZWQ6IHtcbiAgICAgIHRleHQ6IHhbMl0sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzddXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgdGV4dDogeFsyXSxcbiAgICAgIGJhY2tncm91bmQ6IHhbOF1cbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICB0ZXh0OiB4WzVdLFxuICAgICAgYmFja2dyb3VuZDogeFs3XVxuICAgIH0sXG4gICAgc2hhZG93OiB4WzhdLFxuICAgIGJvcmRlcjogeFs3XSxcbiAgICBzaWRlTWVudTogeFs0XSxcbiAgICBoaWdobGlnaHRzOiB7XG4gICAgICBncmF5OiB7XG4gICAgICAgIHRleHQ6IFwiI2JlYmRiOFwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM5YjlhOTdcIlxuICAgICAgfSxcbiAgICAgIGJyb3duOiB7XG4gICAgICAgIHRleHQ6IFwiIzhlNjU1MlwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM2NDQ3M2FcIlxuICAgICAgfSxcbiAgICAgIHJlZDoge1xuICAgICAgICB0ZXh0OiBcIiNlYzQwNDBcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjYmUzNDM0XCJcbiAgICAgIH0sXG4gICAgICBvcmFuZ2U6IHtcbiAgICAgICAgdGV4dDogXCIjZTM3OTBkXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2I3NjAwYVwiXG4gICAgICB9LFxuICAgICAgeWVsbG93OiB7XG4gICAgICAgIHRleHQ6IFwiI2RmYWIwMVwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNiNThiMDBcIlxuICAgICAgfSxcbiAgICAgIGdyZWVuOiB7XG4gICAgICAgIHRleHQ6IFwiIzZiOGI4N1wiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM0ZDY0NjFcIlxuICAgICAgfSxcbiAgICAgIGJsdWU6IHtcbiAgICAgICAgdGV4dDogXCIjMGU4N2JjXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzBiNmU5OVwiXG4gICAgICB9LFxuICAgICAgcHVycGxlOiB7XG4gICAgICAgIHRleHQ6IFwiIzg1NTJkN1wiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM2OTQwYTVcIlxuICAgICAgfSxcbiAgICAgIHBpbms6IHtcbiAgICAgICAgdGV4dDogXCIjZGEyMDhmXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2FkMWE3MlwiXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBib3JkZXJSYWRpdXM6IHplLmJvcmRlclJhZGl1cyxcbiAgZm9udEZhbWlseTogemUuZm9udEZhbWlseVxufSwgVHQgPSB7XG4gIEZvcm1hdHRpbmdUb29sYmFyOiB7XG4gICAgUm9vdDogTGUsXG4gICAgQnV0dG9uOiBBZSxcbiAgICBTZWxlY3Q6IFJ0XG4gIH0sXG4gIEZpbGVQYW5lbDoge1xuICAgIFJvb3Q6IGF0LFxuICAgIEJ1dHRvbjogaXQsXG4gICAgRmlsZUlucHV0OiBzdCxcbiAgICBUYWJQYW5lbDogbHQsXG4gICAgVGV4dElucHV0OiB1dFxuICB9LFxuICBMaW5rVG9vbGJhcjoge1xuICAgIFJvb3Q6IExlLFxuICAgIEJ1dHRvbjogQWVcbiAgfSxcbiAgU2lkZU1lbnU6IHtcbiAgICBSb290OiB2dCxcbiAgICBCdXR0b246IGJ0XG4gIH0sXG4gIFN1Z2dlc3Rpb25NZW51OiB7XG4gICAgUm9vdDogcHQsXG4gICAgSXRlbTogZ3QsXG4gICAgRW1wdHlJdGVtOiBtdCxcbiAgICBMYWJlbDogaHQsXG4gICAgTG9hZGVyOiB4dFxuICB9LFxuICBUYWJsZUhhbmRsZToge1xuICAgIFJvb3Q6IHl0XG4gIH0sXG4gIEdlbmVyaWM6IHtcbiAgICBGb3JtOiB7XG4gICAgICBSb290OiAocikgPT4gLyogQF9fUFVSRV9fICovIGwuanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IHIuY2hpbGRyZW4gfSksXG4gICAgICBUZXh0SW5wdXQ6IFdyXG4gICAgfSxcbiAgICBNZW51OiB7XG4gICAgICBSb290OiBRcixcbiAgICAgIFRyaWdnZXI6IHJ0LFxuICAgICAgRHJvcGRvd246IHR0LFxuICAgICAgRGl2aWRlcjogbnQsXG4gICAgICBMYWJlbDogb3QsXG4gICAgICBJdGVtOiBldFxuICAgIH0sXG4gICAgUG9wb3Zlcjoge1xuICAgICAgUm9vdDogY3QsXG4gICAgICBUcmlnZ2VyOiBkdCxcbiAgICAgIENvbnRlbnQ6IGZ0XG4gICAgfVxuICB9XG59LCBFdCA9IHtcbiAgLy8gUmVtb3ZlcyBidXR0b24gcHJlc3MgZWZmZWN0XG4gIGFjdGl2ZUNsYXNzTmFtZTogXCJcIlxufSwgRnQgPSAocikgPT4ge1xuICBjb25zdCB7IHRoZW1lOiB0LCAuLi5uIH0gPSByLCBvID0gQ3IoKSwgcyA9IERyKCksIGMgPSAobyA9PSBudWxsID8gdm9pZCAwIDogby5jb2xvclNjaGVtZVByZWZlcmVuY2UpIHx8IHMsIGYgPSBvZShcbiAgICAodSkgPT4ge1xuICAgICAgaWYgKHUgJiYgKCRyKHUpLCB0eXBlb2YgdCA9PSBcIm9iamVjdFwiKSkge1xuICAgICAgICBpZiAoXCJsaWdodFwiIGluIHQgJiYgXCJkYXJrXCIgaW4gdCkge1xuICAgICAgICAgIERlKFxuICAgICAgICAgICAgdFtjID09PSBcImRhcmtcIiA/IFwiZGFya1wiIDogXCJsaWdodFwiXSxcbiAgICAgICAgICAgIHVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBEZSh0LCB1KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2MsIHRdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gbC5qc3goT3IuUHJvdmlkZXIsIHsgdmFsdWU6IFR0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIE1yLFxuICAgIHtcbiAgICAgIHRoZW1lOiBFdCxcbiAgICAgIGNzc1ZhcmlhYmxlc1NlbGVjdG9yOiBcIi5ibi1jb250YWluZXJcIixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgIEZyLFxuICAgICAgICB7XG4gICAgICAgICAgdGhlbWU6IHR5cGVvZiB0ID09IFwib2JqZWN0XCIgPyB2b2lkIDAgOiB0LFxuICAgICAgICAgIC4uLm4sXG4gICAgICAgICAgcmVmOiBmXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICkgfSk7XG59O1xuZXhwb3J0IHtcbiAgRnQgYXMgQmxvY2tOb3RlVmlldyxcbiAgRGUgYXMgYXBwbHlCbG9ja05vdGVDU1NWYXJpYWJsZXNGcm9tVGhlbWUsXG4gIFR0IGFzIGNvbXBvbmVudHMsXG4gIE90IGFzIGRhcmtEZWZhdWx0VGhlbWUsXG4gIHggYXMgZGVmYXVsdENvbG9yU2NoZW1lLFxuICB6ZSBhcyBsaWdodERlZmF1bHRUaGVtZSxcbiAgJHIgYXMgcmVtb3ZlQmxvY2tOb3RlQ1NTVmFyaWFibGVzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmxvY2tub3RlLW1hbnRpbmUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@blocknote/mantine/dist/blocknote-mantine.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@blocknote/react/dist/blocknote-react.js":
/*!***************************************************************!*\
  !*** ./node_modules/@blocknote/react/dist/blocknote-react.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddBlockButton: () => (/* binding */ xr),\n/* harmony export */   AddButton: () => (/* binding */ Tt),\n/* harmony export */   AddColumnButton: () => (/* binding */ Lr),\n/* harmony export */   AddFileButton: () => (/* binding */ je),\n/* harmony export */   AddRowButton: () => (/* binding */ Rr),\n/* harmony export */   AudioPreview: () => (/* binding */ qr),\n/* harmony export */   AudioToExternalHTML: () => (/* binding */ Yr),\n/* harmony export */   BasicTextStyleButton: () => (/* binding */ fe),\n/* harmony export */   BlockColorsItem: () => (/* binding */ vr),\n/* harmony export */   BlockContentWrapper: () => (/* binding */ Oe),\n/* harmony export */   BlockNoteContext: () => (/* binding */ Wt),\n/* harmony export */   BlockNoteDefaultUI: () => (/* binding */ Ur),\n/* harmony export */   BlockNoteViewRaw: () => (/* binding */ ui),\n/* harmony export */   BlockTypeSelect: () => (/* binding */ or),\n/* harmony export */   ColorStyleButton: () => (/* binding */ Go),\n/* harmony export */   ComponentsContext: () => (/* binding */ go),\n/* harmony export */   CreateLinkButton: () => (/* binding */ qo),\n/* harmony export */   DefaultFilePreview: () => (/* binding */ ye),\n/* harmony export */   DeleteButton: () => (/* binding */ Nr),\n/* harmony export */   DeleteColumnButton: () => (/* binding */ Fr),\n/* harmony export */   DeleteLinkButton: () => (/* binding */ dr),\n/* harmony export */   DeleteRowButton: () => (/* binding */ Pr),\n/* harmony export */   DragHandleButton: () => (/* binding */ yr),\n/* harmony export */   DragHandleMenu: () => (/* binding */ kr),\n/* harmony export */   EditLinkButton: () => (/* binding */ fr),\n/* harmony export */   EditLinkMenuItems: () => (/* binding */ on),\n/* harmony export */   EmbedTab: () => (/* binding */ Jo),\n/* harmony export */   FigureWithCaption: () => (/* binding */ $e),\n/* harmony export */   FileAndCaptionWrapper: () => (/* binding */ $),\n/* harmony export */   FileCaptionButton: () => (/* binding */ Yo),\n/* harmony export */   FilePanel: () => (/* binding */ rn),\n/* harmony export */   FilePanelController: () => (/* binding */ gr),\n/* harmony export */   FileReplaceButton: () => (/* binding */ er),\n/* harmony export */   FileToExternalHTML: () => (/* binding */ Kr),\n/* harmony export */   FormattingToolbar: () => (/* binding */ sr),\n/* harmony export */   FormattingToolbarController: () => (/* binding */ ur),\n/* harmony export */   ImagePreview: () => (/* binding */ Xr),\n/* harmony export */   ImageToExternalHTML: () => (/* binding */ Jr),\n/* harmony export */   InlineContentWrapper: () => (/* binding */ oi),\n/* harmony export */   LinkToolbar: () => (/* binding */ hr),\n/* harmony export */   LinkToolbarController: () => (/* binding */ br),\n/* harmony export */   LinkWithCaption: () => (/* binding */ we),\n/* harmony export */   NestBlockButton: () => (/* binding */ Ko),\n/* harmony export */   OpenLinkButton: () => (/* binding */ mr),\n/* harmony export */   ReactAudioBlock: () => (/* binding */ di),\n/* harmony export */   ReactFileBlock: () => (/* binding */ fi),\n/* harmony export */   ReactImageBlock: () => (/* binding */ mi),\n/* harmony export */   ReactVideoBlock: () => (/* binding */ hi),\n/* harmony export */   RemoveBlockItem: () => (/* binding */ Cr),\n/* harmony export */   ResizeHandlesWrapper: () => (/* binding */ an),\n/* harmony export */   SideMenu: () => (/* binding */ jr),\n/* harmony export */   SideMenuController: () => (/* binding */ wr),\n/* harmony export */   SuggestionMenuController: () => (/* binding */ Br),\n/* harmony export */   SuggestionMenuWrapper: () => (/* binding */ Tr),\n/* harmony export */   TableHandle: () => (/* binding */ Dr),\n/* harmony export */   TableHandleMenu: () => (/* binding */ Or),\n/* harmony export */   TableHandlesController: () => (/* binding */ zr),\n/* harmony export */   TextAlignButton: () => (/* binding */ Ne),\n/* harmony export */   UnnestBlockButton: () => (/* binding */ Xo),\n/* harmony export */   UploadTab: () => (/* binding */ Qo),\n/* harmony export */   VideoPreview: () => (/* binding */ Qr),\n/* harmony export */   VideoToExternalHTML: () => (/* binding */ ei),\n/* harmony export */   blockTypeSelectItems: () => (/* binding */ nr),\n/* harmony export */   createReactBlockSpec: () => (/* binding */ ke),\n/* harmony export */   createReactInlineContentSpec: () => (/* binding */ xi),\n/* harmony export */   createReactStyleSpec: () => (/* binding */ vi),\n/* harmony export */   getDefaultReactSlashMenuItems: () => (/* binding */ Er),\n/* harmony export */   getFormattingToolbarItems: () => (/* binding */ cr),\n/* harmony export */   useActiveStyles: () => (/* binding */ bi),\n/* harmony export */   useBlockNote: () => (/* binding */ gi),\n/* harmony export */   useBlockNoteContext: () => (/* binding */ U),\n/* harmony export */   useBlockNoteEditor: () => (/* binding */ H),\n/* harmony export */   useCloseSuggestionMenuNoItems: () => (/* binding */ _r),\n/* harmony export */   useComponentsContext: () => (/* binding */ v),\n/* harmony export */   useCreateBlockNote: () => (/* binding */ ti),\n/* harmony export */   useDictionary: () => (/* binding */ _),\n/* harmony export */   useEditorChange: () => (/* binding */ Ue),\n/* harmony export */   useEditorContentOrSelectionChange: () => (/* binding */ W),\n/* harmony export */   useEditorForceUpdate: () => (/* binding */ pi),\n/* harmony export */   useEditorSelectionChange: () => (/* binding */ We),\n/* harmony export */   useLoadSuggestionMenuItems: () => (/* binding */ Sr),\n/* harmony export */   useSelectedBlocks: () => (/* binding */ O),\n/* harmony export */   useSuggestionMenuKeyboardNavigation: () => (/* binding */ Mr),\n/* harmony export */   useTableHandlesPositioning: () => (/* binding */ Zr)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _blocknote_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blocknote/core */ \"(ssr)/./node_modules/@blocknote/core/dist/blocknote.js\");\n/* harmony import */ var use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! use-prefers-color-scheme */ \"(ssr)/./node_modules/use-prefers-color-scheme/dist/index.esm.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/react */ \"(ssr)/./node_modules/@tiptap/react/dist/index.js\");\n/* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tiptap/react */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\n\n\n\n\n\nconst Wt = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction U(e) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Wt);\n}\nvar Ie = { exports: {} }, Q = {};\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar Ct;\nfunction mo() {\n  if (Ct)\n    return Q;\n  Ct = 1;\n  var e = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.fragment\"), o = Object.prototype.hasOwnProperty, l = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, a = { key: !0, ref: !0, __self: !0, __source: !0 };\n  function c(s, u, f) {\n    var m, b = {}, g = null, k = null;\n    f !== void 0 && (g = \"\" + f), u.key !== void 0 && (g = \"\" + u.key), u.ref !== void 0 && (k = u.ref);\n    for (m in u)\n      o.call(u, m) && !a.hasOwnProperty(m) && (b[m] = u[m]);\n    if (s && s.defaultProps)\n      for (m in u = s.defaultProps, u)\n        b[m] === void 0 && (b[m] = u[m]);\n    return { $$typeof: t, type: s, key: g, ref: k, props: b, _owner: l.current };\n  }\n  return Q.Fragment = n, Q.jsx = c, Q.jsxs = c, Q;\n}\nvar ee = {};\n/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar kt;\nfunction ho() {\n  return kt || (kt = 1,  true && function() {\n    var e = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.portal\"), o = Symbol.for(\"react.fragment\"), l = Symbol.for(\"react.strict_mode\"), a = Symbol.for(\"react.profiler\"), c = Symbol.for(\"react.provider\"), s = Symbol.for(\"react.context\"), u = Symbol.for(\"react.forward_ref\"), f = Symbol.for(\"react.suspense\"), m = Symbol.for(\"react.suspense_list\"), b = Symbol.for(\"react.memo\"), g = Symbol.for(\"react.lazy\"), k = Symbol.for(\"react.offscreen\"), V = Symbol.iterator, F = \"@@iterator\";\n    function N(i) {\n      if (i === null || typeof i != \"object\")\n        return null;\n      var d = V && i[V] || i[F];\n      return typeof d == \"function\" ? d : null;\n    }\n    var z = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n    function E(i) {\n      {\n        for (var d = arguments.length, h = new Array(d > 1 ? d - 1 : 0), p = 1; p < d; p++)\n          h[p - 1] = arguments[p];\n        He(\"error\", i, h);\n      }\n    }\n    function He(i, d, h) {\n      {\n        var p = z.ReactDebugCurrentFrame, w = p.getStackAddendum();\n        w !== \"\" && (d += \"%s\", h = h.concat([w]));\n        var M = h.map(function(y) {\n          return String(y);\n        });\n        M.unshift(\"Warning: \" + d), Function.prototype.apply.call(console[i], console, M);\n      }\n    }\n    var _e = !1, le = !1, Se = !1, Me = !1, cn = !1, qe;\n    qe = Symbol.for(\"react.module.reference\");\n    function sn(i) {\n      return !!(typeof i == \"string\" || typeof i == \"function\" || i === o || i === a || cn || i === l || i === f || i === m || Me || i === k || _e || le || Se || typeof i == \"object\" && i !== null && (i.$$typeof === g || i.$$typeof === b || i.$$typeof === c || i.$$typeof === s || i.$$typeof === u || // This needs to include all possible module reference object\n      // types supported by any Flight configuration anywhere since\n      // we don't know which Flight build this will end up being used\n      // with.\n      i.$$typeof === qe || i.getModuleId !== void 0));\n    }\n    function un(i, d, h) {\n      var p = i.displayName;\n      if (p)\n        return p;\n      var w = d.displayName || d.name || \"\";\n      return w !== \"\" ? h + \"(\" + w + \")\" : h;\n    }\n    function Ye(i) {\n      return i.displayName || \"Context\";\n    }\n    function A(i) {\n      if (i == null)\n        return null;\n      if (typeof i.tag == \"number\" && E(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"), typeof i == \"function\")\n        return i.displayName || i.name || null;\n      if (typeof i == \"string\")\n        return i;\n      switch (i) {\n        case o:\n          return \"Fragment\";\n        case n:\n          return \"Portal\";\n        case a:\n          return \"Profiler\";\n        case l:\n          return \"StrictMode\";\n        case f:\n          return \"Suspense\";\n        case m:\n          return \"SuspenseList\";\n      }\n      if (typeof i == \"object\")\n        switch (i.$$typeof) {\n          case s:\n            var d = i;\n            return Ye(d) + \".Consumer\";\n          case c:\n            var h = i;\n            return Ye(h._context) + \".Provider\";\n          case u:\n            return un(i, i.render, \"ForwardRef\");\n          case b:\n            var p = i.displayName || null;\n            return p !== null ? p : A(i.type) || \"Memo\";\n          case g: {\n            var w = i, M = w._payload, y = w._init;\n            try {\n              return A(y(M));\n            } catch {\n              return null;\n            }\n          }\n        }\n      return null;\n    }\n    var G = Object.assign, X = 0, Ke, Xe, Je, Qe, et, tt, nt;\n    function ot() {\n    }\n    ot.__reactDisabledLog = !0;\n    function dn() {\n      {\n        if (X === 0) {\n          Ke = console.log, Xe = console.info, Je = console.warn, Qe = console.error, et = console.group, tt = console.groupCollapsed, nt = console.groupEnd;\n          var i = {\n            configurable: !0,\n            enumerable: !0,\n            value: ot,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            info: i,\n            log: i,\n            warn: i,\n            error: i,\n            group: i,\n            groupCollapsed: i,\n            groupEnd: i\n          });\n        }\n        X++;\n      }\n    }\n    function fn() {\n      {\n        if (X--, X === 0) {\n          var i = {\n            configurable: !0,\n            enumerable: !0,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            log: G({}, i, {\n              value: Ke\n            }),\n            info: G({}, i, {\n              value: Xe\n            }),\n            warn: G({}, i, {\n              value: Je\n            }),\n            error: G({}, i, {\n              value: Qe\n            }),\n            group: G({}, i, {\n              value: et\n            }),\n            groupCollapsed: G({}, i, {\n              value: tt\n            }),\n            groupEnd: G({}, i, {\n              value: nt\n            })\n          });\n        }\n        X < 0 && E(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\");\n      }\n    }\n    var Te = z.ReactCurrentDispatcher, Ve;\n    function ae(i, d, h) {\n      {\n        if (Ve === void 0)\n          try {\n            throw Error();\n          } catch (w) {\n            var p = w.stack.trim().match(/\\n( *(at )?)/);\n            Ve = p && p[1] || \"\";\n          }\n        return `\n` + Ve + i;\n      }\n    }\n    var Ee = !1, ce;\n    {\n      var mn = typeof WeakMap == \"function\" ? WeakMap : Map;\n      ce = new mn();\n    }\n    function rt(i, d) {\n      if (!i || Ee)\n        return \"\";\n      {\n        var h = ce.get(i);\n        if (h !== void 0)\n          return h;\n      }\n      var p;\n      Ee = !0;\n      var w = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      var M;\n      M = Te.current, Te.current = null, dn();\n      try {\n        if (d) {\n          var y = function() {\n            throw Error();\n          };\n          if (Object.defineProperty(y.prototype, \"props\", {\n            set: function() {\n              throw Error();\n            }\n          }), typeof Reflect == \"object\" && Reflect.construct) {\n            try {\n              Reflect.construct(y, []);\n            } catch (Z) {\n              p = Z;\n            }\n            Reflect.construct(i, [], y);\n          } else {\n            try {\n              y.call();\n            } catch (Z) {\n              p = Z;\n            }\n            i.call(y.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (Z) {\n            p = Z;\n          }\n          i();\n        }\n      } catch (Z) {\n        if (Z && p && typeof Z.stack == \"string\") {\n          for (var x = Z.stack.split(`\n`), P = p.stack.split(`\n`), B = x.length - 1, R = P.length - 1; B >= 1 && R >= 0 && x[B] !== P[R]; )\n            R--;\n          for (; B >= 1 && R >= 0; B--, R--)\n            if (x[B] !== P[R]) {\n              if (B !== 1 || R !== 1)\n                do\n                  if (B--, R--, R < 0 || x[B] !== P[R]) {\n                    var D = `\n` + x[B].replace(\" at new \", \" at \");\n                    return i.displayName && D.includes(\"<anonymous>\") && (D = D.replace(\"<anonymous>\", i.displayName)), typeof i == \"function\" && ce.set(i, D), D;\n                  }\n                while (B >= 1 && R >= 0);\n              break;\n            }\n        }\n      } finally {\n        Ee = !1, Te.current = M, fn(), Error.prepareStackTrace = w;\n      }\n      var Y = i ? i.displayName || i.name : \"\", pt = Y ? ae(Y) : \"\";\n      return typeof i == \"function\" && ce.set(i, pt), pt;\n    }\n    function hn(i, d, h) {\n      return rt(i, !1);\n    }\n    function bn(i) {\n      var d = i.prototype;\n      return !!(d && d.isReactComponent);\n    }\n    function se(i, d, h) {\n      if (i == null)\n        return \"\";\n      if (typeof i == \"function\")\n        return rt(i, bn(i));\n      if (typeof i == \"string\")\n        return ae(i);\n      switch (i) {\n        case f:\n          return ae(\"Suspense\");\n        case m:\n          return ae(\"SuspenseList\");\n      }\n      if (typeof i == \"object\")\n        switch (i.$$typeof) {\n          case u:\n            return hn(i.render);\n          case b:\n            return se(i.type, d, h);\n          case g: {\n            var p = i, w = p._payload, M = p._init;\n            try {\n              return se(M(w), d, h);\n            } catch {\n            }\n          }\n        }\n      return \"\";\n    }\n    var ue = Object.prototype.hasOwnProperty, it = {}, lt = z.ReactDebugCurrentFrame;\n    function de(i) {\n      if (i) {\n        var d = i._owner, h = se(i.type, i._source, d ? d.type : null);\n        lt.setExtraStackFrame(h);\n      } else\n        lt.setExtraStackFrame(null);\n    }\n    function gn(i, d, h, p, w) {\n      {\n        var M = Function.call.bind(ue);\n        for (var y in i)\n          if (M(i, y)) {\n            var x = void 0;\n            try {\n              if (typeof i[y] != \"function\") {\n                var P = Error((p || \"React class\") + \": \" + h + \" type `\" + y + \"` is invalid; it must be a function, usually from the `prop-types` package, but received `\" + typeof i[y] + \"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");\n                throw P.name = \"Invariant Violation\", P;\n              }\n              x = i[y](d, y, p, h, null, \"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\");\n            } catch (B) {\n              x = B;\n            }\n            x && !(x instanceof Error) && (de(w), E(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\", p || \"React class\", h, y, typeof x), de(null)), x instanceof Error && !(x.message in it) && (it[x.message] = !0, de(w), E(\"Failed %s type: %s\", h, x.message), de(null));\n          }\n      }\n    }\n    var pn = Array.isArray;\n    function Be(i) {\n      return pn(i);\n    }\n    function xn(i) {\n      {\n        var d = typeof Symbol == \"function\" && Symbol.toStringTag, h = d && i[Symbol.toStringTag] || i.constructor.name || \"Object\";\n        return h;\n      }\n    }\n    function vn(i) {\n      try {\n        return at(i), !1;\n      } catch {\n        return !0;\n      }\n    }\n    function at(i) {\n      return \"\" + i;\n    }\n    function ct(i) {\n      if (vn(i))\n        return E(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\", xn(i)), at(i);\n    }\n    var J = z.ReactCurrentOwner, Cn = {\n      key: !0,\n      ref: !0,\n      __self: !0,\n      __source: !0\n    }, st, ut, Re;\n    Re = {};\n    function kn(i) {\n      if (ue.call(i, \"ref\")) {\n        var d = Object.getOwnPropertyDescriptor(i, \"ref\").get;\n        if (d && d.isReactWarning)\n          return !1;\n      }\n      return i.ref !== void 0;\n    }\n    function yn(i) {\n      if (ue.call(i, \"key\")) {\n        var d = Object.getOwnPropertyDescriptor(i, \"key\").get;\n        if (d && d.isReactWarning)\n          return !1;\n      }\n      return i.key !== void 0;\n    }\n    function jn(i, d) {\n      if (typeof i.ref == \"string\" && J.current && d && J.current.stateNode !== d) {\n        var h = A(J.current.type);\n        Re[h] || (E('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', A(J.current.type), i.ref), Re[h] = !0);\n      }\n    }\n    function wn(i, d) {\n      {\n        var h = function() {\n          st || (st = !0, E(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", d));\n        };\n        h.isReactWarning = !0, Object.defineProperty(i, \"key\", {\n          get: h,\n          configurable: !0\n        });\n      }\n    }\n    function Hn(i, d) {\n      {\n        var h = function() {\n          ut || (ut = !0, E(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", d));\n        };\n        h.isReactWarning = !0, Object.defineProperty(i, \"ref\", {\n          get: h,\n          configurable: !0\n        });\n      }\n    }\n    var _n = function(i, d, h, p, w, M, y) {\n      var x = {\n        // This tag allows us to uniquely identify this as a React Element\n        $$typeof: t,\n        // Built-in properties that belong on the element\n        type: i,\n        key: d,\n        ref: h,\n        props: y,\n        // Record the component responsible for creating this element.\n        _owner: M\n      };\n      return x._store = {}, Object.defineProperty(x._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: !1\n      }), Object.defineProperty(x, \"_self\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: p\n      }), Object.defineProperty(x, \"_source\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: w\n      }), Object.freeze && (Object.freeze(x.props), Object.freeze(x)), x;\n    };\n    function Sn(i, d, h, p, w) {\n      {\n        var M, y = {}, x = null, P = null;\n        h !== void 0 && (ct(h), x = \"\" + h), yn(d) && (ct(d.key), x = \"\" + d.key), kn(d) && (P = d.ref, jn(d, w));\n        for (M in d)\n          ue.call(d, M) && !Cn.hasOwnProperty(M) && (y[M] = d[M]);\n        if (i && i.defaultProps) {\n          var B = i.defaultProps;\n          for (M in B)\n            y[M] === void 0 && (y[M] = B[M]);\n        }\n        if (x || P) {\n          var R = typeof i == \"function\" ? i.displayName || i.name || \"Unknown\" : i;\n          x && wn(y, R), P && Hn(y, R);\n        }\n        return _n(i, x, P, w, p, J.current, y);\n      }\n    }\n    var Le = z.ReactCurrentOwner, dt = z.ReactDebugCurrentFrame;\n    function q(i) {\n      if (i) {\n        var d = i._owner, h = se(i.type, i._source, d ? d.type : null);\n        dt.setExtraStackFrame(h);\n      } else\n        dt.setExtraStackFrame(null);\n    }\n    var Pe;\n    Pe = !1;\n    function Fe(i) {\n      return typeof i == \"object\" && i !== null && i.$$typeof === t;\n    }\n    function ft() {\n      {\n        if (Le.current) {\n          var i = A(Le.current.type);\n          if (i)\n            return `\n\nCheck the render method of \\`` + i + \"`.\";\n        }\n        return \"\";\n      }\n    }\n    function Mn(i) {\n      {\n        if (i !== void 0) {\n          var d = i.fileName.replace(/^.*[\\\\\\/]/, \"\"), h = i.lineNumber;\n          return `\n\nCheck your code at ` + d + \":\" + h + \".\";\n        }\n        return \"\";\n      }\n    }\n    var mt = {};\n    function Tn(i) {\n      {\n        var d = ft();\n        if (!d) {\n          var h = typeof i == \"string\" ? i : i.displayName || i.name;\n          h && (d = `\n\nCheck the top-level render call using <` + h + \">.\");\n        }\n        return d;\n      }\n    }\n    function ht(i, d) {\n      {\n        if (!i._store || i._store.validated || i.key != null)\n          return;\n        i._store.validated = !0;\n        var h = Tn(d);\n        if (mt[h])\n          return;\n        mt[h] = !0;\n        var p = \"\";\n        i && i._owner && i._owner !== Le.current && (p = \" It was passed a child from \" + A(i._owner.type) + \".\"), q(i), E('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', h, p), q(null);\n      }\n    }\n    function bt(i, d) {\n      {\n        if (typeof i != \"object\")\n          return;\n        if (Be(i))\n          for (var h = 0; h < i.length; h++) {\n            var p = i[h];\n            Fe(p) && ht(p, d);\n          }\n        else if (Fe(i))\n          i._store && (i._store.validated = !0);\n        else if (i) {\n          var w = N(i);\n          if (typeof w == \"function\" && w !== i.entries)\n            for (var M = w.call(i), y; !(y = M.next()).done; )\n              Fe(y.value) && ht(y.value, d);\n        }\n      }\n    }\n    function Vn(i) {\n      {\n        var d = i.type;\n        if (d == null || typeof d == \"string\")\n          return;\n        var h;\n        if (typeof d == \"function\")\n          h = d.propTypes;\n        else if (typeof d == \"object\" && (d.$$typeof === u || // Note: Memo only checks outer props here.\n        // Inner props are checked in the reconciler.\n        d.$$typeof === b))\n          h = d.propTypes;\n        else\n          return;\n        if (h) {\n          var p = A(d);\n          gn(h, i.props, \"prop\", p, i);\n        } else if (d.PropTypes !== void 0 && !Pe) {\n          Pe = !0;\n          var w = A(d);\n          E(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\", w || \"Unknown\");\n        }\n        typeof d.getDefaultProps == \"function\" && !d.getDefaultProps.isReactClassApproved && E(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\");\n      }\n    }\n    function En(i) {\n      {\n        for (var d = Object.keys(i.props), h = 0; h < d.length; h++) {\n          var p = d[h];\n          if (p !== \"children\" && p !== \"key\") {\n            q(i), E(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\", p), q(null);\n            break;\n          }\n        }\n        i.ref !== null && (q(i), E(\"Invalid attribute `ref` supplied to `React.Fragment`.\"), q(null));\n      }\n    }\n    function gt(i, d, h, p, w, M) {\n      {\n        var y = sn(i);\n        if (!y) {\n          var x = \"\";\n          (i === void 0 || typeof i == \"object\" && i !== null && Object.keys(i).length === 0) && (x += \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");\n          var P = Mn(w);\n          P ? x += P : x += ft();\n          var B;\n          i === null ? B = \"null\" : Be(i) ? B = \"array\" : i !== void 0 && i.$$typeof === t ? (B = \"<\" + (A(i.type) || \"Unknown\") + \" />\", x = \" Did you accidentally export a JSX literal instead of a component?\") : B = typeof i, E(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\", B, x);\n        }\n        var R = Sn(i, d, h, w, M);\n        if (R == null)\n          return R;\n        if (y) {\n          var D = d.children;\n          if (D !== void 0)\n            if (p)\n              if (Be(D)) {\n                for (var Y = 0; Y < D.length; Y++)\n                  bt(D[Y], i);\n                Object.freeze && Object.freeze(D);\n              } else\n                E(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");\n            else\n              bt(D, i);\n        }\n        return i === o ? En(R) : Vn(R), R;\n      }\n    }\n    function Bn(i, d, h) {\n      return gt(i, d, h, !0);\n    }\n    function Rn(i, d, h) {\n      return gt(i, d, h, !1);\n    }\n    var Ln = Rn, Pn = Bn;\n    ee.Fragment = o, ee.jsx = Ln, ee.jsxs = Pn;\n  }()), ee;\n}\n false ? 0 : Ie.exports = ho();\nvar r = Ie.exports;\nfunction H(e) {\n  const t = U();\n  if (!(t != null && t.editor))\n    throw new Error(\n      \"useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component\"\n    );\n  return t.editor;\n}\nfunction Ue(e, t) {\n  const n = U();\n  t || (t = n == null ? void 0 : n.editor), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!t)\n      throw new Error(\n        \"'editor' is required, either from BlockNoteContext or as a function argument\"\n      );\n    return t.onChange(e);\n  }, [e, t]);\n}\nfunction We(e, t) {\n  const n = U();\n  t || (t = n == null ? void 0 : n.editor), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!t)\n      throw new Error(\n        \"'editor' is required, either from BlockNoteContext or as a function argument\"\n      );\n    return t.onSelectionChange(e);\n  }, [e, t]);\n}\nfunction W(e, t) {\n  Ue(e, t), We(e, t);\n}\nfunction ie(e, t, n, o) {\n  const { refs: l, update: a, context: c, floatingStyles: s } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useFloating)({\n    open: e,\n    ...o\n  }), { isMounted: u, styles: f } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useTransitionStyles)(c), m = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useDismiss)(c), { getReferenceProps: b, getFloatingProps: g } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useInteractions)([m]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    a();\n  }, [t, a]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    t !== null && l.setReference({\n      getBoundingClientRect: () => t\n    });\n  }, [t, l]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      isMounted: u,\n      ref: l.setFloating,\n      style: {\n        display: \"flex\",\n        ...f,\n        ...s,\n        zIndex: n\n      },\n      getFloatingProps: g,\n      getReferenceProps: b\n    }),\n    [\n      s,\n      u,\n      l.setFloating,\n      f,\n      n,\n      g,\n      b\n    ]\n  );\n}\nfunction K(e) {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => e((o) => {\n    n({ ...o });\n  }), [e]), t;\n}\nfunction bo(e) {\n  return (t) => {\n    e.forEach((n) => {\n      typeof n == \"function\" ? n(t) : n != null && (n.current = t);\n    });\n  };\n}\nconst go = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(\n  void 0\n);\nfunction v() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(go);\n}\nvar Gt = {\n  color: void 0,\n  size: void 0,\n  className: void 0,\n  style: void 0,\n  attr: void 0\n}, yt = react__WEBPACK_IMPORTED_MODULE_0__.createContext && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createContext(Gt), po = [\"attr\", \"size\", \"title\"];\nfunction xo(e, t) {\n  if (e == null)\n    return {};\n  var n = vo(e, t), o, l;\n  if (Object.getOwnPropertySymbols) {\n    var a = Object.getOwnPropertySymbols(e);\n    for (l = 0; l < a.length; l++)\n      o = a[l], !(t.indexOf(o) >= 0) && Object.prototype.propertyIsEnumerable.call(e, o) && (n[o] = e[o]);\n  }\n  return n;\n}\nfunction vo(e, t) {\n  if (e == null)\n    return {};\n  var n = {};\n  for (var o in e)\n    if (Object.prototype.hasOwnProperty.call(e, o)) {\n      if (t.indexOf(o) >= 0)\n        continue;\n      n[o] = e[o];\n    }\n  return n;\n}\nfunction be() {\n  return be = Object.assign ? Object.assign.bind() : function(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n      for (var o in n)\n        Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n    }\n    return e;\n  }, be.apply(this, arguments);\n}\nfunction jt(e, t) {\n  var n = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    t && (o = o.filter(function(l) {\n      return Object.getOwnPropertyDescriptor(e, l).enumerable;\n    })), n.push.apply(n, o);\n  }\n  return n;\n}\nfunction ge(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = arguments[t] != null ? arguments[t] : {};\n    t % 2 ? jt(Object(n), !0).forEach(function(o) {\n      Co(e, o, n[o]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : jt(Object(n)).forEach(function(o) {\n      Object.defineProperty(e, o, Object.getOwnPropertyDescriptor(n, o));\n    });\n  }\n  return e;\n}\nfunction Co(e, t, n) {\n  return t = ko(t), t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e;\n}\nfunction ko(e) {\n  var t = yo(e, \"string\");\n  return typeof t == \"symbol\" ? t : t + \"\";\n}\nfunction yo(e, t) {\n  if (typeof e != \"object\" || !e)\n    return e;\n  var n = e[Symbol.toPrimitive];\n  if (n !== void 0) {\n    var o = n.call(e, t || \"default\");\n    if (typeof o != \"object\")\n      return o;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (t === \"string\" ? String : Number)(e);\n}\nfunction $t(e) {\n  return e && e.map((t, n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(t.tag, ge({\n    key: n\n  }, t.attr), $t(t.child)));\n}\nfunction j(e) {\n  return (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(jo, be({\n    attr: ge({}, e.attr)\n  }, t), $t(e.child));\n}\nfunction jo(e) {\n  var t = (n) => {\n    var {\n      attr: o,\n      size: l,\n      title: a\n    } = e, c = xo(e, po), s = l || n.size || \"1em\", u;\n    return n.className && (u = n.className), e.className && (u = (u ? u + \" \" : \"\") + e.className), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", be({\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\"\n    }, n.attr, o, c, {\n      className: u,\n      style: ge(ge({\n        color: e.color || n.color\n      }, n.style), e.style),\n      height: s,\n      width: s,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }), a && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"title\", null, a), e.children);\n  };\n  return yt !== void 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(yt.Consumer, null, (n) => t(n)) : t(Gt);\n}\nfunction wo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z\" }, child: [] }] })(e);\n}\nfunction Ce(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z\" }, child: [] }] })(e);\n}\nfunction Ho(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z\" }, child: [] }] })(e);\n}\nfunction _o(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z\" }, child: [] }] })(e);\n}\nfunction So(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z\" }, child: [] }] })(e);\n}\nfunction Mo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z\" }, child: [] }] })(e);\n}\nfunction To(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z\" }, child: [] }] })(e);\n}\nfunction wt(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z\" }, child: [] }] })(e);\n}\nfunction qt(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z\" }, child: [] }] })(e);\n}\nfunction Yt(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z\" }, child: [] }] })(e);\n}\nfunction Kt(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z\" }, child: [] }] })(e);\n}\nfunction Vo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z\" }, child: [] }] })(e);\n}\nfunction Eo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z\" }, child: [] }] })(e);\n}\nfunction Ht(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z\" }, child: [] }] })(e);\n}\nfunction Bo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z\" }, child: [] }] })(e);\n}\nfunction Ro(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z\" }, child: [] }] })(e);\n}\nfunction Xt(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z\" }, child: [] }] })(e);\n}\nfunction Jt(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z\" }, child: [] }] })(e);\n}\nfunction Qt(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z\" }, child: [] }] })(e);\n}\nfunction Lo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z\" }, child: [] }] })(e);\n}\nfunction Po(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z\" }, child: [] }] })(e);\n}\nfunction Ge(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M13 6V21H11V6H5V4H19V6H13Z\" }, child: [] }] })(e);\n}\nfunction Fo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z\" }, child: [] }] })(e);\n}\nfunction No(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z\" }, child: [] }] })(e);\n}\nfunction en(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z\" }, child: [] }] })(e);\n}\nfunction Oo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z\" }, child: [] }] })(e);\n}\nfunction Do(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z\" }, child: [] }] })(e);\n}\nfunction Io(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z\" }, child: [] }] })(e);\n}\nfunction tn(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z\" }, child: [] }] })(e);\n}\nfunction Ao(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z\" }, child: [] }] })(e);\n}\nfunction Zo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z\" }, child: [] }] })(e);\n}\nfunction zo(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z\" }, child: [] }] })(e);\n}\nfunction O(e) {\n  const t = U();\n  if (e || (e = t == null ? void 0 : t.editor), !e)\n    throw new Error(\n      \"'editor' is required, either from BlockNoteContext or as a function argument\"\n    );\n  const n = e, [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => {\n    var a;\n    return ((a = n.getSelection()) == null ? void 0 : a.blocks) || [n.getTextCursorPosition().block];\n  });\n  return W(\n    () => {\n      var a;\n      return l(\n        ((a = n.getSelection()) == null ? void 0 : a.blocks) || [n.getTextCursorPosition().block]\n      );\n    },\n    n\n  ), o;\n}\nfunction _() {\n  return U().editor.dictionary;\n}\nconst Uo = {\n  bold: To,\n  italic: Bo,\n  underline: Fo,\n  strike: Lo,\n  code: wo\n};\nfunction Wo(e, t) {\n  return e in t.schema.styleSchema && t.schema.styleSchema[e].type === e && t.schema.styleSchema[e].propSchema === \"boolean\";\n}\nconst fe = (e) => {\n  const t = _(), n = v(), o = H(), l = Wo(\n    e.basicTextStyle,\n    o\n  ), a = O(o), [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    e.basicTextStyle in o.getActiveStyles()\n  );\n  W(() => {\n    l && s(e.basicTextStyle in o.getActiveStyles());\n  }, o);\n  const u = (b) => {\n    if (o.focus(), !!l) {\n      if (o.schema.styleSchema[b].propSchema !== \"boolean\")\n        throw new Error(\"can only toggle boolean styles\");\n      o.toggleStyles({ [b]: !0 });\n    }\n  };\n  if (!(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => l ? !!a.find((b) => b.content !== void 0) : !1, [l, a]))\n    return null;\n  const m = Uo[e.basicTextStyle];\n  return /* @__PURE__ */ r.jsx(\n    n.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": e.basicTextStyle,\n      onClick: () => u(e.basicTextStyle),\n      isSelected: c,\n      label: t.formatting_toolbar[e.basicTextStyle].tooltip,\n      mainTooltip: t.formatting_toolbar[e.basicTextStyle].tooltip,\n      secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n        t.formatting_toolbar[e.basicTextStyle].secondary_tooltip,\n        t.generic.ctrl_shortcut\n      ),\n      icon: /* @__PURE__ */ r.jsx(m, {})\n    }\n  );\n}, Ae = (e) => {\n  const t = e.textColor || \"default\", n = e.backgroundColor || \"default\", o = e.size || 16, l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      pointerEvents: \"none\",\n      fontSize: (o * 0.75).toString() + \"px\",\n      height: o.toString() + \"px\",\n      lineHeight: o.toString() + \"px\",\n      textAlign: \"center\",\n      width: o.toString() + \"px\"\n    }),\n    [o]\n  );\n  return /* @__PURE__ */ r.jsx(\n    \"div\",\n    {\n      className: \"bn-color-icon\",\n      \"data-background-color\": n,\n      \"data-text-color\": t,\n      style: l,\n      children: \"A\"\n    }\n  );\n}, _t = [\n  \"default\",\n  \"gray\",\n  \"brown\",\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"blue\",\n  \"purple\",\n  \"pink\"\n], nn = (e) => {\n  const t = v(), n = _(), o = () => e.text ? /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Menu.Label, { children: n.color_picker.text_title }),\n    _t.map((a) => /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Item,\n      {\n        onClick: () => {\n          e.onClick && e.onClick(), e.text.setColor(a);\n        },\n        \"data-test\": \"text-color-\" + a,\n        icon: /* @__PURE__ */ r.jsx(Ae, { textColor: a, size: e.iconSize }),\n        checked: e.text.color === a,\n        children: n.color_picker.colors[a]\n      },\n      \"text-color-\" + a\n    ))\n  ] }) : null, l = () => e.background ? /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Menu.Label, { children: n.color_picker.background_title }),\n    _t.map((a) => /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Item,\n      {\n        onClick: () => {\n          e.onClick && e.onClick(), e.background.setColor(a);\n        },\n        \"data-test\": \"background-color-\" + a,\n        icon: /* @__PURE__ */ r.jsx(Ae, { backgroundColor: a, size: e.iconSize }),\n        checked: e.background.color === a,\n        children: n.color_picker.colors[a]\n      },\n      \"background-color-\" + a\n    ))\n  ] }) : null;\n  return /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(o, {}),\n    /* @__PURE__ */ r.jsx(l, {})\n  ] });\n};\nfunction St(e, t) {\n  return `${e}Color` in t.schema.styleSchema && t.schema.styleSchema[`${e}Color`].type === `${e}Color` && t.schema.styleSchema[`${e}Color`].propSchema === \"string\";\n}\nconst Go = () => {\n  const e = v(), t = _(), n = H(), o = St(\"text\", n), l = St(\"background\", n), a = O(n), [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    o && n.getActiveStyles().textColor || \"default\"\n  ), [u, f] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    l && n.getActiveStyles().backgroundColor || \"default\"\n  );\n  W(() => {\n    o && s(n.getActiveStyles().textColor || \"default\"), l && f(\n      n.getActiveStyles().backgroundColor || \"default\"\n    );\n  }, n);\n  const m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (k) => {\n      if (!o)\n        throw Error(\n          \"Tried to set text color, but style does not exist in editor schema.\"\n        );\n      k === \"default\" ? n.removeStyles({ textColor: k }) : n.addStyles({ textColor: k }), setTimeout(() => {\n        n.focus();\n      });\n    },\n    [n, o]\n  ), b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (k) => {\n      if (!l)\n        throw Error(\n          \"Tried to set background color, but style does not exist in editor schema.\"\n        );\n      k === \"default\" ? n.removeStyles({ backgroundColor: k }) : n.addStyles({ backgroundColor: k }), setTimeout(() => {\n        n.focus();\n      });\n    },\n    [l, n]\n  );\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!o && !l)\n      return !1;\n    for (const k of a)\n      if (k.content !== void 0)\n        return !0;\n    return !1;\n  }, [l, a, o]) ? /* @__PURE__ */ r.jsxs(e.Generic.Menu.Root, { children: [\n    /* @__PURE__ */ r.jsx(e.Generic.Menu.Trigger, { children: /* @__PURE__ */ r.jsx(\n      e.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        \"data-test\": \"colors\",\n        label: t.formatting_toolbar.colors.tooltip,\n        mainTooltip: t.formatting_toolbar.colors.tooltip,\n        icon: /* @__PURE__ */ r.jsx(\n          Ae,\n          {\n            textColor: c,\n            backgroundColor: u,\n            size: 20\n          }\n        )\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      e.Generic.Menu.Dropdown,\n      {\n        className: \"bn-menu-dropdown bn-color-picker-dropdown\",\n        children: /* @__PURE__ */ r.jsx(\n          nn,\n          {\n            text: o ? {\n              color: c,\n              setColor: m\n            } : void 0,\n            background: l ? {\n              color: u,\n              setColor: b\n            } : void 0\n          }\n        )\n      }\n    )\n  ] }) : null;\n}, on = (e) => {\n  const t = v(), n = _(), { url: o, text: l, editLink: a } = e, [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(o), [u, f] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(l);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    s(o), f(l);\n  }, [l, o]);\n  const m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (V) => {\n      V.key === \"Enter\" && (V.preventDefault(), a(c, u));\n    },\n    [a, c, u]\n  ), b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (V) => s(V.currentTarget.value),\n    []\n  ), g = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (V) => f(V.currentTarget.value),\n    []\n  ), k = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    () => a(c, u),\n    [a, c, u]\n  );\n  return /* @__PURE__ */ r.jsxs(t.Generic.Form.Root, { children: [\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Form.TextInput,\n      {\n        className: \"bn-text-input\",\n        name: \"url\",\n        icon: /* @__PURE__ */ r.jsx(Xt, {}),\n        autoFocus: !0,\n        placeholder: n.link_toolbar.form.url_placeholder,\n        value: c,\n        onKeyDown: m,\n        onChange: b,\n        onSubmit: k\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Form.TextInput,\n      {\n        className: \"bn-text-input\",\n        name: \"title\",\n        icon: /* @__PURE__ */ r.jsx(Ge, {}),\n        placeholder: n.link_toolbar.form.title_placeholder,\n        value: u,\n        onKeyDown: m,\n        onChange: g,\n        onSubmit: k\n      }\n    )\n  ] });\n};\nfunction $o(e) {\n  return \"link\" in e.schema.inlineContentSchema && e.schema.inlineContentSchema.link === \"link\";\n}\nconst qo = () => {\n  const e = H(), t = v(), n = _(), o = $o(e), l = O(e), [a, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e.getSelectedLinkUrl() || \"\"), [s, u] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e.getSelectedText());\n  W(() => {\n    u(e.getSelectedText() || \"\"), c(e.getSelectedLinkUrl() || \"\");\n  }, e);\n  const f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (b, g) => {\n      e.createLink(b, g), e.focus();\n    },\n    [e]\n  );\n  return !(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!o)\n      return !1;\n    for (const b of l)\n      if (b.content === void 0)\n        return !1;\n    return !0;\n  }, [o, l]) || !(\"link\" in e.schema.inlineContentSchema) ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        \"data-test\": \"createLink\",\n        label: n.formatting_toolbar.link.tooltip,\n        mainTooltip: n.formatting_toolbar.link.tooltip,\n        secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n          n.formatting_toolbar.link.secondary_tooltip,\n          n.generic.ctrl_shortcut\n        ),\n        icon: /* @__PURE__ */ r.jsx(Xt, {})\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(on, { url: a, text: s, editLink: f })\n      }\n    )\n  ] });\n}, Yo = () => {\n  const e = _(), t = v(), n = H(), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(), a = O(n), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (a.length !== 1)\n      return;\n    const f = a[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(f, n))\n      return l(f.props.caption), f;\n  }, [n, a]), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (f) => {\n      c && f.key === \"Enter\" && (f.preventDefault(), n.updateBlock(c, {\n        props: {\n          caption: o\n          // TODO\n        }\n      }));\n    },\n    [o, n, c]\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (f) => l(f.currentTarget.value),\n    []\n  );\n  return !c || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(c, n) ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        label: e.formatting_toolbar.file_caption.tooltip,\n        mainTooltip: e.formatting_toolbar.file_caption.tooltip,\n        icon: /* @__PURE__ */ r.jsx(Ht, {}),\n        isSelected: c.props.caption !== \"\"\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(t.Generic.Form.Root, { children: /* @__PURE__ */ r.jsx(\n          t.Generic.Form.TextInput,\n          {\n            name: \"file-caption\",\n            icon: /* @__PURE__ */ r.jsx(Ht, {}),\n            value: o || \"\",\n            autoFocus: !0,\n            placeholder: e.formatting_toolbar.file_caption.input_placeholder,\n            onKeyDown: s,\n            onChange: u\n          }\n        ) })\n      }\n    )\n  ] });\n}, Ko = () => {\n  const e = _(), t = v(), n = H(), o = O(n), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    () => n.canNestBlock()\n  );\n  W(() => {\n    a(n.canNestBlock());\n  }, n);\n  const c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n.focus(), n.nestBlock();\n  }, [n]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => !o.find(\n    (u) => n.schema.blockSchema[u.type].content !== \"inline\"\n  ), [n.schema.blockSchema, o]) ? /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": \"nestBlock\",\n      onClick: c,\n      isDisabled: !l,\n      label: e.formatting_toolbar.nest.tooltip,\n      mainTooltip: e.formatting_toolbar.nest.tooltip,\n      secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n        e.formatting_toolbar.nest.secondary_tooltip,\n        e.generic.ctrl_shortcut\n      ),\n      icon: /* @__PURE__ */ r.jsx(Eo, {})\n    }\n  ) : null;\n}, Xo = () => {\n  const e = _(), t = v(), n = H(), o = O(n), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    () => n.canUnnestBlock()\n  );\n  W(() => {\n    a(n.canUnnestBlock());\n  }, n);\n  const c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n.focus(), n.unnestBlock();\n  }, [n]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => !o.find(\n    (u) => n.schema.blockSchema[u.type].content !== \"inline\"\n  ), [n.schema.blockSchema, o]) ? /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": \"unnestBlock\",\n      onClick: c,\n      isDisabled: !l,\n      label: e.formatting_toolbar.unnest.tooltip,\n      mainTooltip: e.formatting_toolbar.unnest.tooltip,\n      secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n        e.formatting_toolbar.unnest.secondary_tooltip,\n        e.generic.ctrl_shortcut\n      ),\n      icon: /* @__PURE__ */ r.jsx(Vo, {})\n    }\n  ) : null;\n}, Jo = (e) => {\n  const t = v(), n = _(), { block: o } = e, l = H(), [a, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (m) => {\n      c(m.currentTarget.value);\n    },\n    []\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (m) => {\n      m.key === \"Enter\" && (m.preventDefault(), l.updateBlock(o, {\n        props: {\n          name: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.filenameFromURL)(a),\n          url: a,\n          fileId: void 0\n          // TODO: make this pluggable / not hard-coded\n        }\n      }));\n    },\n    [l, o, a]\n  ), f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    l.updateBlock(o, {\n      props: {\n        name: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.filenameFromURL)(a),\n        url: a,\n        fileId: void 0\n        // TODO: make this pluggable / not hard-coded\n      }\n    });\n  }, [l, o, a]);\n  return /* @__PURE__ */ r.jsxs(t.FilePanel.TabPanel, { className: \"bn-tab-panel\", children: [\n    /* @__PURE__ */ r.jsx(\n      t.FilePanel.TextInput,\n      {\n        className: \"bn-text-input\",\n        placeholder: n.file_panel.embed.url_placeholder,\n        value: a,\n        onChange: s,\n        onKeyDown: u,\n        \"data-test\": \"embed-input\"\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      t.FilePanel.Button,\n      {\n        className: \"bn-button\",\n        onClick: f,\n        \"data-test\": \"embed-input-button\",\n        children: n.file_panel.embed.embed_button[o.type]\n      }\n    )\n  ] });\n}, Qo = (e) => {\n  var b;\n  const t = v(), n = _(), { block: o, setLoading: l } = e, a = H(), [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    c && setTimeout(() => {\n      s(!1);\n    }, 3e3);\n  }, [c]);\n  const u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (g) => {\n      if (g === null)\n        return;\n      async function k(V) {\n        if (l(!0), a.uploadFile !== void 0)\n          try {\n            let F = await a.uploadFile(V);\n            typeof F == \"string\" && (F = {\n              props: {\n                name: V.name,\n                url: F\n              }\n            }), a.updateBlock(o, F);\n          } catch {\n            s(!0);\n          } finally {\n            l(!1);\n          }\n      }\n      k(g);\n    },\n    [o, a, l]\n  ), f = a.schema.blockSchema[o.type], m = f.isFileBlock && ((b = f.fileBlockAcceptMimeTypes) != null && b.length) ? f.fileBlockAcceptMimeTypes.join(\",\") : \"*/*\";\n  return /* @__PURE__ */ r.jsxs(t.FilePanel.TabPanel, { className: \"bn-tab-panel\", children: [\n    /* @__PURE__ */ r.jsx(\n      t.FilePanel.FileInput,\n      {\n        className: \"bn-file-input\",\n        \"data-test\": \"upload-input\",\n        accept: m,\n        placeholder: n.file_panel.upload.file_placeholder[o.type],\n        value: null,\n        onChange: u\n      }\n    ),\n    c && /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-error-text\", children: n.file_panel.upload.upload_error })\n  ] });\n}, rn = (e) => {\n  const t = v(), n = _(), o = H(), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), c = e.tabs ?? [\n    ...o.uploadFile !== void 0 ? [\n      {\n        name: n.file_panel.upload.title,\n        tabPanel: /* @__PURE__ */ r.jsx(Qo, { block: e.block, setLoading: a })\n      }\n    ] : [],\n    {\n      name: n.file_panel.embed.title,\n      tabPanel: /* @__PURE__ */ r.jsx(Jo, { block: e.block })\n    }\n  ], [s, u] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    e.defaultOpenTab || c[0].name\n  );\n  return /* @__PURE__ */ r.jsx(\n    t.FilePanel.Root,\n    {\n      className: \"bn-panel\",\n      defaultOpenTab: s,\n      openTab: s,\n      setOpenTab: u,\n      tabs: c,\n      loading: l\n    }\n  );\n}, er = () => {\n  const e = _(), t = v(), n = H(), o = O(n), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    a(!1);\n  }, [o]);\n  const c = o.length === 1 ? o[0] : void 0;\n  return c === void 0 || !(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(c, n) ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { opened: l, position: \"bottom\", children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        onClick: () => a(!l),\n        isSelected: l,\n        mainTooltip: e.formatting_toolbar.file_replace.tooltip[c.type] || e.formatting_toolbar.file_replace.tooltip.file,\n        label: e.formatting_toolbar.file_replace.tooltip[c.type] || e.formatting_toolbar.file_replace.tooltip.file,\n        icon: /* @__PURE__ */ r.jsx(Do, {})\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-panel-popover\",\n        variant: \"panel-popover\",\n        children: /* @__PURE__ */ r.jsx(rn, { block: c })\n      }\n    )\n  ] });\n}, tr = {\n  left: So,\n  center: Ho,\n  right: Mo,\n  justify: _o\n}, Ne = (e) => {\n  const t = v(), n = _(), o = H(), l = O(o), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const f = l[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockHasDefaultProp)(\"textAlignment\", f, o))\n      return f.props.textAlignment;\n  }, [o, l]), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (f) => {\n      o.focus();\n      for (const m of l)\n        (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\"textAlignment\", m.type, o) && o.updateBlock(m, {\n          props: { textAlignment: f }\n        });\n    },\n    [o, l]\n  );\n  if (!(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => !!l.find((f) => \"textAlignment\" in f.props), [l]))\n    return null;\n  const u = tr[e.textAlignment];\n  return /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": `alignText${e.textAlignment.slice(0, 1).toUpperCase() + e.textAlignment.slice(1)}`,\n      onClick: () => c(e.textAlignment),\n      isSelected: a === e.textAlignment,\n      label: n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,\n      mainTooltip: n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,\n      icon: /* @__PURE__ */ r.jsx(u, {})\n    }\n  );\n}, nr = (e) => [\n  {\n    name: e.slash_menu.paragraph.title,\n    type: \"paragraph\",\n    icon: Ge,\n    isSelected: (t) => t.type === \"paragraph\"\n  },\n  {\n    name: e.slash_menu.heading.title,\n    type: \"heading\",\n    props: { level: 1 },\n    icon: qt,\n    isSelected: (t) => t.type === \"heading\" && \"level\" in t.props && t.props.level === 1\n  },\n  {\n    name: e.slash_menu.heading_2.title,\n    type: \"heading\",\n    props: { level: 2 },\n    icon: Yt,\n    isSelected: (t) => t.type === \"heading\" && \"level\" in t.props && t.props.level === 2\n  },\n  {\n    name: e.slash_menu.heading_3.title,\n    type: \"heading\",\n    props: { level: 3 },\n    icon: Kt,\n    isSelected: (t) => t.type === \"heading\" && \"level\" in t.props && t.props.level === 3\n  },\n  {\n    name: e.slash_menu.bullet_list.title,\n    type: \"bulletListItem\",\n    icon: Qt,\n    isSelected: (t) => t.type === \"bulletListItem\"\n  },\n  {\n    name: e.slash_menu.numbered_list.title,\n    type: \"numberedListItem\",\n    icon: Jt,\n    isSelected: (t) => t.type === \"numberedListItem\"\n  }\n], or = (e) => {\n  const t = v(), n = _(), o = H(), l = O(o), [a, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(o.getTextCursorPosition().block), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (e.items || nr(n)).filter(\n    (m) => m.type in o.schema.blockSchema\n  ), [o, n, e.items]), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => s.find((m) => m.type === a.type) !== void 0,\n    [a.type, s]\n  ), f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const m = (b) => {\n      o.focus();\n      for (const g of l)\n        o.updateBlock(g, {\n          type: b.type,\n          props: b.props\n        });\n    };\n    return s.map((b) => {\n      const g = b.icon;\n      return {\n        text: b.name,\n        icon: /* @__PURE__ */ r.jsx(g, { size: 16 }),\n        onClick: () => m(b),\n        isSelected: b.isSelected(a)\n      };\n    });\n  }, [a, s, o, l]);\n  return W(() => {\n    c(o.getTextCursorPosition().block);\n  }, o), u ? /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Select,\n    {\n      className: \"bn-select\",\n      items: f\n    }\n  ) : null;\n}, rr = () => {\n  const e = _(), t = v(), n = H(), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(), a = O(n), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (a.length !== 1)\n      return;\n    const f = a[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(f, n))\n      return l(f.props.name), f;\n  }, [n, a]), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (f) => {\n      c && f.key === \"Enter\" && (f.preventDefault(), n.updateBlock(c, {\n        props: {\n          name: o\n          // TODO\n        }\n      }));\n    },\n    [o, n, c]\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (f) => l(f.currentTarget.value),\n    []\n  );\n  return !c || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(c, n) ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        label: e.formatting_toolbar.file_rename.tooltip[c.type] || e.formatting_toolbar.file_rename.tooltip.file,\n        mainTooltip: e.formatting_toolbar.file_rename.tooltip[c.type] || e.formatting_toolbar.file_rename.tooltip.file,\n        icon: /* @__PURE__ */ r.jsx(wt, {})\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(t.Generic.Form.Root, { children: /* @__PURE__ */ r.jsx(\n          t.Generic.Form.TextInput,\n          {\n            name: \"file-name\",\n            icon: /* @__PURE__ */ r.jsx(wt, {}),\n            value: o || \"\",\n            autoFocus: !0,\n            placeholder: e.formatting_toolbar.file_rename.input_placeholder[c.type] || e.formatting_toolbar.file_rename.input_placeholder.file,\n            onKeyDown: s,\n            onChange: u\n          }\n        ) })\n      }\n    )\n  ] });\n}, ir = () => {\n  const e = _(), t = v(), n = H(), o = O(n), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (o.length !== 1)\n      return;\n    const c = o[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(c, n))\n      return c;\n  }, [n, o]), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    l && l.props.url && (n.focus(), window.open(l.props.url));\n  }, [n, l]);\n  return !l || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(l, n) ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: e.formatting_toolbar.file_download.tooltip[l.type] || e.formatting_toolbar.file_download.tooltip.file,\n      mainTooltip: e.formatting_toolbar.file_download.tooltip[l.type] || e.formatting_toolbar.file_download.tooltip.file,\n      icon: /* @__PURE__ */ r.jsx(Zo, {}),\n      onClick: a\n    }\n  );\n}, lr = () => {\n  const e = _(), t = v(), n = H(), o = O(n), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (o.length !== 1)\n      return;\n    const c = o[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPreview)(c, n))\n      return c;\n  }, [n, o]), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    l && n.updateBlock(l, {\n      props: {\n        showPreview: !l.props.showPreview\n        // TODO\n      }\n    });\n  }, [n, l]);\n  return !l || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(l, n) ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: \"Toggle preview\",\n      mainTooltip: e.formatting_toolbar.file_preview_toggle.tooltip,\n      icon: /* @__PURE__ */ r.jsx(Oo, {}),\n      isSelected: l.props.showPreview,\n      onClick: a\n    }\n  );\n}, ar = () => {\n  const e = _(), t = v(), n = H(), o = O(n), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (o.length !== 1)\n      return;\n    const c = o[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(c, n))\n      return c;\n  }, [n, o]), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n.focus(), n.removeBlocks([l]);\n  }, [n, l]);\n  return !l || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(l, n) ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: e.formatting_toolbar.file_delete.tooltip[l.type] || e.formatting_toolbar.file_delete.tooltip.file,\n      mainTooltip: e.formatting_toolbar.file_delete.tooltip[l.type] || e.formatting_toolbar.file_delete.tooltip.file,\n      icon: /* @__PURE__ */ r.jsx(Ao, {}),\n      onClick: a\n    }\n  );\n}, cr = (e) => [\n  /* @__PURE__ */ r.jsx(or, { items: e }, \"blockTypeSelect\"),\n  /* @__PURE__ */ r.jsx(Yo, {}, \"fileCaptionButton\"),\n  /* @__PURE__ */ r.jsx(er, {}, \"replaceFileButton\"),\n  /* @__PURE__ */ r.jsx(rr, {}, \"fileRenameButton\"),\n  /* @__PURE__ */ r.jsx(ar, {}, \"fileDeleteButton\"),\n  /* @__PURE__ */ r.jsx(ir, {}, \"fileDownloadButton\"),\n  /* @__PURE__ */ r.jsx(lr, {}, \"filePreviewButton\"),\n  /* @__PURE__ */ r.jsx(fe, { basicTextStyle: \"bold\" }, \"boldStyleButton\"),\n  /* @__PURE__ */ r.jsx(fe, { basicTextStyle: \"italic\" }, \"italicStyleButton\"),\n  /* @__PURE__ */ r.jsx(\n    fe,\n    {\n      basicTextStyle: \"underline\"\n    },\n    \"underlineStyleButton\"\n  ),\n  /* @__PURE__ */ r.jsx(fe, { basicTextStyle: \"strike\" }, \"strikeStyleButton\"),\n  /* @__PURE__ */ r.jsx(Ne, { textAlignment: \"left\" }, \"textAlignLeftButton\"),\n  /* @__PURE__ */ r.jsx(Ne, { textAlignment: \"center\" }, \"textAlignCenterButton\"),\n  /* @__PURE__ */ r.jsx(Ne, { textAlignment: \"right\" }, \"textAlignRightButton\"),\n  /* @__PURE__ */ r.jsx(Go, {}, \"colorStyleButton\"),\n  /* @__PURE__ */ r.jsx(Ko, {}, \"nestBlockButton\"),\n  /* @__PURE__ */ r.jsx(Xo, {}, \"unnestBlockButton\"),\n  /* @__PURE__ */ r.jsx(qo, {}, \"createLinkButton\")\n], sr = (e) => {\n  const t = v();\n  return /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Root,\n    {\n      className: \"bn-toolbar bn-formatting-toolbar\",\n      children: e.children || cr(e.blockTypeSelectItems)\n    }\n  );\n}, Mt = (e) => {\n  switch (e) {\n    case \"left\":\n      return \"top-start\";\n    case \"center\":\n      return \"top\";\n    case \"right\":\n      return \"top-end\";\n    default:\n      return \"top-start\";\n  }\n}, ur = (e) => {\n  const t = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null), n = H(), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    () => {\n      const g = n.getTextCursorPosition().block;\n      return \"textAlignment\" in g.props ? Mt(\n        g.props.textAlignment\n      ) : \"top-start\";\n    }\n  );\n  W(() => {\n    const g = n.getTextCursorPosition().block;\n    \"textAlignment\" in g.props ? l(\n      Mt(\n        g.props.textAlignment\n      )\n    ) : l(\"top-start\");\n  }, n);\n  const a = K(\n    n.formattingToolbar.onUpdate.bind(n.formattingToolbar)\n  ), { isMounted: c, ref: s, style: u, getFloatingProps: f } = ie(\n    (a == null ? void 0 : a.show) || !1,\n    (a == null ? void 0 : a.referencePos) || null,\n    3e3,\n    {\n      placement: o,\n      middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10), (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)()],\n      onOpenChange: (g, k) => {\n        console.log(\"change\", k), g || (n.formattingToolbar.closeMenu(), n.focus());\n      }\n    }\n  ), m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => bo([t, s]), [t, s]);\n  if (!c || !a)\n    return null;\n  if (!a.show && t.current)\n    return /* @__PURE__ */ r.jsx(\n      \"div\",\n      {\n        ref: m,\n        style: u,\n        dangerouslySetInnerHTML: { __html: t.current.innerHTML }\n      }\n    );\n  const b = e.formattingToolbar || sr;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: m, style: u, ...f(), children: /* @__PURE__ */ r.jsx(b, {}) });\n}, dr = (e) => {\n  const t = v(), n = _();\n  return /* @__PURE__ */ r.jsx(\n    t.LinkToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: n.link_toolbar.delete.tooltip,\n      mainTooltip: n.link_toolbar.delete.tooltip,\n      isSelected: !1,\n      onClick: e.deleteLink,\n      icon: /* @__PURE__ */ r.jsx(Ro, {})\n    }\n  );\n}, fr = (e) => {\n  const t = v(), n = _();\n  return /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.LinkToolbar.Button,\n      {\n        className: \"bn-button\",\n        mainTooltip: n.link_toolbar.edit.tooltip,\n        isSelected: !1,\n        children: n.link_toolbar.edit.text\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(on, { ...e })\n      }\n    )\n  ] });\n}, mr = (e) => {\n  const t = v(), n = _();\n  return /* @__PURE__ */ r.jsx(\n    t.LinkToolbar.Button,\n    {\n      className: \"bn-button\",\n      mainTooltip: n.link_toolbar.open.tooltip,\n      label: n.link_toolbar.open.tooltip,\n      isSelected: !1,\n      onClick: () => {\n        window.open(e.url, \"_blank\");\n      },\n      icon: /* @__PURE__ */ r.jsx(zo, {})\n    }\n  );\n}, hr = (e) => {\n  const t = v();\n  return e.children ? /* @__PURE__ */ r.jsx(t.LinkToolbar.Root, { className: \"bn-toolbar bn-link-toolbar\", children: e.children }) : /* @__PURE__ */ r.jsxs(\n    t.LinkToolbar.Root,\n    {\n      className: \"bn-toolbar bn-link-toolbar\",\n      onMouseEnter: e.stopHideTimer,\n      onMouseLeave: e.startHideTimer,\n      children: [\n        /* @__PURE__ */ r.jsx(\n          fr,\n          {\n            url: e.url,\n            text: e.text,\n            editLink: e.editLink\n          }\n        ),\n        /* @__PURE__ */ r.jsx(mr, { url: e.url }),\n        /* @__PURE__ */ r.jsx(dr, { deleteLink: e.deleteLink })\n      ]\n    }\n  );\n}, br = (e) => {\n  const t = H(), n = {\n    deleteLink: t.linkToolbar.deleteLink,\n    editLink: t.linkToolbar.editLink,\n    startHideTimer: t.linkToolbar.startHideTimer,\n    stopHideTimer: t.linkToolbar.stopHideTimer\n  }, o = K(\n    t.linkToolbar.onUpdate.bind(t.linkToolbar)\n  ), { isMounted: l, ref: a, style: c, getFloatingProps: s } = ie(\n    (o == null ? void 0 : o.show) || !1,\n    (o == null ? void 0 : o.referencePos) || null,\n    4e3,\n    {\n      placement: \"top-start\",\n      middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10), (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)()],\n      onOpenChange: (g) => {\n        g || (t.linkToolbar.closeMenu(), t.focus());\n      }\n    }\n  );\n  if (!l || !o)\n    return null;\n  const { show: u, referencePos: f, ...m } = o, b = e.linkToolbar || hr;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: a, style: c, ...s(), children: /* @__PURE__ */ r.jsx(b, { ...m, ...n }) });\n}, gr = (e) => {\n  const t = H();\n  if (!t.filePanel)\n    throw new Error(\n      \"FileToolbarController can only be used when BlockNote editor schema contains file block\"\n    );\n  const n = K(\n    t.filePanel.onUpdate.bind(t.filePanel)\n  ), { isMounted: o, ref: l, style: a, getFloatingProps: c } = ie(\n    (n == null ? void 0 : n.show) || !1,\n    (n == null ? void 0 : n.referencePos) || null,\n    5e3,\n    {\n      placement: \"bottom\",\n      middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10), (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)()],\n      onOpenChange: (b) => {\n        b || (t.filePanel.closeMenu(), t.focus());\n      }\n    }\n  );\n  if (!o || !n)\n    return null;\n  const { show: s, referencePos: u, ...f } = n, m = e.filePanel || rn;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: l, style: a, ...c(), children: /* @__PURE__ */ r.jsx(m, { ...f }) });\n};\nfunction pr(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 1024 1024\" }, child: [{ tag: \"path\", attr: { d: \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z\" }, child: [] }, { tag: \"path\", attr: { d: \"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z\" }, child: [] }] })(e);\n}\nconst xr = (e) => {\n  const t = v(), n = _();\n  return /* @__PURE__ */ r.jsx(\n    t.SideMenu.Button,\n    {\n      className: \"bn-button\",\n      label: n.side_menu.add_block_label,\n      icon: /* @__PURE__ */ r.jsx(\n        pr,\n        {\n          size: 24,\n          onClick: e.addBlock,\n          \"data-test\": \"dragHandleAdd\"\n        }\n      )\n    }\n  );\n};\nfunction ln(e) {\n  return j({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\" }, child: [{ tag: \"path\", attr: { fill: \"none\", d: \"M0 0h24v24H0V0z\" }, child: [] }, { tag: \"path\", attr: { d: \"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" }, child: [] }] })(e);\n}\nconst vr = (e) => {\n  const t = v(), n = H();\n  return !(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\"textColor\", e.block.type, n) && !(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\"backgroundColor\", e.block.type, n) ? null : /* @__PURE__ */ r.jsxs(t.Generic.Menu.Root, { position: \"right\", sub: !0, children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Menu.Trigger, { sub: !0, children: /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Item,\n      {\n        className: \"bn-menu-item\",\n        subTrigger: !0,\n        children: e.children\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Dropdown,\n      {\n        sub: !0,\n        className: \"bn-menu-dropdown bn-color-picker-dropdown\",\n        children: /* @__PURE__ */ r.jsx(\n          nn,\n          {\n            iconSize: 18,\n            text: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\n              \"textColor\",\n              e.block.type,\n              n\n            ) && (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockHasDefaultProp)(\"textColor\", e.block, n) ? {\n              color: e.block.props.textColor,\n              setColor: (o) => n.updateBlock(e.block, {\n                type: e.block.type,\n                props: { textColor: o }\n              })\n            } : void 0,\n            background: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\n              \"backgroundColor\",\n              e.block.type,\n              n\n            ) && (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockHasDefaultProp)(\"backgroundColor\", e.block, n) ? {\n              color: e.block.props.backgroundColor,\n              setColor: (o) => n.updateBlock(e.block, {\n                props: { backgroundColor: o }\n              })\n            } : void 0\n          }\n        )\n      }\n    )\n  ] });\n}, Cr = (e) => {\n  const t = v(), n = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      className: \"bn-menu-item\",\n      onClick: () => n.removeBlocks([e.block]),\n      children: e.children\n    }\n  );\n}, kr = (e) => {\n  const t = v(), n = _();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Dropdown,\n    {\n      className: \"bn-menu-dropdown bn-drag-handle-menu\",\n      children: e.children || /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n        /* @__PURE__ */ r.jsx(Cr, { ...e, children: n.drag_handle.delete_menuitem }),\n        /* @__PURE__ */ r.jsx(vr, { ...e, children: n.drag_handle.colors_menuitem })\n      ] })\n    }\n  );\n}, yr = (e) => {\n  const t = v(), n = _(), o = e.dragHandleMenu || kr;\n  return /* @__PURE__ */ r.jsxs(\n    t.Generic.Menu.Root,\n    {\n      onOpenChange: (l) => {\n        l ? e.freezeMenu() : (e.unfreezeMenu(), e.editor.focus());\n      },\n      position: \"left\",\n      children: [\n        /* @__PURE__ */ r.jsx(t.Generic.Menu.Trigger, { children: /* @__PURE__ */ r.jsx(\n          t.SideMenu.Button,\n          {\n            label: n.side_menu.drag_handle_label,\n            draggable: !0,\n            onDragStart: e.blockDragStart,\n            onDragEnd: e.blockDragEnd,\n            className: \"bn-button\",\n            icon: /* @__PURE__ */ r.jsx(ln, { size: 24, \"data-test\": \"dragHandle\" })\n          }\n        ) }),\n        /* @__PURE__ */ r.jsx(o, { block: e.block })\n      ]\n    }\n  );\n}, jr = (e) => {\n  const t = v(), { addBlock: n, ...o } = e;\n  return /* @__PURE__ */ r.jsx(t.SideMenu.Root, { className: \"bn-side-menu\", children: e.children || /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(xr, { addBlock: n }),\n    /* @__PURE__ */ r.jsx(yr, { ...o })\n  ] }) });\n}, wr = (e) => {\n  const t = H(), n = {\n    addBlock: t.sideMenu.addBlock,\n    blockDragStart: t.sideMenu.blockDragStart,\n    blockDragEnd: t.sideMenu.blockDragEnd,\n    freezeMenu: t.sideMenu.freezeMenu,\n    unfreezeMenu: t.sideMenu.unfreezeMenu\n  }, o = K(\n    t.sideMenu.onUpdate.bind(t.sideMenu)\n  ), { isMounted: l, ref: a, style: c, getFloatingProps: s } = ie(\n    (o == null ? void 0 : o.show) || !1,\n    (o == null ? void 0 : o.referencePos) || null,\n    1e3,\n    {\n      placement: \"left\"\n    }\n  );\n  if (!l || !o)\n    return null;\n  const { show: u, referencePos: f, ...m } = o, b = e.sideMenu || jr;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: a, style: c, ...s(), children: /* @__PURE__ */ r.jsx(b, { ...m, ...n, editor: t }) });\n};\nfunction Hr(e) {\n  const t = v(), n = _(), { items: o, loadingState: l, selectedIndex: a, onItemClick: c } = e, s = l === \"loading-initial\" || l === \"loading\" ? /* @__PURE__ */ r.jsx(t.SuggestionMenu.Loader, { className: \"bn-suggestion-menu-loader\", children: n.suggestion_menu.loading }) : null, u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    let f;\n    const m = [];\n    for (let b = 0; b < o.length; b++) {\n      const g = o[b];\n      g.group !== f && (f = g.group, m.push(\n        /* @__PURE__ */ r.jsx(\n          t.SuggestionMenu.Label,\n          {\n            className: \"bn-suggestion-menu-label\",\n            children: f\n          },\n          f\n        )\n      )), m.push(\n        /* @__PURE__ */ r.jsx(\n          t.SuggestionMenu.Item,\n          {\n            className: \"bn-suggestion-menu-item\",\n            item: g,\n            id: `bn-suggestion-menu-item-${b}`,\n            isSelected: b === a,\n            onClick: () => c == null ? void 0 : c(g)\n          },\n          g.title\n        )\n      );\n    }\n    return m;\n  }, [t, o, c, a]);\n  return /* @__PURE__ */ r.jsxs(\n    t.SuggestionMenu.Root,\n    {\n      id: \"bn-suggestion-menu\",\n      className: \"bn-suggestion-menu\",\n      children: [\n        u,\n        u.length === 0 && (e.loadingState === \"loading\" || e.loadingState === \"loaded\") && /* @__PURE__ */ r.jsx(\n          t.SuggestionMenu.EmptyItem,\n          {\n            className: \"bn-suggestion-menu-item\",\n            children: n.suggestion_menu.no_items_title\n          }\n        ),\n        s\n      ]\n    }\n  );\n}\nfunction _r(e, t, n, o = 3) {\n  const l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    t !== void 0 && (e.length > 0 ? l.current = t.length : t.length - l.current > o && n());\n  }, [n, o, e.length, t]);\n}\nfunction Sr(e, t) {\n  const [n, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const u = e;\n    c.current = e, a(!0), t(e).then((f) => {\n      c.current === u && (o(f), a(!1), s.current = u);\n    });\n  }, [e, t]), {\n    items: n || [],\n    // The query that was used to retrieve the last set of items may not be the\n    // same as the current query as the items from the current query may not\n    // have been retrieved yet. This is useful when using the returns of this\n    // hook in other hooks.\n    usedQuery: s.current,\n    loadingState: s.current === void 0 ? \"loading-initial\" : l ? \"loading\" : \"loaded\"\n  };\n}\nfunction Mr(e, t, n, o) {\n  const [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const c = (s) => s.key === \"ArrowUp\" ? (s.preventDefault(), n.length && a((l - 1 + n.length) % n.length), !0) : s.key === \"ArrowDown\" ? (s.preventDefault(), n.length && a((l + 1) % n.length), !0) : s.key === \"Enter\" ? (s.preventDefault(), n.length && (o == null || o(n[l])), !0) : !1;\n    return e.domElement.addEventListener(\n      \"keydown\",\n      c,\n      !0\n    ), () => {\n      e.domElement.removeEventListener(\n        \"keydown\",\n        c,\n        !0\n      );\n    };\n  }, [e.domElement, n, l, o]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    a(0);\n  }, [t]), {\n    selectedIndex: n.length === 0 ? void 0 : l\n  };\n}\nfunction Tr(e) {\n  const n = U().setContentEditableProps, o = H(), {\n    getItems: l,\n    suggestionMenuComponent: a,\n    query: c,\n    clearQuery: s,\n    closeMenu: u,\n    onItemClick: f\n  } = e, m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (N) => {\n      u(), s(), f == null || f(N);\n    },\n    [f, u, s]\n  ), { items: b, usedQuery: g, loadingState: k } = Sr(\n    c,\n    l\n  );\n  _r(b, g, u);\n  const { selectedIndex: V } = Mr(\n    o,\n    c,\n    b,\n    m\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (n((N) => ({\n    ...N,\n    \"aria-expanded\": !0,\n    \"aria-controls\": \"bn-suggestion-menu\"\n  })), () => {\n    n((N) => ({\n      ...N,\n      \"aria-expanded\": !1,\n      \"aria-controls\": void 0\n    }));\n  }), [n]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (n((N) => ({\n    ...N,\n    \"aria-activedescendant\": V ? \"bn-suggestion-menu-item-\" + V : void 0\n  })), () => {\n    n((N) => ({\n      ...N,\n      \"aria-activedescendant\": void 0\n    }));\n  }), [n, V]);\n  const F = a;\n  return /* @__PURE__ */ r.jsx(\n    F,\n    {\n      items: b,\n      onItemClick: m,\n      loadingState: k,\n      selectedIndex: V\n    }\n  );\n}\nconst Vr = {\n  heading: qt,\n  heading_2: Yt,\n  heading_3: Kt,\n  numbered_list: Jt,\n  bullet_list: Qt,\n  paragraph: Ge,\n  table: Po,\n  image: en,\n  video: No,\n  audio: tn,\n  file: Ce\n};\nfunction Er(e) {\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getDefaultSlashMenuItems)(e).map((t) => {\n    const n = Vr[t.key];\n    return {\n      ...t,\n      icon: /* @__PURE__ */ r.jsx(n, { size: 18 })\n    };\n  });\n}\nfunction Br(e) {\n  const t = H(), { triggerCharacter: n, suggestionMenuComponent: o } = e;\n  let { onItemClick: l, getItems: a } = e;\n  l || (l = (g) => {\n    g.onItemClick(t);\n  });\n  const c = {\n    closeMenu: t.suggestionMenus.closeMenu,\n    clearQuery: t.suggestionMenus.clearQuery\n  }, s = K(\n    (g) => t.suggestionMenus.onUpdate.bind(t.suggestionMenus)(\n      n,\n      g\n    )\n  ), { isMounted: u, ref: f, style: m, getFloatingProps: b } = ie(\n    (s == null ? void 0 : s.show) || !1,\n    (s == null ? void 0 : s.referencePos) || null,\n    2e3,\n    {\n      placement: \"bottom-start\",\n      middleware: [\n        (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10),\n        // Flips the menu placement to maximize the space available, and prevents\n        // the menu from being cut off by the confines of the screen.\n        (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)(),\n        (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.size)({\n          apply({ availableHeight: g, elements: k }) {\n            Object.assign(k.floating.style, {\n              maxHeight: `${g - 10}px`\n            });\n          }\n        })\n      ],\n      onOpenChange(g) {\n        g || t.suggestionMenus.closeMenu();\n      }\n    }\n  );\n  return !u || !s ? null : (a || (a = async (g) => (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.filterSuggestionItems)(\n    Er(t),\n    g\n  )), /* @__PURE__ */ r.jsx(\"div\", { ref: f, style: m, ...b(), children: /* @__PURE__ */ r.jsx(\n    Tr,\n    {\n      query: s.query,\n      closeMenu: c.closeMenu,\n      clearQuery: c.clearQuery,\n      getItems: a,\n      suggestionMenuComponent: o || Hr,\n      onItemClick: l\n    }\n  ) }));\n}\nconst Rr = (e) => {\n  const t = v(), n = _(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = e.block.content.rows[e.index].cells.map(\n          () => []\n        ), a = [...e.block.content.rows];\n        a.splice(e.index + (e.side === \"below\" ? 1 : 0), 0, {\n          cells: l\n        }), o.updateBlock(e.block, {\n          type: \"table\",\n          content: {\n            type: \"tableContent\",\n            rows: a\n          }\n        });\n      },\n      children: n.table_handle[`add_${e.side}_menuitem`]\n    }\n  );\n}, Lr = (e) => {\n  const t = v(), n = _(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = {\n          type: \"tableContent\",\n          rows: e.block.content.rows.map((a) => {\n            const c = [...a.cells];\n            return c.splice(e.index + (e.side === \"right\" ? 1 : 0), 0, []), { cells: c };\n          })\n        };\n        o.updateBlock(e.block, {\n          type: \"table\",\n          content: l\n        });\n      },\n      children: n.table_handle[`add_${e.side}_menuitem`]\n    }\n  );\n}, Tt = (e) => e.orientation === \"row\" ? /* @__PURE__ */ r.jsx(Rr, { ...e, side: e.side }) : /* @__PURE__ */ r.jsx(Lr, { ...e, side: e.side }), Pr = (e) => {\n  const t = v(), n = _(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = {\n          type: \"tableContent\",\n          rows: e.block.content.rows.filter(\n            (a, c) => c !== e.index\n          )\n        };\n        o.updateBlock(e.block, {\n          type: \"table\",\n          content: l\n        });\n      },\n      children: n.table_handle.delete_row_menuitem\n    }\n  );\n}, Fr = (e) => {\n  const t = v(), n = _(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = {\n          type: \"tableContent\",\n          rows: e.block.content.rows.map((a) => ({\n            cells: a.cells.filter((c, s) => s !== e.index)\n          }))\n        };\n        o.updateBlock(e.block, {\n          type: \"table\",\n          content: l\n        });\n      },\n      children: n.table_handle.delete_column_menuitem\n    }\n  );\n}, Nr = (e) => e.orientation === \"row\" ? /* @__PURE__ */ r.jsx(Pr, { ...e }) : /* @__PURE__ */ r.jsx(Fr, { ...e }), Or = (e) => {\n  const t = v();\n  return /* @__PURE__ */ r.jsx(t.Generic.Menu.Dropdown, { className: \"bn-table-handle-menu\", children: e.children || /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(\n      Nr,\n      {\n        orientation: e.orientation,\n        block: e.block,\n        index: e.index\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      Tt,\n      {\n        orientation: e.orientation,\n        block: e.block,\n        index: e.index,\n        side: e.orientation === \"row\" ? \"above\" : \"left\"\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      Tt,\n      {\n        orientation: e.orientation,\n        block: e.block,\n        index: e.index,\n        side: e.orientation === \"row\" ? \"below\" : \"right\"\n      }\n    )\n  ] }) });\n}, Dr = (e) => {\n  const t = v(), [n, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), l = e.tableHandleMenu || Or;\n  return /* @__PURE__ */ r.jsxs(\n    t.Generic.Menu.Root,\n    {\n      onOpenChange: (a) => {\n        a ? (e.freezeHandles(), e.hideOtherSide()) : (e.unfreezeHandles(), e.showOtherSide(), e.editor.focus());\n      },\n      position: \"right\",\n      children: [\n        /* @__PURE__ */ r.jsx(t.Generic.Menu.Trigger, { children: /* @__PURE__ */ r.jsx(\n          t.TableHandle.Root,\n          {\n            className: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.mergeCSSClasses)(\n              \"bn-table-handle\",\n              n ? \"bn-table-handle-dragging\" : \"\"\n            ),\n            draggable: !0,\n            onDragStart: (a) => {\n              o(!0), e.dragStart(a);\n            },\n            onDragEnd: () => {\n              e.dragEnd(), o(!1);\n            },\n            style: e.orientation === \"column\" ? { transform: \"rotate(0.25turn)\" } : void 0,\n            children: e.children || /* @__PURE__ */ r.jsx(ln, { size: 24, \"data-test\": \"tableHandle\" })\n          }\n        ) }),\n        /* @__PURE__ */ r.jsx(\n          l,\n          {\n            orientation: e.orientation,\n            block: e.block,\n            index: e.index\n          }\n        )\n      ]\n    }\n  );\n};\nfunction Ir(e, t, n) {\n  return n && n.draggedCellOrientation === \"row\" ? new DOMRect(\n    t.x,\n    n.mousePos,\n    t.width,\n    0\n  ) : new DOMRect(\n    t.x,\n    e.y,\n    t.width,\n    e.height\n  );\n}\nfunction Ar(e, t, n) {\n  return n && n.draggedCellOrientation === \"col\" ? new DOMRect(\n    n.mousePos,\n    t.y,\n    0,\n    t.height\n  ) : new DOMRect(\n    e.x,\n    t.y,\n    e.width,\n    t.height\n  );\n}\nfunction Vt(e, t, n, o, l) {\n  const { refs: a, update: c, context: s, floatingStyles: u } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useFloating)({\n    open: t,\n    placement: e === \"row\" ? \"left\" : \"top\",\n    middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(e === \"row\" ? -10 : -12)]\n  }), { isMounted: f, styles: m } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useTransitionStyles)(s);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    c();\n  }, [n, o, c]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    n === null || o === null || a.setReference({\n      getBoundingClientRect: () => (e === \"row\" ? Ir : Ar)(n, o, l)\n    });\n  }, [l, e, n, o, a]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      isMounted: f,\n      ref: a.setFloating,\n      style: {\n        display: \"flex\",\n        ...m,\n        ...u,\n        zIndex: 1e4\n      }\n    }),\n    [u, f, a.setFloating, m]\n  );\n}\nfunction Zr(e, t, n, o) {\n  const l = Vt(\n    \"row\",\n    e,\n    t,\n    n,\n    o\n  ), a = Vt(\n    \"col\",\n    e,\n    t,\n    n,\n    o\n  );\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      rowHandle: l,\n      colHandle: a\n    }),\n    [a, l]\n  );\n}\nconst zr = (e) => {\n  var g, k;\n  const t = H();\n  if (!t.tableHandles)\n    throw new Error(\n      \"TableHandlesController can only be used when BlockNote editor schema contains table block\"\n    );\n  const n = {\n    rowDragStart: t.tableHandles.rowDragStart,\n    colDragStart: t.tableHandles.colDragStart,\n    dragEnd: t.tableHandles.dragEnd,\n    freezeHandles: t.tableHandles.freezeHandles,\n    unfreezeHandles: t.tableHandles.unfreezeHandles\n  }, o = K(\n    t.tableHandles.onUpdate.bind(t.tableHandles)\n  ), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var V, F;\n    return o != null && o.draggingState ? {\n      draggedCellOrientation: (V = o == null ? void 0 : o.draggingState) == null ? void 0 : V.draggedCellOrientation,\n      mousePos: (F = o == null ? void 0 : o.draggingState) == null ? void 0 : F.mousePos\n    } : void 0;\n  }, [\n    o == null ? void 0 : o.draggingState,\n    (g = o == null ? void 0 : o.draggingState) == null ? void 0 : g.draggedCellOrientation,\n    (k = o == null ? void 0 : o.draggingState) == null ? void 0 : k.mousePos\n  ]), { rowHandle: a, colHandle: c } = Zr(\n    (o == null ? void 0 : o.show) || !1,\n    (o == null ? void 0 : o.referencePosCell) || null,\n    (o == null ? void 0 : o.referencePosTable) || null,\n    l\n  ), [s, u] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), [f, m] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n  if (!a.isMounted || !c.isMounted || !o)\n    return null;\n  const b = e.tableHandle || Dr;\n  return /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    !s && /* @__PURE__ */ r.jsx(\"div\", { ref: a.ref, style: a.style, children: /* @__PURE__ */ r.jsx(\n      b,\n      {\n        editor: t,\n        orientation: \"row\",\n        showOtherSide: () => m(!1),\n        hideOtherSide: () => m(!0),\n        index: o.rowIndex,\n        block: o.block,\n        dragStart: n.rowDragStart,\n        dragEnd: n.dragEnd,\n        freezeHandles: n.freezeHandles,\n        unfreezeHandles: n.unfreezeHandles\n      }\n    ) }),\n    !f && /* @__PURE__ */ r.jsx(\"div\", { ref: c.ref, style: c.style, children: /* @__PURE__ */ r.jsx(\n      b,\n      {\n        editor: t,\n        orientation: \"column\",\n        showOtherSide: () => u(!1),\n        hideOtherSide: () => u(!0),\n        index: o.colIndex,\n        block: o.block,\n        dragStart: n.colDragStart,\n        dragEnd: n.dragEnd,\n        freezeHandles: n.freezeHandles,\n        unfreezeHandles: n.unfreezeHandles\n      }\n    ) })\n  ] });\n};\nfunction Ur(e) {\n  const t = H();\n  if (!t)\n    throw new Error(\n      \"BlockNoteDefaultUI must be used within a BlockNoteContext.Provider\"\n    );\n  return /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    e.formattingToolbar !== !1 && /* @__PURE__ */ r.jsx(ur, {}),\n    e.linkToolbar !== !1 && /* @__PURE__ */ r.jsx(br, {}),\n    e.slashMenu !== !1 && /* @__PURE__ */ r.jsx(Br, { triggerCharacter: \"/\" }),\n    e.sideMenu !== !1 && /* @__PURE__ */ r.jsx(wr, {}),\n    t.filePanel && e.filePanel !== !1 && /* @__PURE__ */ r.jsx(gr, {}),\n    t.tableHandles && e.tableHandles !== !1 && /* @__PURE__ */ r.jsx(zr, {})\n  ] });\n}\nconst Wr = ({\n  renderers: e\n}) => /* @__PURE__ */ r.jsx(r.Fragment, { children: Object.entries(e).map(([t, n]) => (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(n.reactElement, n.element, t)) });\nfunction Gr(e) {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (e.editor._tiptapEditor.contentComponent = {\n    /**\n     * Used by TipTap\n     */\n    setRenderer(a, c) {\n      n((s) => ({ ...s, [a]: c }));\n    },\n    /**\n     * Used by TipTap\n     */\n    removeRenderer(a) {\n      n((c) => {\n        const s = { ...c };\n        return delete s[a], s;\n      });\n    },\n    /**\n     * Render a single node to a container within the React context (used by BlockNote renderToDOMSpec)\n     */\n    renderToElement(a, c) {\n      (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.flushSync)(() => {\n        l({ node: a, container: c });\n      }), l(void 0);\n    }\n  }, queueMicrotask(() => {\n    e.editor._tiptapEditor.createNodeViews();\n  }), () => {\n    e.editor._tiptapEditor.contentComponent = null;\n  }), [e.editor._tiptapEditor]), /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(Wr, { renderers: t }),\n    o && (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(o.node, o.container),\n    e.children\n  ] });\n}\nconst Et = () => {\n};\nfunction $r(e, t) {\n  const {\n    editor: n,\n    className: o,\n    theme: l,\n    children: a,\n    editable: c,\n    onSelectionChange: s,\n    onChange: u,\n    formattingToolbar: f,\n    linkToolbar: m,\n    slashMenu: b,\n    sideMenu: g,\n    filePanel: k,\n    tableHandles: V,\n    ...F\n  } = e, [N, z] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(), E = U(), He = (0,use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(), _e = (E == null ? void 0 : E.colorSchemePreference) || He, le = l || (_e === \"dark\" ? \"dark\" : \"light\");\n  Ue(u || Et, n), We(s || Et, n), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    n.isEditable = c !== !1;\n  }, [c, n]);\n  const Se = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    a,\n    /* @__PURE__ */ r.jsx(\n      Ur,\n      {\n        formattingToolbar: f,\n        linkToolbar: m,\n        slashMenu: b,\n        sideMenu: g,\n        filePanel: k,\n        tableHandles: V\n      }\n    )\n  ] }), [\n    a,\n    f,\n    m,\n    k,\n    g,\n    b,\n    V\n  ]), Me = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    ...E,\n    editor: n,\n    setContentEditableProps: z\n  }), [E, n]);\n  return /* @__PURE__ */ r.jsx(Wt.Provider, { value: Me, children: /* @__PURE__ */ r.jsx(Gr, { editor: n, children: /* @__PURE__ */ r.jsxs(\n    \"div\",\n    {\n      className: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.mergeCSSClasses)(\n        \"bn-container\",\n        le || \"\",\n        o || \"\"\n      ),\n      \"data-color-scheme\": le,\n      ...F,\n      ref: t,\n      children: [\n        /* @__PURE__ */ r.jsx(\n          \"div\",\n          {\n            \"aria-autocomplete\": \"list\",\n            \"aria-haspopup\": \"listbox\",\n            ref: n._tiptapEditor.mount,\n            ...N\n          }\n        ),\n        Se\n      ]\n    }\n  ) }) });\n}\nconst ui = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef($r);\nvar Ze, me = react_dom__WEBPACK_IMPORTED_MODULE_3__;\nif (false)\n  {}\nelse {\n  var Bt = me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  Ze = function(e, t) {\n    Bt.usingClientEntryPoint = !0;\n    try {\n      return me.createRoot(e, t);\n    } finally {\n      Bt.usingClientEntryPoint = !1;\n    }\n  };\n}\nfunction pe(e, t) {\n  let n;\n  const o = document.createElement(\"div\");\n  let l;\n  if (t ? t._tiptapEditor.contentComponent.renderToElement(\n    e((u) => n = u || void 0),\n    o\n  ) : (l = Ze(o), (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.flushSync)(() => {\n    l.render(e((u) => n = u || void 0));\n  })), !o.childElementCount)\n    return console.warn(\"ReactInlineContentSpec: renderHTML() failed\"), {\n      dom: document.createElement(\"span\")\n    };\n  n == null || n.setAttribute(\"data-tmp-find\", \"true\");\n  const a = o.cloneNode(!0), c = a.firstElementChild, s = a.querySelector(\n    \"[data-tmp-find]\"\n  );\n  return s == null || s.removeAttribute(\"data-tmp-find\"), l == null || l.unmount(), {\n    dom: c,\n    contentDOM: s || void 0\n  };\n}\nfunction Oe(e) {\n  var t;\n  return (\n    // Creates `blockContent` element\n    /* @__PURE__ */ r.jsx(\n      _tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewWrapper,\n      {\n        ...Object.fromEntries(\n          Object.entries(e.domAttributes || {}).filter(\n            ([n]) => n !== \"class\"\n          )\n        ),\n        className: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.mergeCSSClasses)(\n          \"bn-block-content\",\n          ((t = e.domAttributes) == null ? void 0 : t.class) || \"\"\n        ),\n        \"data-content-type\": e.blockType,\n        ...Object.fromEntries(\n          Object.entries(e.blockProps).filter(\n            ([n, o]) => !_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.inheritedProps.includes(n) && o !== e.propSchema[n].default\n          ).map(([n, o]) => [(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.camelToDataKebab)(n), o])\n        ),\n        \"data-file-block\": e.isFileBlock === !0 || void 0,\n        children: e.children\n      }\n    )\n  );\n}\nfunction ke(e, t) {\n  const n = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createStronglyTypedTiptapNode)({\n    name: e.type,\n    content: e.content === \"inline\" ? \"inline*\" : \"\",\n    group: \"blockContent\",\n    selectable: !0,\n    addAttributes() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.propsToAttributes)(e.propSchema);\n    },\n    parseHTML() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getParseRules)(e, t.parse);\n    },\n    renderHTML() {\n      const o = document.createElement(\"div\");\n      return o.setAttribute(\"data-tmp-placeholder\", \"true\"), {\n        dom: o\n      };\n    },\n    addNodeView() {\n      return (o) => (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.ReactNodeViewRenderer)(\n        (l) => {\n          var m;\n          const a = this.options.editor, c = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getBlockFromPos)(\n            l.getPos,\n            a,\n            this.editor,\n            e.type\n          ), s = ((m = this.options.domAttributes) == null ? void 0 : m.blockContent) || {}, u = (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewContent)({}).ref, f = t.render;\n          return /* @__PURE__ */ r.jsx(\n            Oe,\n            {\n              blockType: c.type,\n              blockProps: c.props,\n              propSchema: e.propSchema,\n              isFileBlock: e.isFileBlock,\n              domAttributes: s,\n              children: /* @__PURE__ */ r.jsx(\n                f,\n                {\n                  block: c,\n                  editor: a,\n                  contentRef: u\n                }\n              )\n            }\n          );\n        },\n        {\n          className: \"bn-react-node-view-renderer\"\n        }\n      )(o);\n    }\n  });\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createInternalBlockSpec)(e, {\n    node: n,\n    toInternalHTML: (o, l) => {\n      var u, f;\n      const a = ((u = n.options.domAttributes) == null ? void 0 : u.blockContent) || {}, c = t.render, s = pe(\n        (m) => /* @__PURE__ */ r.jsx(\n          Oe,\n          {\n            blockType: o.type,\n            blockProps: o.props,\n            propSchema: e.propSchema,\n            domAttributes: a,\n            children: /* @__PURE__ */ r.jsx(\n              c,\n              {\n                block: o,\n                editor: l,\n                contentRef: m\n              }\n            )\n          }\n        ),\n        l\n      );\n      return (f = s.contentDOM) == null || f.setAttribute(\"data-editable\", \"\"), s;\n    },\n    toExternalHTML: (o, l) => {\n      var u, f;\n      const a = ((u = n.options.domAttributes) == null ? void 0 : u.blockContent) || {}, c = t.toExternalHTML || t.render, s = pe((m) => /* @__PURE__ */ r.jsx(\n        Oe,\n        {\n          blockType: o.type,\n          blockProps: o.props,\n          propSchema: e.propSchema,\n          domAttributes: a,\n          children: /* @__PURE__ */ r.jsx(\n            c,\n            {\n              block: o,\n              editor: l,\n              contentRef: m\n            }\n          )\n        }\n      ), l);\n      return (f = s.contentDOM) == null || f.setAttribute(\"data-editable\", \"\"), s;\n    }\n  });\n}\nconst ye = (e) => /* @__PURE__ */ r.jsxs(\n  \"div\",\n  {\n    className: \"bn-file-default-preview\",\n    contentEditable: !1,\n    draggable: !1,\n    children: [\n      /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-default-preview-icon\", children: /* @__PURE__ */ r.jsx(Ce, { size: 24 }) }),\n      /* @__PURE__ */ r.jsx(\"p\", { className: \"bn-file-default-preview-name\", children: e.block.props.name })\n    ]\n  }\n), $ = (e) => /* @__PURE__ */ r.jsxs(\"div\", { className: \"bn-file-and-caption-wrapper\", children: [\n  e.children,\n  e.block.props.caption && /* @__PURE__ */ r.jsx(\"p\", { className: \"bn-file-caption\", children: e.block.props.caption })\n] }), je = (e) => {\n  const t = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (o) => {\n      o.preventDefault();\n    },\n    []\n  ), n = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    e.editor._tiptapEditor.view.dispatch(\n      e.editor._tiptapEditor.state.tr.setMeta(\n        e.editor.filePanel.plugin,\n        {\n          block: e.block\n        }\n      )\n    );\n  }, [\n    e.block,\n    e.editor._tiptapEditor.state.tr,\n    e.editor._tiptapEditor.view,\n    e.editor.filePanel\n  ]);\n  return /* @__PURE__ */ r.jsxs(\n    \"div\",\n    {\n      className: \"bn-add-file-button\",\n      onMouseDown: t,\n      onClick: n,\n      children: [\n        /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-add-file-button-icon\", children: e.buttonIcon || /* @__PURE__ */ r.jsx(Ce, { size: 24 }) }),\n        /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-add-file-button-text\", children: e.buttonText })\n      ]\n    }\n  );\n}, we = (e) => /* @__PURE__ */ r.jsxs(\"div\", { children: [\n  e.children,\n  /* @__PURE__ */ r.jsx(\"p\", { children: e.caption })\n] }), $e = (e) => /* @__PURE__ */ r.jsxs(\"figure\", { children: [\n  e.children,\n  /* @__PURE__ */ r.jsx(\"figcaption\", { children: e.caption })\n] }), an = (e) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const f = (b) => {\n      let g;\n      e.block.props.textAlignment === \"center\" ? o.handleUsed === \"left\" ? g = o.initialWidth + (o.initialClientX - b.clientX) * 2 : g = o.initialWidth + (b.clientX - o.initialClientX) * 2 : o.handleUsed === \"left\" ? g = o.initialWidth + o.initialClientX - b.clientX : g = o.initialWidth + b.clientX - o.initialClientX;\n      const k = 64;\n      g < k ? e.setWidth(k) : g > e.editor.domElement.firstElementChild.clientWidth ? e.setWidth(e.editor.domElement.firstElementChild.clientWidth) : e.setWidth(g);\n    }, m = () => {\n      l(void 0), e.editor.updateBlock(e.block, {\n        props: {\n          previewWidth: e.width\n        }\n      });\n    };\n    return o && (window.addEventListener(\"mousemove\", f), window.addEventListener(\"mouseup\", m)), () => {\n      window.removeEventListener(\"mousemove\", f), window.removeEventListener(\"mouseup\", m);\n    };\n  }, [e, o]);\n  const a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    e.editor.isEditable && n(!0);\n  }, [e.editor.isEditable]), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n(!1);\n  }, []), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (f) => {\n      f.preventDefault(), l({\n        handleUsed: \"left\",\n        initialWidth: e.width,\n        initialClientX: f.clientX\n      });\n    },\n    [e.width]\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (f) => {\n      f.preventDefault(), l({\n        handleUsed: \"right\",\n        initialWidth: e.width,\n        initialClientX: f.clientX\n      });\n    },\n    [e.width]\n  );\n  return /* @__PURE__ */ r.jsxs(\n    \"div\",\n    {\n      className: \"bn-visual-media-wrapper\",\n      onMouseEnter: a,\n      onMouseLeave: c,\n      children: [\n        e.children,\n        (t || o) && /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n          /* @__PURE__ */ r.jsx(\n            \"div\",\n            {\n              className: \"bn-visual-media-resize-handle\",\n              style: { left: \"4px\" },\n              onMouseDown: s\n            }\n          ),\n          /* @__PURE__ */ r.jsx(\n            \"div\",\n            {\n              className: \"bn-visual-media-resize-handle\",\n              style: { right: \"4px\" },\n              onMouseDown: u\n            }\n          )\n        ] })\n      ]\n    }\n  );\n}, qr = (e) => /* @__PURE__ */ r.jsx(\n  \"audio\",\n  {\n    className: \"bn-audio\",\n    src: e.block.props.url,\n    controls: !0,\n    contentEditable: !1,\n    draggable: !1\n  }\n), Yr = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add audio\" });\n  const t = e.block.props.showPreview ? /* @__PURE__ */ r.jsx(\"audio\", { src: e.block.props.url }) : /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? e.block.props.showPreview ? /* @__PURE__ */ r.jsx($e, { caption: e.block.props.caption, children: t }) : /* @__PURE__ */ r.jsx(we, { caption: e.block.props.caption, children: t }) : t;\n}, di = ke(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.audioBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    je,\n    {\n      ...e,\n      editor: e.editor,\n      buttonText: e.editor.dictionary.file_blocks.audio.add_button_text,\n      buttonIcon: /* @__PURE__ */ r.jsx(tn, { size: 24 })\n    }\n  ) : e.block.props.showPreview ? /* @__PURE__ */ r.jsx($, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(qr, { block: e.block, editor: e.editor }) }) : /* @__PURE__ */ r.jsx($, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    ye,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.audioParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(Yr, { ...e })\n}), Kr = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add file\" });\n  const t = /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? /* @__PURE__ */ r.jsx(we, { caption: e.block.props.caption, children: t }) : t;\n}, fi = ke(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.fileBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    je,\n    {\n      block: e.block,\n      editor: e.editor,\n      buttonIcon: /* @__PURE__ */ r.jsx(Ce, { size: 24 }),\n      buttonText: e.editor.dictionary.file_blocks.file.add_button_text\n    }\n  ) : /* @__PURE__ */ r.jsx($, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    ye,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.fileParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(Kr, { ...e })\n}), Xr = (e) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    Math.min(\n      e.block.props.previewWidth,\n      e.editor.domElement.firstElementChild.clientWidth\n    )\n  );\n  return /* @__PURE__ */ r.jsx(an, { ...e, width: t, setWidth: n, children: /* @__PURE__ */ r.jsx(\n    \"img\",\n    {\n      className: \"bn-visual-media\",\n      src: e.block.props.url,\n      alt: e.block.props.caption || \"BlockNote image\",\n      contentEditable: !1,\n      draggable: !1,\n      width: t\n    }\n  ) });\n}, Jr = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add image\" });\n  const t = e.block.props.showPreview ? /* @__PURE__ */ r.jsx(\n    \"img\",\n    {\n      src: e.block.props.url,\n      alt: e.block.props.name || e.block.props.caption || \"BlockNote image\",\n      width: e.block.props.previewWidth\n    }\n  ) : /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? e.block.props.showPreview ? /* @__PURE__ */ r.jsx($e, { caption: e.block.props.caption, children: t }) : /* @__PURE__ */ r.jsx(we, { caption: e.block.props.caption, children: t }) : t;\n}, mi = ke(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.imageBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    je,\n    {\n      ...e,\n      editor: e.editor,\n      buttonText: e.editor.dictionary.file_blocks.image.add_button_text,\n      buttonIcon: /* @__PURE__ */ r.jsx(en, { size: 24 })\n    }\n  ) : e.block.props.showPreview ? /* @__PURE__ */ r.jsx($, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(Xr, { block: e.block, editor: e.editor }) }) : /* @__PURE__ */ r.jsx($, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    ye,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.imageParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(Jr, { ...e })\n}), Qr = (e) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    Math.min(\n      e.block.props.previewWidth,\n      e.editor.domElement.firstElementChild.clientWidth\n    )\n  );\n  return /* @__PURE__ */ r.jsx(an, { ...e, width: t, setWidth: n, children: /* @__PURE__ */ r.jsx(\n    \"video\",\n    {\n      className: \"bn-visual-media\",\n      src: e.block.props.url,\n      controls: !0,\n      contentEditable: !1,\n      draggable: !1,\n      width: t\n    }\n  ) });\n}, ei = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add video\" });\n  const t = e.block.props.showPreview ? /* @__PURE__ */ r.jsx(\"video\", { src: e.block.props.url }) : /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? e.block.props.showPreview ? /* @__PURE__ */ r.jsx($e, { caption: e.block.props.caption, children: t }) : /* @__PURE__ */ r.jsx(we, { caption: e.block.props.caption, children: t }) : t;\n}, hi = ke(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.videoBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    je,\n    {\n      ...e,\n      editor: e.editor,\n      buttonText: e.editor.dictionary.file_blocks.video.add_button_text,\n      buttonIcon: /* @__PURE__ */ r.jsx(Io, { size: 24 })\n    }\n  ) : e.block.props.showPreview ? /* @__PURE__ */ r.jsx($, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(Qr, { block: e.block, editor: e.editor }) }) : /* @__PURE__ */ r.jsx($, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    ye,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.videoParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(ei, { ...e })\n});\nfunction bi(e) {\n  const t = U();\n  if (e || (e = t == null ? void 0 : t.editor), !e)\n    throw new Error(\n      \"'editor' is required, either from BlockNoteContext or as a function argument\"\n    );\n  const n = e, [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => n.getActiveStyles());\n  return Ue(() => {\n    l(n.getActiveStyles());\n  }, n), We(() => {\n    l(n.getActiveStyles());\n  }, n), o;\n}\nconst ti = (e = {}, t = []) => (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n  const n = _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.BlockNoteEditor.create(e);\n  return window && (window.ProseMirror = n._tiptapEditor), n;\n}, t), gi = ti;\nfunction ni() {\n  const [, e] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  return () => e((t) => t + 1);\n}\nconst pi = (e) => {\n  const t = ni();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const n = () => {\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          t();\n        });\n      });\n    };\n    return e.on(\"transaction\", n), () => {\n      e.off(\"transaction\", n);\n    };\n  }, [e]);\n};\nfunction oi(e) {\n  return (\n    // Creates inline content section element\n    /* @__PURE__ */ r.jsx(\n      _tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewWrapper,\n      {\n        as: \"span\",\n        className: \"bn-inline-content-section\",\n        \"data-inline-content-type\": e.inlineContentType,\n        ...Object.fromEntries(\n          Object.entries(e.inlineContentProps).filter(([t, n]) => n !== e.propSchema[t].default).map(([t, n]) => [(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.camelToDataKebab)(t), n])\n        ),\n        children: e.children\n      }\n    )\n  );\n}\nfunction xi(e, t) {\n  const n = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createStronglyTypedTiptapNode)({\n    name: e.type,\n    inline: !0,\n    group: \"inline\",\n    selectable: e.content === \"styled\",\n    atom: e.content === \"none\",\n    content: e.content === \"styled\" ? \"inline*\" : \"\",\n    addAttributes() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.propsToAttributes)(e.propSchema);\n    },\n    addKeyboardShortcuts() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.addInlineContentKeyboardShortcuts)(e);\n    },\n    parseHTML() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getInlineContentParseRules)(e);\n    },\n    renderHTML({ node: o }) {\n      const l = this.options.editor, a = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.nodeToCustomInlineContent)(\n        o,\n        l.schema.inlineContentSchema,\n        l.schema.styleSchema\n      ), c = t.render, s = pe(\n        (u) => /* @__PURE__ */ r.jsx(c, { inlineContent: a, contentRef: u }),\n        l\n      );\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.addInlineContentAttributes)(\n        s,\n        e.type,\n        o.attrs,\n        e.propSchema\n      );\n    },\n    // TODO: needed?\n    addNodeView() {\n      const o = this.options.editor;\n      return (l) => (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.ReactNodeViewRenderer)(\n        (a) => {\n          const c = (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewContent)({}).ref, s = t.render;\n          return /* @__PURE__ */ r.jsx(\n            oi,\n            {\n              inlineContentProps: a.node.attrs,\n              inlineContentType: e.type,\n              propSchema: e.propSchema,\n              children: /* @__PURE__ */ r.jsx(\n                s,\n                {\n                  contentRef: c,\n                  inlineContent: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.nodeToCustomInlineContent)(\n                    a.node,\n                    o.schema.inlineContentSchema,\n                    o.schema.styleSchema\n                  )\n                }\n              )\n            }\n          );\n        },\n        {\n          className: \"bn-ic-react-node-view-renderer\",\n          as: \"span\"\n          // contentDOMElementTag: \"span\", (requires tt upgrade)\n        }\n      )(l);\n    }\n  });\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createInternalInlineContentSpec)(e, {\n    node: n\n  });\n}\nfunction vi(e, t) {\n  const n = _tiptap_react__WEBPACK_IMPORTED_MODULE_7__.Mark.create({\n    name: e.type,\n    addAttributes() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.stylePropsToAttributes)(e.propSchema);\n    },\n    parseHTML() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getStyleParseRules)(e);\n    },\n    renderHTML({ mark: o }) {\n      const l = {};\n      e.propSchema === \"string\" && (l.value = o.attrs.stringValue);\n      const a = t.render, c = pe(\n        (s) => /* @__PURE__ */ r.jsx(a, { ...l, contentRef: s }),\n        void 0\n      );\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.addStyleAttributes)(\n        c,\n        e.type,\n        o.attrs.stringValue,\n        e.propSchema\n      );\n    }\n  });\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createInternalStyleSpec)(e, {\n    mark: n\n  });\n}\n\n//# sourceMappingURL=blocknote-react.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9yZWFjdC9kaXN0L2Jsb2Nrbm90ZS1yZWFjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4STtBQUNtQjtBQUN3MUI7QUFDLzhCO0FBQzBCO0FBQ2tEO0FBQ3RILFdBQVcsb0RBQUU7QUFDYjtBQUNBLFNBQVMsaURBQUU7QUFDWDtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQ0FBQyw0TEFBNEw7QUFDdk07QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixLQUFxQztBQUM3RCxZQUFZLGtDQUFDO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLE9BQU87QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzQkFBc0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9FQUFFO0FBQ3RCO0FBQ0Esb0JBQW9CLDhEQUFFLEdBQUc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsMEVBQUU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxTQUFTLGdGQUFFO0FBQ1g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFlBQVksK0NBQUU7QUFDZDtBQUNBO0FBQ0EsYUFBYSx1RUFBRTtBQUNmLEtBQUs7QUFDTDtBQUNBLGFBQWEsbUVBQUU7QUFDZixLQUFLO0FBQ0wsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFCQUFxQjtBQUMvRDtBQUNBO0FBQ0EsYUFBYSxtRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxTQUFTLHdFQUFFO0FBQ1g7QUFDQSxHQUFHO0FBQ0g7QUFzRkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2RkLy4vbm9kZV9tb2R1bGVzL0BibG9ja25vdGUvcmVhY3QvZGlzdC9ibG9ja25vdGUtcmVhY3QuanM/NjBjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSSwgeyBjcmVhdGVDb250ZXh0IGFzIFJ0LCB1c2VDb250ZXh0IGFzIEx0LCB1c2VFZmZlY3QgYXMgTCwgdXNlTWVtbyBhcyBULCB1c2VTdGF0ZSBhcyBDLCB1c2VDYWxsYmFjayBhcyBTLCB1c2VSZWYgYXMgaGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUZsb2F0aW5nIGFzIFB0LCB1c2VUcmFuc2l0aW9uU3R5bGVzIGFzIEZ0LCB1c2VEaXNtaXNzIGFzIEZuLCB1c2VJbnRlcmFjdGlvbnMgYXMgTm4sIG9mZnNldCBhcyBuZSwgZmxpcCBhcyB4ZSwgc2l6ZSBhcyBPbiB9IGZyb20gXCJAZmxvYXRpbmctdWkvcmVhY3RcIjtcbmltcG9ydCB7IGZvcm1hdEtleWJvYXJkU2hvcnRjdXQgYXMgdmUsIGNoZWNrQmxvY2tJc0ZpbGVCbG9jayBhcyBvZSwgY2hlY2tCbG9ja0lzRmlsZUJsb2NrV2l0aFBsYWNlaG9sZGVyIGFzIHJlLCBmaWxlbmFtZUZyb21VUkwgYXMgeHQsIGNoZWNrQmxvY2tIYXNEZWZhdWx0UHJvcCBhcyBEZSwgY2hlY2tCbG9ja1R5cGVIYXNEZWZhdWx0UHJvcCBhcyB0ZSwgY2hlY2tCbG9ja0lzRmlsZUJsb2NrV2l0aFByZXZpZXcgYXMgRG4sIGdldERlZmF1bHRTbGFzaE1lbnVJdGVtcyBhcyBJbiwgZmlsdGVyU3VnZ2VzdGlvbkl0ZW1zIGFzIEFuLCBtZXJnZUNTU0NsYXNzZXMgYXMgemUsIGluaGVyaXRlZFByb3BzIGFzIFpuLCBjYW1lbFRvRGF0YUtlYmFiIGFzIE50LCBjcmVhdGVTdHJvbmdseVR5cGVkVGlwdGFwTm9kZSBhcyBPdCwgcHJvcHNUb0F0dHJpYnV0ZXMgYXMgRHQsIGdldFBhcnNlUnVsZXMgYXMgem4sIGdldEJsb2NrRnJvbVBvcyBhcyBVbiwgY3JlYXRlSW50ZXJuYWxCbG9ja1NwZWMgYXMgV24sIGF1ZGlvUGFyc2UgYXMgR24sIGF1ZGlvQmxvY2tDb25maWcgYXMgJG4sIGZpbGVQYXJzZSBhcyBxbiwgZmlsZUJsb2NrQ29uZmlnIGFzIFluLCBpbWFnZVBhcnNlIGFzIEtuLCBpbWFnZUJsb2NrQ29uZmlnIGFzIFhuLCB2aWRlb1BhcnNlIGFzIEpuLCB2aWRlb0Jsb2NrQ29uZmlnIGFzIFFuLCBCbG9ja05vdGVFZGl0b3IgYXMgZW8sIGFkZElubGluZUNvbnRlbnRLZXlib2FyZFNob3J0Y3V0cyBhcyB0bywgZ2V0SW5saW5lQ29udGVudFBhcnNlUnVsZXMgYXMgbm8sIG5vZGVUb0N1c3RvbUlubGluZUNvbnRlbnQgYXMgdnQsIGFkZElubGluZUNvbnRlbnRBdHRyaWJ1dGVzIGFzIG9vLCBjcmVhdGVJbnRlcm5hbElubGluZUNvbnRlbnRTcGVjIGFzIHJvLCBzdHlsZVByb3BzVG9BdHRyaWJ1dGVzIGFzIGlvLCBnZXRTdHlsZVBhcnNlUnVsZXMgYXMgbG8sIGFkZFN0eWxlQXR0cmlidXRlcyBhcyBhbywgY3JlYXRlSW50ZXJuYWxTdHlsZVNwZWMgYXMgY28gfSBmcm9tIFwiQGJsb2Nrbm90ZS9jb3JlXCI7XG5pbXBvcnQgc28gZnJvbSBcInVzZS1wcmVmZXJzLWNvbG9yLXNjaGVtZVwiO1xuaW1wb3J0IHVvLCB7IGZsdXNoU3luYyBhcyBJdCwgY3JlYXRlUG9ydGFsIGFzIEF0IH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgTm9kZVZpZXdXcmFwcGVyIGFzIFp0LCBSZWFjdE5vZGVWaWV3UmVuZGVyZXIgYXMgenQsIE5vZGVWaWV3Q29udGVudCBhcyBVdCwgTWFyayBhcyBmbyB9IGZyb20gXCJAdGlwdGFwL3JlYWN0XCI7XG5jb25zdCBXdCA9IFJ0KHZvaWQgMCk7XG5mdW5jdGlvbiBVKGUpIHtcbiAgcmV0dXJuIEx0KFd0KTtcbn1cbnZhciBJZSA9IHsgZXhwb3J0czoge30gfSwgUSA9IHt9O1xuLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xudmFyIEN0O1xuZnVuY3Rpb24gbW8oKSB7XG4gIGlmIChDdClcbiAgICByZXR1cm4gUTtcbiAgQ3QgPSAxO1xuICB2YXIgZSA9IEksIHQgPSBTeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSwgbiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSwgbyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIGwgPSBlLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudE93bmVyLCBhID0geyBrZXk6ICEwLCByZWY6ICEwLCBfX3NlbGY6ICEwLCBfX3NvdXJjZTogITAgfTtcbiAgZnVuY3Rpb24gYyhzLCB1LCBmKSB7XG4gICAgdmFyIG0sIGIgPSB7fSwgZyA9IG51bGwsIGsgPSBudWxsO1xuICAgIGYgIT09IHZvaWQgMCAmJiAoZyA9IFwiXCIgKyBmKSwgdS5rZXkgIT09IHZvaWQgMCAmJiAoZyA9IFwiXCIgKyB1LmtleSksIHUucmVmICE9PSB2b2lkIDAgJiYgKGsgPSB1LnJlZik7XG4gICAgZm9yIChtIGluIHUpXG4gICAgICBvLmNhbGwodSwgbSkgJiYgIWEuaGFzT3duUHJvcGVydHkobSkgJiYgKGJbbV0gPSB1W21dKTtcbiAgICBpZiAocyAmJiBzLmRlZmF1bHRQcm9wcylcbiAgICAgIGZvciAobSBpbiB1ID0gcy5kZWZhdWx0UHJvcHMsIHUpXG4gICAgICAgIGJbbV0gPT09IHZvaWQgMCAmJiAoYlttXSA9IHVbbV0pO1xuICAgIHJldHVybiB7ICQkdHlwZW9mOiB0LCB0eXBlOiBzLCBrZXk6IGcsIHJlZjogaywgcHJvcHM6IGIsIF9vd25lcjogbC5jdXJyZW50IH07XG4gIH1cbiAgcmV0dXJuIFEuRnJhZ21lbnQgPSBuLCBRLmpzeCA9IGMsIFEuanN4cyA9IGMsIFE7XG59XG52YXIgZWUgPSB7fTtcbi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbnZhciBrdDtcbmZ1bmN0aW9uIGhvKCkge1xuICByZXR1cm4ga3QgfHwgKGt0ID0gMSwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGZ1bmN0aW9uKCkge1xuICAgIHZhciBlID0gSSwgdCA9IFN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLCBuID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSwgbyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSwgbCA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSwgYSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSwgYyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSwgcyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLCB1ID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLCBmID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLCBtID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksIGIgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSwgZyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLCBrID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSwgViA9IFN5bWJvbC5pdGVyYXRvciwgRiA9IFwiQEBpdGVyYXRvclwiO1xuICAgIGZ1bmN0aW9uIE4oaSkge1xuICAgICAgaWYgKGkgPT09IG51bGwgfHwgdHlwZW9mIGkgIT0gXCJvYmplY3RcIilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgZCA9IFYgJiYgaVtWXSB8fCBpW0ZdO1xuICAgICAgcmV0dXJuIHR5cGVvZiBkID09IFwiZnVuY3Rpb25cIiA/IGQgOiBudWxsO1xuICAgIH1cbiAgICB2YXIgeiA9IGUuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gICAgZnVuY3Rpb24gRShpKSB7XG4gICAgICB7XG4gICAgICAgIGZvciAodmFyIGQgPSBhcmd1bWVudHMubGVuZ3RoLCBoID0gbmV3IEFycmF5KGQgPiAxID8gZCAtIDEgOiAwKSwgcCA9IDE7IHAgPCBkOyBwKyspXG4gICAgICAgICAgaFtwIC0gMV0gPSBhcmd1bWVudHNbcF07XG4gICAgICAgIEhlKFwiZXJyb3JcIiwgaSwgaCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIEhlKGksIGQsIGgpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIHAgPSB6LlJlYWN0RGVidWdDdXJyZW50RnJhbWUsIHcgPSBwLmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgICAgICAgdyAhPT0gXCJcIiAmJiAoZCArPSBcIiVzXCIsIGggPSBoLmNvbmNhdChbd10pKTtcbiAgICAgICAgdmFyIE0gPSBoLm1hcChmdW5jdGlvbih5KSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIE0udW5zaGlmdChcIldhcm5pbmc6IFwiICsgZCksIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbaV0sIGNvbnNvbGUsIE0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgX2UgPSAhMSwgbGUgPSAhMSwgU2UgPSAhMSwgTWUgPSAhMSwgY24gPSAhMSwgcWU7XG4gICAgcWUgPSBTeW1ib2wuZm9yKFwicmVhY3QubW9kdWxlLnJlZmVyZW5jZVwiKTtcbiAgICBmdW5jdGlvbiBzbihpKSB7XG4gICAgICByZXR1cm4gISEodHlwZW9mIGkgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCIgfHwgaSA9PT0gbyB8fCBpID09PSBhIHx8IGNuIHx8IGkgPT09IGwgfHwgaSA9PT0gZiB8fCBpID09PSBtIHx8IE1lIHx8IGkgPT09IGsgfHwgX2UgfHwgbGUgfHwgU2UgfHwgdHlwZW9mIGkgPT0gXCJvYmplY3RcIiAmJiBpICE9PSBudWxsICYmIChpLiQkdHlwZW9mID09PSBnIHx8IGkuJCR0eXBlb2YgPT09IGIgfHwgaS4kJHR5cGVvZiA9PT0gYyB8fCBpLiQkdHlwZW9mID09PSBzIHx8IGkuJCR0eXBlb2YgPT09IHUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuICAgICAgLy8gd2UgZG9uJ3Qga25vdyB3aGljaCBGbGlnaHQgYnVpbGQgdGhpcyB3aWxsIGVuZCB1cCBiZWluZyB1c2VkXG4gICAgICAvLyB3aXRoLlxuICAgICAgaS4kJHR5cGVvZiA9PT0gcWUgfHwgaS5nZXRNb2R1bGVJZCAhPT0gdm9pZCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuKGksIGQsIGgpIHtcbiAgICAgIHZhciBwID0gaS5kaXNwbGF5TmFtZTtcbiAgICAgIGlmIChwKVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIHZhciB3ID0gZC5kaXNwbGF5TmFtZSB8fCBkLm5hbWUgfHwgXCJcIjtcbiAgICAgIHJldHVybiB3ICE9PSBcIlwiID8gaCArIFwiKFwiICsgdyArIFwiKVwiIDogaDtcbiAgICB9XG4gICAgZnVuY3Rpb24gWWUoaSkge1xuICAgICAgcmV0dXJuIGkuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEEoaSkge1xuICAgICAgaWYgKGkgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBpZiAodHlwZW9mIGkudGFnID09IFwibnVtYmVyXCIgJiYgRShcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpLCB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBpLmRpc3BsYXlOYW1lIHx8IGkubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBpID09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBpO1xuICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgIGNhc2UgbzpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIG46XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgYTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIGw6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIGY6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBtOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpID09IFwib2JqZWN0XCIpXG4gICAgICAgIHN3aXRjaCAoaS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgczpcbiAgICAgICAgICAgIHZhciBkID0gaTtcbiAgICAgICAgICAgIHJldHVybiBZZShkKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBjOlxuICAgICAgICAgICAgdmFyIGggPSBpO1xuICAgICAgICAgICAgcmV0dXJuIFllKGguX2NvbnRleHQpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIHU6XG4gICAgICAgICAgICByZXR1cm4gdW4oaSwgaS5yZW5kZXIsIFwiRm9yd2FyZFJlZlwiKTtcbiAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICB2YXIgcCA9IGkuZGlzcGxheU5hbWUgfHwgbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBwICE9PSBudWxsID8gcCA6IEEoaS50eXBlKSB8fCBcIk1lbW9cIjtcbiAgICAgICAgICBjYXNlIGc6IHtcbiAgICAgICAgICAgIHZhciB3ID0gaSwgTSA9IHcuX3BheWxvYWQsIHkgPSB3Ll9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEEoeShNKSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIEcgPSBPYmplY3QuYXNzaWduLCBYID0gMCwgS2UsIFhlLCBKZSwgUWUsIGV0LCB0dCwgbnQ7XG4gICAgZnVuY3Rpb24gb3QoKSB7XG4gICAgfVxuICAgIG90Ll9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIGZ1bmN0aW9uIGRuKCkge1xuICAgICAge1xuICAgICAgICBpZiAoWCA9PT0gMCkge1xuICAgICAgICAgIEtlID0gY29uc29sZS5sb2csIFhlID0gY29uc29sZS5pbmZvLCBKZSA9IGNvbnNvbGUud2FybiwgUWUgPSBjb25zb2xlLmVycm9yLCBldCA9IGNvbnNvbGUuZ3JvdXAsIHR0ID0gY29uc29sZS5ncm91cENvbGxhcHNlZCwgbnQgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICAgIHZhciBpID0ge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgdmFsdWU6IG90LFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgICBpbmZvOiBpLFxuICAgICAgICAgICAgbG9nOiBpLFxuICAgICAgICAgICAgd2FybjogaSxcbiAgICAgICAgICAgIGVycm9yOiBpLFxuICAgICAgICAgICAgZ3JvdXA6IGksXG4gICAgICAgICAgICBncm91cENvbGxhcHNlZDogaSxcbiAgICAgICAgICAgIGdyb3VwRW5kOiBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgWCsrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmbigpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKFgtLSwgWCA9PT0gMCkge1xuICAgICAgICAgIHZhciBpID0ge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgICBsb2c6IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IEtlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGluZm86IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IFhlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHdhcm46IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IEplXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGVycm9yOiBHKHt9LCBpLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBRZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBncm91cDogRyh7fSwgaSwge1xuICAgICAgICAgICAgICB2YWx1ZTogZXRcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHR0XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdyb3VwRW5kOiBHKHt9LCBpLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBudFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBYIDwgMCAmJiBFKFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFRlID0gei5SZWFjdEN1cnJlbnREaXNwYXRjaGVyLCBWZTtcbiAgICBmdW5jdGlvbiBhZShpLCBkLCBoKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChWZSA9PT0gdm9pZCAwKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgIH0gY2F0Y2ggKHcpIHtcbiAgICAgICAgICAgIHZhciBwID0gdy5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICAgIFZlID0gcCAmJiBwWzFdIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFxuYCArIFZlICsgaTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIEVlID0gITEsIGNlO1xuICAgIHtcbiAgICAgIHZhciBtbiA9IHR5cGVvZiBXZWFrTWFwID09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBNYXA7XG4gICAgICBjZSA9IG5ldyBtbigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydChpLCBkKSB7XG4gICAgICBpZiAoIWkgfHwgRWUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAge1xuICAgICAgICB2YXIgaCA9IGNlLmdldChpKTtcbiAgICAgICAgaWYgKGggIT09IHZvaWQgMClcbiAgICAgICAgICByZXR1cm4gaDtcbiAgICAgIH1cbiAgICAgIHZhciBwO1xuICAgICAgRWUgPSAhMDtcbiAgICAgIHZhciB3ID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHZvaWQgMDtcbiAgICAgIHZhciBNO1xuICAgICAgTSA9IFRlLmN1cnJlbnQsIFRlLmN1cnJlbnQgPSBudWxsLCBkbigpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICB2YXIgeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkoeS5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSwgdHlwZW9mIFJlZmxlY3QgPT0gXCJvYmplY3RcIiAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoeSwgW10pO1xuICAgICAgICAgICAgfSBjYXRjaCAoWikge1xuICAgICAgICAgICAgICBwID0gWjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGksIFtdLCB5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgeS5jYWxsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChaKSB7XG4gICAgICAgICAgICAgIHAgPSBaO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaS5jYWxsKHkucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoWikge1xuICAgICAgICAgICAgcCA9IFo7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoWikge1xuICAgICAgICBpZiAoWiAmJiBwICYmIHR5cGVvZiBaLnN0YWNrID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBmb3IgKHZhciB4ID0gWi5zdGFjay5zcGxpdChgXG5gKSwgUCA9IHAuc3RhY2suc3BsaXQoYFxuYCksIEIgPSB4Lmxlbmd0aCAtIDEsIFIgPSBQLmxlbmd0aCAtIDE7IEIgPj0gMSAmJiBSID49IDAgJiYgeFtCXSAhPT0gUFtSXTsgKVxuICAgICAgICAgICAgUi0tO1xuICAgICAgICAgIGZvciAoOyBCID49IDEgJiYgUiA+PSAwOyBCLS0sIFItLSlcbiAgICAgICAgICAgIGlmICh4W0JdICE9PSBQW1JdKSB7XG4gICAgICAgICAgICAgIGlmIChCICE9PSAxIHx8IFIgIT09IDEpXG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChCLS0sIFItLSwgUiA8IDAgfHwgeFtCXSAhPT0gUFtSXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgRCA9IGBcbmAgKyB4W0JdLnJlcGxhY2UoXCIgYXQgbmV3IFwiLCBcIiBhdCBcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmRpc3BsYXlOYW1lICYmIEQuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJiAoRCA9IEQucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGkuZGlzcGxheU5hbWUpKSwgdHlwZW9mIGkgPT0gXCJmdW5jdGlvblwiICYmIGNlLnNldChpLCBEKSwgRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoQiA+PSAxICYmIFIgPj0gMCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBFZSA9ICExLCBUZS5jdXJyZW50ID0gTSwgZm4oKSwgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB3O1xuICAgICAgfVxuICAgICAgdmFyIFkgPSBpID8gaS5kaXNwbGF5TmFtZSB8fCBpLm5hbWUgOiBcIlwiLCBwdCA9IFkgPyBhZShZKSA6IFwiXCI7XG4gICAgICByZXR1cm4gdHlwZW9mIGkgPT0gXCJmdW5jdGlvblwiICYmIGNlLnNldChpLCBwdCksIHB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBobihpLCBkLCBoKSB7XG4gICAgICByZXR1cm4gcnQoaSwgITEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBibihpKSB7XG4gICAgICB2YXIgZCA9IGkucHJvdG90eXBlO1xuICAgICAgcmV0dXJuICEhKGQgJiYgZC5pc1JlYWN0Q29tcG9uZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2UoaSwgZCwgaCkge1xuICAgICAgaWYgKGkgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAodHlwZW9mIGkgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gcnQoaSwgYm4oaSkpO1xuICAgICAgaWYgKHR5cGVvZiBpID09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBhZShpKTtcbiAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICBjYXNlIGY6XG4gICAgICAgICAgcmV0dXJuIGFlKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgbTpcbiAgICAgICAgICByZXR1cm4gYWUoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGkgPT0gXCJvYmplY3RcIilcbiAgICAgICAgc3dpdGNoIChpLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSB1OlxuICAgICAgICAgICAgcmV0dXJuIGhuKGkucmVuZGVyKTtcbiAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICByZXR1cm4gc2UoaS50eXBlLCBkLCBoKTtcbiAgICAgICAgICBjYXNlIGc6IHtcbiAgICAgICAgICAgIHZhciBwID0gaSwgdyA9IHAuX3BheWxvYWQsIE0gPSBwLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNlKE0odyksIGQsIGgpO1xuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgdmFyIHVlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgaXQgPSB7fSwgbHQgPSB6LlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgZnVuY3Rpb24gZGUoaSkge1xuICAgICAgaWYgKGkpIHtcbiAgICAgICAgdmFyIGQgPSBpLl9vd25lciwgaCA9IHNlKGkudHlwZSwgaS5fc291cmNlLCBkID8gZC50eXBlIDogbnVsbCk7XG4gICAgICAgIGx0LnNldEV4dHJhU3RhY2tGcmFtZShoKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBsdC5zZXRFeHRyYVN0YWNrRnJhbWUobnVsbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGduKGksIGQsIGgsIHAsIHcpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIE0gPSBGdW5jdGlvbi5jYWxsLmJpbmQodWUpO1xuICAgICAgICBmb3IgKHZhciB5IGluIGkpXG4gICAgICAgICAgaWYgKE0oaSwgeSkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpW3ldICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBQID0gRXJyb3IoKHAgfHwgXCJSZWFjdCBjbGFzc1wiKSArIFwiOiBcIiArIGggKyBcIiB0eXBlIGBcIiArIHkgKyBcImAgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYFwiICsgdHlwZW9mIGlbeV0gKyBcImAuVGhpcyBvZnRlbiBoYXBwZW5zIGJlY2F1c2Ugb2YgdHlwb3Mgc3VjaCBhcyBgUHJvcFR5cGVzLmZ1bmN0aW9uYCBpbnN0ZWFkIG9mIGBQcm9wVHlwZXMuZnVuY2AuXCIpO1xuICAgICAgICAgICAgICAgIHRocm93IFAubmFtZSA9IFwiSW52YXJpYW50IFZpb2xhdGlvblwiLCBQO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHggPSBpW3ldKGQsIHksIHAsIGgsIG51bGwsIFwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIik7XG4gICAgICAgICAgICB9IGNhdGNoIChCKSB7XG4gICAgICAgICAgICAgIHggPSBCO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeCAmJiAhKHggaW5zdGFuY2VvZiBFcnJvcikgJiYgKGRlKHcpLCBFKFwiJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuIFlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyIGNyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLlwiLCBwIHx8IFwiUmVhY3QgY2xhc3NcIiwgaCwgeSwgdHlwZW9mIHgpLCBkZShudWxsKSksIHggaW5zdGFuY2VvZiBFcnJvciAmJiAhKHgubWVzc2FnZSBpbiBpdCkgJiYgKGl0W3gubWVzc2FnZV0gPSAhMCwgZGUodyksIEUoXCJGYWlsZWQgJXMgdHlwZTogJXNcIiwgaCwgeC5tZXNzYWdlKSwgZGUobnVsbCkpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHBuID0gQXJyYXkuaXNBcnJheTtcbiAgICBmdW5jdGlvbiBCZShpKSB7XG4gICAgICByZXR1cm4gcG4oaSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHhuKGkpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGQgPSB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcsIGggPSBkICYmIGlbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCBpLmNvbnN0cnVjdG9yLm5hbWUgfHwgXCJPYmplY3RcIjtcbiAgICAgICAgcmV0dXJuIGg7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZuKGkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhdChpKSwgITE7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdChpKSB7XG4gICAgICByZXR1cm4gXCJcIiArIGk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGN0KGkpIHtcbiAgICAgIGlmICh2bihpKSlcbiAgICAgICAgcmV0dXJuIEUoXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIiwgeG4oaSkpLCBhdChpKTtcbiAgICB9XG4gICAgdmFyIEogPSB6LlJlYWN0Q3VycmVudE93bmVyLCBDbiA9IHtcbiAgICAgIGtleTogITAsXG4gICAgICByZWY6ICEwLFxuICAgICAgX19zZWxmOiAhMCxcbiAgICAgIF9fc291cmNlOiAhMFxuICAgIH0sIHN0LCB1dCwgUmU7XG4gICAgUmUgPSB7fTtcbiAgICBmdW5jdGlvbiBrbihpKSB7XG4gICAgICBpZiAodWUuY2FsbChpLCBcInJlZlwiKSkge1xuICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSwgXCJyZWZcIikuZ2V0O1xuICAgICAgICBpZiAoZCAmJiBkLmlzUmVhY3RXYXJuaW5nKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLnJlZiAhPT0gdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB5bihpKSB7XG4gICAgICBpZiAodWUuY2FsbChpLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSwgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZCAmJiBkLmlzUmVhY3RXYXJuaW5nKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLmtleSAhPT0gdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqbihpLCBkKSB7XG4gICAgICBpZiAodHlwZW9mIGkucmVmID09IFwic3RyaW5nXCIgJiYgSi5jdXJyZW50ICYmIGQgJiYgSi5jdXJyZW50LnN0YXRlTm9kZSAhPT0gZCkge1xuICAgICAgICB2YXIgaCA9IEEoSi5jdXJyZW50LnR5cGUpO1xuICAgICAgICBSZVtoXSB8fCAoRSgnQ29tcG9uZW50IFwiJXNcIiBjb250YWlucyB0aGUgc3RyaW5nIHJlZiBcIiVzXCIuIFN1cHBvcnQgZm9yIHN0cmluZyByZWZzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiBXZSBhc2sgeW91IHRvIG1hbnVhbGx5IGZpeCB0aGlzIGNhc2UgYnkgdXNpbmcgdXNlUmVmKCkgb3IgY3JlYXRlUmVmKCkgaW5zdGVhZC4gTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiBodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIEEoSi5jdXJyZW50LnR5cGUpLCBpLnJlZiksIFJlW2hdID0gITApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB3bihpLCBkKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc3QgfHwgKHN0ID0gITAsIEUoXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zcGVjaWFsLXByb3BzKVwiLCBkKSk7XG4gICAgICAgIH07XG4gICAgICAgIGguaXNSZWFjdFdhcm5pbmcgPSAhMCwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIFwia2V5XCIsIHtcbiAgICAgICAgICBnZXQ6IGgsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gSG4oaSwgZCkge1xuICAgICAge1xuICAgICAgICB2YXIgaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHV0IHx8ICh1dCA9ICEwLCBFKFwiJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcylcIiwgZCkpO1xuICAgICAgICB9O1xuICAgICAgICBoLmlzUmVhY3RXYXJuaW5nID0gITAsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCBcInJlZlwiLCB7XG4gICAgICAgICAgZ2V0OiBoLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBfbiA9IGZ1bmN0aW9uKGksIGQsIGgsIHAsIHcsIE0sIHkpIHtcbiAgICAgIHZhciB4ID0ge1xuICAgICAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAgICAgJCR0eXBlb2Y6IHQsXG4gICAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgICAgdHlwZTogaSxcbiAgICAgICAga2V5OiBkLFxuICAgICAgICByZWY6IGgsXG4gICAgICAgIHByb3BzOiB5LFxuICAgICAgICAvLyBSZWNvcmQgdGhlIGNvbXBvbmVudCByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICBfb3duZXI6IE1cbiAgICAgIH07XG4gICAgICByZXR1cm4geC5fc3RvcmUgPSB7fSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHguX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAhMVxuICAgICAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh4LCBcIl9zZWxmXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMSxcbiAgICAgICAgdmFsdWU6IHBcbiAgICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoeCwgXCJfc291cmNlXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMSxcbiAgICAgICAgdmFsdWU6IHdcbiAgICAgIH0pLCBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHgucHJvcHMpLCBPYmplY3QuZnJlZXplKHgpKSwgeDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFNuKGksIGQsIGgsIHAsIHcpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIE0sIHkgPSB7fSwgeCA9IG51bGwsIFAgPSBudWxsO1xuICAgICAgICBoICE9PSB2b2lkIDAgJiYgKGN0KGgpLCB4ID0gXCJcIiArIGgpLCB5bihkKSAmJiAoY3QoZC5rZXkpLCB4ID0gXCJcIiArIGQua2V5KSwga24oZCkgJiYgKFAgPSBkLnJlZiwgam4oZCwgdykpO1xuICAgICAgICBmb3IgKE0gaW4gZClcbiAgICAgICAgICB1ZS5jYWxsKGQsIE0pICYmICFDbi5oYXNPd25Qcm9wZXJ0eShNKSAmJiAoeVtNXSA9IGRbTV0pO1xuICAgICAgICBpZiAoaSAmJiBpLmRlZmF1bHRQcm9wcykge1xuICAgICAgICAgIHZhciBCID0gaS5kZWZhdWx0UHJvcHM7XG4gICAgICAgICAgZm9yIChNIGluIEIpXG4gICAgICAgICAgICB5W01dID09PSB2b2lkIDAgJiYgKHlbTV0gPSBCW01dKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCB8fCBQKSB7XG4gICAgICAgICAgdmFyIFIgPSB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCIgPyBpLmRpc3BsYXlOYW1lIHx8IGkubmFtZSB8fCBcIlVua25vd25cIiA6IGk7XG4gICAgICAgICAgeCAmJiB3bih5LCBSKSwgUCAmJiBIbih5LCBSKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX24oaSwgeCwgUCwgdywgcCwgSi5jdXJyZW50LCB5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIExlID0gei5SZWFjdEN1cnJlbnRPd25lciwgZHQgPSB6LlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgZnVuY3Rpb24gcShpKSB7XG4gICAgICBpZiAoaSkge1xuICAgICAgICB2YXIgZCA9IGkuX293bmVyLCBoID0gc2UoaS50eXBlLCBpLl9zb3VyY2UsIGQgPyBkLnR5cGUgOiBudWxsKTtcbiAgICAgICAgZHQuc2V0RXh0cmFTdGFja0ZyYW1lKGgpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGR0LnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gICAgdmFyIFBlO1xuICAgIFBlID0gITE7XG4gICAgZnVuY3Rpb24gRmUoaSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBpID09IFwib2JqZWN0XCIgJiYgaSAhPT0gbnVsbCAmJiBpLiQkdHlwZW9mID09PSB0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBmdCgpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKExlLmN1cnJlbnQpIHtcbiAgICAgICAgICB2YXIgaSA9IEEoTGUuY3VycmVudC50eXBlKTtcbiAgICAgICAgICBpZiAoaSlcbiAgICAgICAgICAgIHJldHVybiBgXG5cbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIFxcYGAgKyBpICsgXCJgLlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBNbihpKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChpICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB2YXIgZCA9IGkuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgXCJcIiksIGggPSBpLmxpbmVOdW1iZXI7XG4gICAgICAgICAgcmV0dXJuIGBcblxuQ2hlY2sgeW91ciBjb2RlIGF0IGAgKyBkICsgXCI6XCIgKyBoICsgXCIuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBtdCA9IHt9O1xuICAgIGZ1bmN0aW9uIFRuKGkpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGQgPSBmdCgpO1xuICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICB2YXIgaCA9IHR5cGVvZiBpID09IFwic3RyaW5nXCIgPyBpIDogaS5kaXNwbGF5TmFtZSB8fCBpLm5hbWU7XG4gICAgICAgICAgaCAmJiAoZCA9IGBcblxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8YCArIGggKyBcIj4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBodChpLCBkKSB7XG4gICAgICB7XG4gICAgICAgIGlmICghaS5fc3RvcmUgfHwgaS5fc3RvcmUudmFsaWRhdGVkIHx8IGkua2V5ICE9IG51bGwpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpLl9zdG9yZS52YWxpZGF0ZWQgPSAhMDtcbiAgICAgICAgdmFyIGggPSBUbihkKTtcbiAgICAgICAgaWYgKG10W2hdKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbXRbaF0gPSAhMDtcbiAgICAgICAgdmFyIHAgPSBcIlwiO1xuICAgICAgICBpICYmIGkuX293bmVyICYmIGkuX293bmVyICE9PSBMZS5jdXJyZW50ICYmIChwID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBBKGkuX293bmVyLnR5cGUpICsgXCIuXCIpLCBxKGkpLCBFKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLCBoLCBwKSwgcShudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYnQoaSwgZCkge1xuICAgICAge1xuICAgICAgICBpZiAodHlwZW9mIGkgIT0gXCJvYmplY3RcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChCZShpKSlcbiAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IGkubGVuZ3RoOyBoKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gaVtoXTtcbiAgICAgICAgICAgIEZlKHApICYmIGh0KHAsIGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoRmUoaSkpXG4gICAgICAgICAgaS5fc3RvcmUgJiYgKGkuX3N0b3JlLnZhbGlkYXRlZCA9ICEwKTtcbiAgICAgICAgZWxzZSBpZiAoaSkge1xuICAgICAgICAgIHZhciB3ID0gTihpKTtcbiAgICAgICAgICBpZiAodHlwZW9mIHcgPT0gXCJmdW5jdGlvblwiICYmIHcgIT09IGkuZW50cmllcylcbiAgICAgICAgICAgIGZvciAodmFyIE0gPSB3LmNhbGwoaSksIHk7ICEoeSA9IE0ubmV4dCgpKS5kb25lOyApXG4gICAgICAgICAgICAgIEZlKHkudmFsdWUpICYmIGh0KHkudmFsdWUsIGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFZuKGkpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGQgPSBpLnR5cGU7XG4gICAgICAgIGlmIChkID09IG51bGwgfHwgdHlwZW9mIGQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBoO1xuICAgICAgICBpZiAodHlwZW9mIGQgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgIGggPSBkLnByb3BUeXBlcztcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGQgPT0gXCJvYmplY3RcIiAmJiAoZC4kJHR5cGVvZiA9PT0gdSB8fCAvLyBOb3RlOiBNZW1vIG9ubHkgY2hlY2tzIG91dGVyIHByb3BzIGhlcmUuXG4gICAgICAgIC8vIElubmVyIHByb3BzIGFyZSBjaGVja2VkIGluIHRoZSByZWNvbmNpbGVyLlxuICAgICAgICBkLiQkdHlwZW9mID09PSBiKSlcbiAgICAgICAgICBoID0gZC5wcm9wVHlwZXM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChoKSB7XG4gICAgICAgICAgdmFyIHAgPSBBKGQpO1xuICAgICAgICAgIGduKGgsIGkucHJvcHMsIFwicHJvcFwiLCBwLCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChkLlByb3BUeXBlcyAhPT0gdm9pZCAwICYmICFQZSkge1xuICAgICAgICAgIFBlID0gITA7XG4gICAgICAgICAgdmFyIHcgPSBBKGQpO1xuICAgICAgICAgIEUoXCJDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD9cIiwgdyB8fCBcIlVua25vd25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZW9mIGQuZ2V0RGVmYXVsdFByb3BzID09IFwiZnVuY3Rpb25cIiAmJiAhZC5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQgJiYgRShcImdldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyBkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBFbihpKSB7XG4gICAgICB7XG4gICAgICAgIGZvciAodmFyIGQgPSBPYmplY3Qua2V5cyhpLnByb3BzKSwgaCA9IDA7IGggPCBkLmxlbmd0aDsgaCsrKSB7XG4gICAgICAgICAgdmFyIHAgPSBkW2hdO1xuICAgICAgICAgIGlmIChwICE9PSBcImNoaWxkcmVuXCIgJiYgcCAhPT0gXCJrZXlcIikge1xuICAgICAgICAgICAgcShpKSwgRShcIkludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuIFJlYWN0LkZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYGtleWAgYW5kIGBjaGlsZHJlbmAgcHJvcHMuXCIsIHApLCBxKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkucmVmICE9PSBudWxsICYmIChxKGkpLCBFKFwiSW52YWxpZCBhdHRyaWJ1dGUgYHJlZmAgc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC5cIiksIHEobnVsbCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBndChpLCBkLCBoLCBwLCB3LCBNKSB7XG4gICAgICB7XG4gICAgICAgIHZhciB5ID0gc24oaSk7XG4gICAgICAgIGlmICgheSkge1xuICAgICAgICAgIHZhciB4ID0gXCJcIjtcbiAgICAgICAgICAoaSA9PT0gdm9pZCAwIHx8IHR5cGVvZiBpID09IFwib2JqZWN0XCIgJiYgaSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyhpKS5sZW5ndGggPT09IDApICYmICh4ICs9IFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIik7XG4gICAgICAgICAgdmFyIFAgPSBNbih3KTtcbiAgICAgICAgICBQID8geCArPSBQIDogeCArPSBmdCgpO1xuICAgICAgICAgIHZhciBCO1xuICAgICAgICAgIGkgPT09IG51bGwgPyBCID0gXCJudWxsXCIgOiBCZShpKSA/IEIgPSBcImFycmF5XCIgOiBpICE9PSB2b2lkIDAgJiYgaS4kJHR5cGVvZiA9PT0gdCA/IChCID0gXCI8XCIgKyAoQShpLnR5cGUpIHx8IFwiVW5rbm93blwiKSArIFwiIC8+XCIsIHggPSBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50P1wiKSA6IEIgPSB0eXBlb2YgaSwgRShcIlJlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lc1wiLCBCLCB4KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgUiA9IFNuKGksIGQsIGgsIHcsIE0pO1xuICAgICAgICBpZiAoUiA9PSBudWxsKVxuICAgICAgICAgIHJldHVybiBSO1xuICAgICAgICBpZiAoeSkge1xuICAgICAgICAgIHZhciBEID0gZC5jaGlsZHJlbjtcbiAgICAgICAgICBpZiAoRCAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgaWYgKHApXG4gICAgICAgICAgICAgIGlmIChCZShEKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIFkgPSAwOyBZIDwgRC5sZW5ndGg7IFkrKylcbiAgICAgICAgICAgICAgICAgIGJ0KERbWV0sIGkpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShEKTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgRShcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGJ0KEQsIGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpID09PSBvID8gRW4oUikgOiBWbihSKSwgUjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gQm4oaSwgZCwgaCkge1xuICAgICAgcmV0dXJuIGd0KGksIGQsIGgsICEwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gUm4oaSwgZCwgaCkge1xuICAgICAgcmV0dXJuIGd0KGksIGQsIGgsICExKTtcbiAgICB9XG4gICAgdmFyIExuID0gUm4sIFBuID0gQm47XG4gICAgZWUuRnJhZ21lbnQgPSBvLCBlZS5qc3ggPSBMbiwgZWUuanN4cyA9IFBuO1xuICB9KCkpLCBlZTtcbn1cbnByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IEllLmV4cG9ydHMgPSBtbygpIDogSWUuZXhwb3J0cyA9IGhvKCk7XG52YXIgciA9IEllLmV4cG9ydHM7XG5mdW5jdGlvbiBIKGUpIHtcbiAgY29uc3QgdCA9IFUoKTtcbiAgaWYgKCEodCAhPSBudWxsICYmIHQuZWRpdG9yKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcInVzZUJsb2NrTm90ZUVkaXRvciB3YXMgY2FsbGVkIG91dHNpZGUgb2YgYSBCbG9ja05vdGVDb250ZXh0IHByb3ZpZGVyIG9yIEJsb2NrTm90ZVZpZXcgY29tcG9uZW50XCJcbiAgICApO1xuICByZXR1cm4gdC5lZGl0b3I7XG59XG5mdW5jdGlvbiBVZShlLCB0KSB7XG4gIGNvbnN0IG4gPSBVKCk7XG4gIHQgfHwgKHQgPSBuID09IG51bGwgPyB2b2lkIDAgOiBuLmVkaXRvciksIEwoKCkgPT4ge1xuICAgIGlmICghdClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCInZWRpdG9yJyBpcyByZXF1aXJlZCwgZWl0aGVyIGZyb20gQmxvY2tOb3RlQ29udGV4dCBvciBhcyBhIGZ1bmN0aW9uIGFyZ3VtZW50XCJcbiAgICAgICk7XG4gICAgcmV0dXJuIHQub25DaGFuZ2UoZSk7XG4gIH0sIFtlLCB0XSk7XG59XG5mdW5jdGlvbiBXZShlLCB0KSB7XG4gIGNvbnN0IG4gPSBVKCk7XG4gIHQgfHwgKHQgPSBuID09IG51bGwgPyB2b2lkIDAgOiBuLmVkaXRvciksIEwoKCkgPT4ge1xuICAgIGlmICghdClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCInZWRpdG9yJyBpcyByZXF1aXJlZCwgZWl0aGVyIGZyb20gQmxvY2tOb3RlQ29udGV4dCBvciBhcyBhIGZ1bmN0aW9uIGFyZ3VtZW50XCJcbiAgICAgICk7XG4gICAgcmV0dXJuIHQub25TZWxlY3Rpb25DaGFuZ2UoZSk7XG4gIH0sIFtlLCB0XSk7XG59XG5mdW5jdGlvbiBXKGUsIHQpIHtcbiAgVWUoZSwgdCksIFdlKGUsIHQpO1xufVxuZnVuY3Rpb24gaWUoZSwgdCwgbiwgbykge1xuICBjb25zdCB7IHJlZnM6IGwsIHVwZGF0ZTogYSwgY29udGV4dDogYywgZmxvYXRpbmdTdHlsZXM6IHMgfSA9IFB0KHtcbiAgICBvcGVuOiBlLFxuICAgIC4uLm9cbiAgfSksIHsgaXNNb3VudGVkOiB1LCBzdHlsZXM6IGYgfSA9IEZ0KGMpLCBtID0gRm4oYyksIHsgZ2V0UmVmZXJlbmNlUHJvcHM6IGIsIGdldEZsb2F0aW5nUHJvcHM6IGcgfSA9IE5uKFttXSk7XG4gIHJldHVybiBMKCgpID0+IHtcbiAgICBhKCk7XG4gIH0sIFt0LCBhXSksIEwoKCkgPT4ge1xuICAgIHQgIT09IG51bGwgJiYgbC5zZXRSZWZlcmVuY2Uoe1xuICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiAoKSA9PiB0XG4gICAgfSk7XG4gIH0sIFt0LCBsXSksIFQoXG4gICAgKCkgPT4gKHtcbiAgICAgIGlzTW91bnRlZDogdSxcbiAgICAgIHJlZjogbC5zZXRGbG9hdGluZyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAuLi5mLFxuICAgICAgICAuLi5zLFxuICAgICAgICB6SW5kZXg6IG5cbiAgICAgIH0sXG4gICAgICBnZXRGbG9hdGluZ1Byb3BzOiBnLFxuICAgICAgZ2V0UmVmZXJlbmNlUHJvcHM6IGJcbiAgICB9KSxcbiAgICBbXG4gICAgICBzLFxuICAgICAgdSxcbiAgICAgIGwuc2V0RmxvYXRpbmcsXG4gICAgICBmLFxuICAgICAgbixcbiAgICAgIGcsXG4gICAgICBiXG4gICAgXVxuICApO1xufVxuZnVuY3Rpb24gSyhlKSB7XG4gIGNvbnN0IFt0LCBuXSA9IEMoKTtcbiAgcmV0dXJuIEwoKCkgPT4gZSgobykgPT4ge1xuICAgIG4oeyAuLi5vIH0pO1xuICB9KSwgW2VdKSwgdDtcbn1cbmZ1bmN0aW9uIGJvKGUpIHtcbiAgcmV0dXJuICh0KSA9PiB7XG4gICAgZS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICB0eXBlb2YgbiA9PSBcImZ1bmN0aW9uXCIgPyBuKHQpIDogbiAhPSBudWxsICYmIChuLmN1cnJlbnQgPSB0KTtcbiAgICB9KTtcbiAgfTtcbn1cbmNvbnN0IGdvID0gUnQoXG4gIHZvaWQgMFxuKTtcbmZ1bmN0aW9uIHYoKSB7XG4gIHJldHVybiBMdChnbyk7XG59XG52YXIgR3QgPSB7XG4gIGNvbG9yOiB2b2lkIDAsXG4gIHNpemU6IHZvaWQgMCxcbiAgY2xhc3NOYW1lOiB2b2lkIDAsXG4gIHN0eWxlOiB2b2lkIDAsXG4gIGF0dHI6IHZvaWQgMFxufSwgeXQgPSBJLmNyZWF0ZUNvbnRleHQgJiYgLyogQF9fUFVSRV9fICovIEkuY3JlYXRlQ29udGV4dChHdCksIHBvID0gW1wiYXR0clwiLCBcInNpemVcIiwgXCJ0aXRsZVwiXTtcbmZ1bmN0aW9uIHhvKGUsIHQpIHtcbiAgaWYgKGUgPT0gbnVsbClcbiAgICByZXR1cm4ge307XG4gIHZhciBuID0gdm8oZSwgdCksIG8sIGw7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO1xuICAgIGZvciAobCA9IDA7IGwgPCBhLmxlbmd0aDsgbCsrKVxuICAgICAgbyA9IGFbbF0sICEodC5pbmRleE9mKG8pID49IDApICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLCBvKSAmJiAobltvXSA9IGVbb10pO1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gdm8oZSwgdCkge1xuICBpZiAoZSA9PSBudWxsKVxuICAgIHJldHVybiB7fTtcbiAgdmFyIG4gPSB7fTtcbiAgZm9yICh2YXIgbyBpbiBlKVxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgbykpIHtcbiAgICAgIGlmICh0LmluZGV4T2YobykgPj0gMClcbiAgICAgICAgY29udGludWU7XG4gICAgICBuW29dID0gZVtvXTtcbiAgICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gYmUoKSB7XG4gIHJldHVybiBiZSA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uKGUpIHtcbiAgICBmb3IgKHZhciB0ID0gMTsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykge1xuICAgICAgdmFyIG4gPSBhcmd1bWVudHNbdF07XG4gICAgICBmb3IgKHZhciBvIGluIG4pXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCBvKSAmJiAoZVtvXSA9IG5bb10pO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfSwgYmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbmZ1bmN0aW9uIGp0KGUsIHQpIHtcbiAgdmFyIG4gPSBPYmplY3Qua2V5cyhlKTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7XG4gICAgdCAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uKGwpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIGwpLmVudW1lcmFibGU7XG4gICAgfSkpLCBuLnB1c2guYXBwbHkobiwgbyk7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBnZShlKSB7XG4gIGZvciAodmFyIHQgPSAxOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7XG4gICAgdmFyIG4gPSBhcmd1bWVudHNbdF0gIT0gbnVsbCA/IGFyZ3VtZW50c1t0XSA6IHt9O1xuICAgIHQgJSAyID8ganQoT2JqZWN0KG4pLCAhMCkuZm9yRWFjaChmdW5jdGlvbihvKSB7XG4gICAgICBDbyhlLCBvLCBuW29dKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpIDoganQoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBvLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sIG8pKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIENvKGUsIHQsIG4pIHtcbiAgcmV0dXJuIHQgPSBrbyh0KSwgdCBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHQsIHsgdmFsdWU6IG4sIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3RdID0gbiwgZTtcbn1cbmZ1bmN0aW9uIGtvKGUpIHtcbiAgdmFyIHQgPSB5byhlLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIHR5cGVvZiB0ID09IFwic3ltYm9sXCIgPyB0IDogdCArIFwiXCI7XG59XG5mdW5jdGlvbiB5byhlLCB0KSB7XG4gIGlmICh0eXBlb2YgZSAhPSBcIm9iamVjdFwiIHx8ICFlKVxuICAgIHJldHVybiBlO1xuICB2YXIgbiA9IGVbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKG4gIT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbi5jYWxsKGUsIHQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmICh0eXBlb2YgbyAhPSBcIm9iamVjdFwiKVxuICAgICAgcmV0dXJuIG87XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAodCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoZSk7XG59XG5mdW5jdGlvbiAkdChlKSB7XG4gIHJldHVybiBlICYmIGUubWFwKCh0LCBuKSA9PiAvKiBAX19QVVJFX18gKi8gSS5jcmVhdGVFbGVtZW50KHQudGFnLCBnZSh7XG4gICAga2V5OiBuXG4gIH0sIHQuYXR0ciksICR0KHQuY2hpbGQpKSk7XG59XG5mdW5jdGlvbiBqKGUpIHtcbiAgcmV0dXJuICh0KSA9PiAvKiBAX19QVVJFX18gKi8gSS5jcmVhdGVFbGVtZW50KGpvLCBiZSh7XG4gICAgYXR0cjogZ2Uoe30sIGUuYXR0cilcbiAgfSwgdCksICR0KGUuY2hpbGQpKTtcbn1cbmZ1bmN0aW9uIGpvKGUpIHtcbiAgdmFyIHQgPSAobikgPT4ge1xuICAgIHZhciB7XG4gICAgICBhdHRyOiBvLFxuICAgICAgc2l6ZTogbCxcbiAgICAgIHRpdGxlOiBhXG4gICAgfSA9IGUsIGMgPSB4byhlLCBwbyksIHMgPSBsIHx8IG4uc2l6ZSB8fCBcIjFlbVwiLCB1O1xuICAgIHJldHVybiBuLmNsYXNzTmFtZSAmJiAodSA9IG4uY2xhc3NOYW1lKSwgZS5jbGFzc05hbWUgJiYgKHUgPSAodSA/IHUgKyBcIiBcIiA6IFwiXCIpICsgZS5jbGFzc05hbWUpLCAvKiBAX19QVVJFX18gKi8gSS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIGJlKHtcbiAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICBzdHJva2VXaWR0aDogXCIwXCJcbiAgICB9LCBuLmF0dHIsIG8sIGMsIHtcbiAgICAgIGNsYXNzTmFtZTogdSxcbiAgICAgIHN0eWxlOiBnZShnZSh7XG4gICAgICAgIGNvbG9yOiBlLmNvbG9yIHx8IG4uY29sb3JcbiAgICAgIH0sIG4uc3R5bGUpLCBlLnN0eWxlKSxcbiAgICAgIGhlaWdodDogcyxcbiAgICAgIHdpZHRoOiBzLFxuICAgICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgIH0pLCBhICYmIC8qIEBfX1BVUkVfXyAqLyBJLmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCBhKSwgZS5jaGlsZHJlbik7XG4gIH07XG4gIHJldHVybiB5dCAhPT0gdm9pZCAwID8gLyogQF9fUFVSRV9fICovIEkuY3JlYXRlRWxlbWVudCh5dC5Db25zdW1lciwgbnVsbCwgKG4pID0+IHQobikpIDogdChHdCk7XG59XG5mdW5jdGlvbiB3byhlKSB7XG4gIHJldHVybiBqKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNMjMgMTJMMTUuOTI4OSAxOS4wNzExTDE0LjUxNDcgMTcuNjU2OUwyMC4xNzE2IDEyTDE0LjUxNDcgNi4zNDMxN0wxNS45Mjg5IDQuOTI4OTZMMjMgMTJaTTMuODI4NDMgMTJMOS40ODUyOCAxNy42NTY5TDguMDcxMDcgMTkuMDcxMUwxIDEyTDguMDcxMDcgNC45Mjg5Nkw5LjQ4NTI4IDYuMzQzMTdMMy44Mjg0MyAxMlpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBDZShlKSB7XG4gIHJldHVybiBqKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNMyA4TDkuMDAzMTkgMkgxOS45OTc4QzIwLjU1MTMgMiAyMSAyLjQ1NTMxIDIxIDIuOTkxOFYyMS4wMDgyQzIxIDIxLjU1NiAyMC41NTUxIDIyIDIwLjAwNjYgMjJIMy45OTM0QzMuNDQ0NzYgMjIgMyAyMS41NTAxIDMgMjAuOTkzMlY4Wk0xMCA0VjlINVYyMEgxOVY0SDEwWlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIEhvKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0zIDRIMjFWNkgzVjRaTTUgMTlIMTlWMjFINVYxOVpNMyAxNEgyMVYxNkgzVjE0Wk01IDlIMTlWMTFINVY5WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIF9vKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0zIDRIMjFWNkgzVjRaTTMgMTlIMjFWMjFIM1YxOVpNMyAxNEgyMVYxNkgzVjE0Wk0zIDlIMjFWMTFIM1Y5WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFNvKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0zIDRIMjFWNkgzVjRaTTMgMTlIMTdWMjFIM1YxOVpNMyAxNEgyMVYxNkgzVjE0Wk0zIDlIMTdWMTFIM1Y5WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIE1vKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0zIDRIMjFWNkgzVjRaTTcgMTlIMjFWMjFIN1YxOVpNMyAxNEgyMVYxNkgzVjE0Wk03IDlIMjFWMTFIN1Y5WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFRvKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk04IDExSDEyLjVDMTMuODgwNyAxMSAxNSA5Ljg4MDcxIDE1IDguNUMxNSA3LjExOTI5IDEzLjg4MDcgNiAxMi41IDZIOFYxMVpNMTggMTUuNUMxOCAxNy45ODUzIDE1Ljk4NTMgMjAgMTMuNSAyMEg2VjRIMTIuNUMxNC45ODUzIDQgMTcgNi4wMTQ3MiAxNyA4LjVDMTcgOS43MDQzMSAxNi41MjY5IDEwLjc5ODEgMTUuNzU2NCAxMS42MDU4QzE3LjA5NzkgMTIuMzg0NyAxOCAxMy44MzcgMTggMTUuNVpNOCAxM1YxOEgxMy41QzE0Ljg4MDcgMTggMTYgMTYuODgwNyAxNiAxNS41QzE2IDE0LjExOTMgMTQuODgwNyAxMyAxMy41IDEzSDhaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gd3QoZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTUuNTUzOTcgMjJIMy4zOTk5TDEwLjk5OTkgM0gxMi45OTk5TDIwLjU5OTkgMjJIMTguNDQ1OEwxNi4wNDU4IDE2SDcuOTUzOTdMNS41NTM5NyAyMlpNOC43NTM5NyAxNEgxNS4yNDU4TDExLjk5OTkgNS44ODUxN0w4Ljc1Mzk3IDE0WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIHF0KGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xMyAyMEgxMVYxM0g0VjIwSDJWNEg0VjExSDExVjRIMTNWMjBaTTIxLjAwMDUgOFYyMEgxOS4wMDA1TDE5IDEwLjIwNEwxNyAxMC43NFY4LjY3TDE5LjUwMDUgOEgyMS4wMDA1WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFl0KGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk00IDRWMTFIMTFWNEgxM1YyMEgxMVYxM0g0VjIwSDJWNEg0Wk0xOC41IDhDMjAuNTcxMSA4IDIyLjI1IDkuNjc4OTMgMjIuMjUgMTEuNzVDMjIuMjUgMTIuNjA3NCAyMS45NjIzIDEzLjM5NzYgMjEuNDc4MSAxNC4wMjkyTDIxLjMzMDIgMTQuMjEwMkwxOC4wMzQzIDE4SDIyVjIwSDE1TDE0Ljk5OTMgMTguNDQ0TDE5LjgyMDcgMTIuODk4MUMyMC4wODgxIDEyLjU5MDggMjAuMjUgMTIuMTg5MyAyMC4yNSAxMS43NUMyMC4yNSAxMC43ODM1IDE5LjQ2NjUgMTAgMTguNSAxMEMxNy41ODE4IDEwIDE2LjgyODggMTAuNzA3MSAxNi43NTU4IDExLjYwNjVMMTYuNzUgMTEuNzVIMTQuNzVDMTQuNzUgOS42Nzg5MyAxNi40Mjg5IDggMTguNSA4WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIEt0KGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0yMiA4TDIxLjk5ODQgMTBMMTkuNDkzNCAxMi44ODNDMjEuMDgyMyAxMy4zMTg0IDIyLjI1IDE0Ljc3MjggMjIuMjUgMTYuNUMyMi4yNSAxOC41NzExIDIwLjU3MTEgMjAuMjUgMTguNSAyMC4yNUMxNi42NzQgMjAuMjUgMTUuMTUyOCAxOC45NDQ5IDE0LjgxODQgMTcuMjE2NkwxNi43ODIxIDE2LjgzNTJDMTYuOTM4NCAxNy42NDEzIDE3LjY0ODEgMTguMjUgMTguNSAxOC4yNUMxOS40NjY1IDE4LjI1IDIwLjI1IDE3LjQ2NjUgMjAuMjUgMTYuNUMyMC4yNSAxNS41MzM1IDE5LjQ2NjUgMTQuNzUgMTguNSAxNC43NUMxOC4yMTQgMTQuNzUgMTcuOTQ0IDE0LjgxODYgMTcuNzA1NiAxNC45NDAzTDE2LjM5OTIgMTMuMzkzMkwxOS4zNDg0IDEwSDE1VjhIMjJaTTQgNFYxMUgxMVY0SDEzVjIwSDExVjEzSDRWMjBIMlY0SDRaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gVm8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTMgNEgyMVY2SDNWNFpNMyAxOUgyMVYyMUgzVjE5Wk0xMSAxNEgyMVYxNkgxMVYxNFpNMTEgOUgyMVYxMUgxMVY5Wk0zIDEyLjVMNyA5VjE2TDMgMTIuNVpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBFbyhlKSB7XG4gIHJldHVybiBqKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNMyA0SDIxVjZIM1Y0Wk0zIDE5SDIxVjIxSDNWMTlaTTExIDE0SDIxVjE2SDExVjE0Wk0xMSA5SDIxVjExSDExVjlaTTcgMTIuNUwzIDE2VjlMNyAxMi41WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIEh0KGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk04IDVIMTFWMTlIOFYyMUgxNlYxOUgxM1Y1SDE2VjNIOFY1Wk0yIDdDMS40NDc3MiA3IDEgNy40NDc3MiAxIDhWMTZDMSAxNi41NTIzIDEuNDQ3NzIgMTcgMiAxN0g4VjE1SDNWOUg4VjdIMlpNMTYgOUgyMVYxNUgxNlYxN0gyMkMyMi41NTIzIDE3IDIzIDE2LjU1MjMgMjMgMTZWOEMyMyA3LjQ0NzcyIDIyLjU1MjMgNyAyMiA3SDE2VjlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gQm8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTE1IDIwSDdWMThIOS45MjY2MUwxMi4wNDI1IDZIOVY0SDE3VjZIMTQuMDczNEwxMS45NTc1IDE4SDE1VjIwWlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFJvKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xNyAxN0gyMlYxOUgxOVYyMkgxN1YxN1pNNyA3SDJWNUg1VjJIN1Y3Wk0xOC4zNjQgMTUuNTM1NUwxNi45NDk3IDE0LjEyMTNMMTguMzY0IDEyLjcwNzFDMjAuMzE2NiAxMC43NTQ1IDIwLjMxNjYgNy41ODg2NiAxOC4zNjQgNS42MzYwNEMxNi40MTEzIDMuNjgzNDIgMTMuMjQ1NSAzLjY4MzQyIDExLjI5MjkgNS42MzYwNEw5Ljg3ODY4IDcuMDUwMjVMOC40NjQ0NyA1LjYzNjA0TDkuODc4NjggNC4yMjE4M0MxMi42MTIzIDEuNDg4MTYgMTcuMDQ0NSAxLjQ4ODE2IDE5Ljc3ODIgNC4yMjE4M0MyMi41MTE4IDYuOTU1NSAyMi41MTE4IDExLjM4NzcgMTkuNzc4MiAxNC4xMjEzTDE4LjM2NCAxNS41MzU1Wk0xNS41MzU1IDE4LjM2NEwxNC4xMjEzIDE5Ljc3ODJDMTEuMzg3NyAyMi41MTE4IDYuOTU1NSAyMi41MTE4IDQuMjIxODMgMTkuNzc4MkMxLjQ4ODE2IDE3LjA0NDUgMS40ODgxNiAxMi42MTIzIDQuMjIxODMgOS44Nzg2OEw1LjYzNjA0IDguNDY0NDdMNy4wNTAyNSA5Ljg3ODY4TDUuNjM2MDQgMTEuMjkyOUMzLjY4MzQyIDEzLjI0NTUgMy42ODM0MiAxNi40MTEzIDUuNjM2MDQgMTguMzY0QzcuNTg4NjYgMjAuMzE2NiAxMC43NTQ1IDIwLjMxNjYgMTIuNzA3MSAxOC4zNjRMMTQuMTIxMyAxNi45NDk3TDE1LjUzNTUgMTguMzY0Wk0xNC44Mjg0IDcuNzU3MzZMMTYuMjQyNiA5LjE3MTU3TDkuMTcxNTcgMTYuMjQyNkw3Ljc1NzM2IDE0LjgyODRMMTQuODI4NCA3Ljc1NzM2WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFh0KGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xOC4zNjM4IDE1LjUzNTVMMTYuOTQ5NiAxNC4xMjEzTDE4LjM2MzggMTIuNzA3MUMyMC4zMTY0IDEwLjc1NDUgMjAuMzE2NCA3LjU4ODY2IDE4LjM2MzggNS42MzYwNEMxNi40MTEyIDMuNjgzNDEgMTMuMjQ1MyAzLjY4MzQxIDExLjI5MjcgNS42MzYwNEw5Ljg3ODQ5IDcuMDUwMjVMOC40NjQyOCA1LjYzNjA0TDkuODc4NDkgNC4yMjE4MkMxMi42MTIyIDEuNDg4MTUgMTcuMDQ0MyAxLjQ4ODE1IDE5Ljc3OCA0LjIyMTgyQzIyLjUxMTcgNi45NTU0OSAyMi41MTE3IDExLjM4NzYgMTkuNzc4IDE0LjEyMTNMMTguMzYzOCAxNS41MzU1Wk0xNS41MzUzIDE4LjM2NEwxNC4xMjExIDE5Ljc3ODJDMTEuMzg3NSAyMi41MTE4IDYuOTU1MzEgMjIuNTExOCA0LjIyMTY0IDE5Ljc3ODJDMS40ODc5NyAxNy4wNDQ1IDEuNDg3OTcgMTIuNjEyMyA0LjIyMTY0IDkuODc4NjhMNS42MzU4NSA4LjQ2NDQ2TDcuMDUwMDcgOS44Nzg2OEw1LjYzNTg1IDExLjI5MjlDMy42ODMyMyAxMy4yNDU1IDMuNjgzMjMgMTYuNDExMyA1LjYzNTg1IDE4LjM2NEM3LjU4ODQ3IDIwLjMxNjYgMTAuNzU0MyAyMC4zMTY2IDEyLjcwNjkgMTguMzY0TDE0LjEyMTEgMTYuOTQ5N0wxNS41MzUzIDE4LjM2NFpNMTQuODI4MiA3Ljc1NzM2TDE2LjI0MjUgOS4xNzE1N0w5LjE3MTM5IDE2LjI0MjZMNy43NTcxNyAxNC44Mjg0TDE0LjgyODIgNy43NTczNlpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBKdChlKSB7XG4gIHJldHVybiBqKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNOCA0SDIxVjZIOFY0Wk01IDNWNkg2VjdIM1Y2SDRWNEgzVjNINVpNMyAxNFYxMS41SDVWMTFIM1YxMEg2VjEyLjVINFYxM0g2VjE0SDNaTTUgMTkuNUgzVjE4LjVINVYxOEgzVjE3SDZWMjFIM1YyMEg1VjE5LjVaTTggMTFIMjFWMTNIOFYxMVpNOCAxOEgyMVYyMEg4VjE4WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFF0KGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk04IDRIMjFWNkg4VjRaTTQuNSA2LjVDMy42NzE1NyA2LjUgMyA1LjgyODQzIDMgNUMzIDQuMTcxNTcgMy42NzE1NyAzLjUgNC41IDMuNUM1LjMyODQzIDMuNSA2IDQuMTcxNTcgNiA1QzYgNS44Mjg0MyA1LjMyODQzIDYuNSA0LjUgNi41Wk00LjUgMTMuNUMzLjY3MTU3IDEzLjUgMyAxMi44Mjg0IDMgMTJDMyAxMS4xNzE2IDMuNjcxNTcgMTAuNSA0LjUgMTAuNUM1LjMyODQzIDEwLjUgNiAxMS4xNzE2IDYgMTJDNiAxMi44Mjg0IDUuMzI4NDMgMTMuNSA0LjUgMTMuNVpNNC41IDIwLjRDMy42NzE1NyAyMC40IDMgMTkuNzI4NCAzIDE4LjlDMyAxOC4wNzE2IDMuNjcxNTcgMTcuNCA0LjUgMTcuNEM1LjMyODQzIDE3LjQgNiAxOC4wNzE2IDYgMTguOUM2IDE5LjcyODQgNS4zMjg0MyAyMC40IDQuNSAyMC40Wk04IDExSDIxVjEzSDhWMTFaTTggMThIMjFWMjBIOFYxOFpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBMbyhlKSB7XG4gIHJldHVybiBqKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNMTcuMTUzOCAxNEMxNy4zODQ2IDE0LjUxNjEgMTcuNSAxNS4wODkzIDE3LjUgMTUuNzE5NkMxNy41IDE3LjA2MjUgMTYuOTc2MiAxOC4xMTE2IDE1LjkyODYgMTguODY3QzE0Ljg4MDkgMTkuNjIyMyAxMy40MzM1IDIwIDExLjU4NjIgMjBDOS45NDY3NCAyMCA4LjMyMzM1IDE5LjYxODUgNi43MTU5MiAxOC44NTU1VjE2LjYwMDlDOC4yMzUzOCAxNy40NzgzIDkuNzkwOCAxNy45MTcgMTEuMzgyMiAxNy45MTdDMTMuOTMzMyAxNy45MTcgMTUuMjEyOCAxNy4xODQ2IDE1LjIyMDggMTUuNzE5NkMxNS4yMjA4IDE1LjA5MzkgMTUuMDA0OSAxNC41NTk4IDE0LjU3MzEgMTQuMTE3M0MxNC41MzM5IDE0LjA3NzIgMTQuNDkzOSAxNC4wMzgxIDE0LjQ1MzEgMTRIM1YxMkgyMVYxNEgxNy4xNTM4Wk0xMy4wNzYgMTFINy42MjkwOEM3LjQ1NjYgMTAuODQzMyA3LjI5NjE2IDEwLjY2OTIgNy4xNDc3NiAxMC40Nzc4QzYuNzE1OTIgOS45MjA4NCA2LjUgOS4yNDU1OSA2LjUgOC40NTIwN0M2LjUgNy4yMTYwMiA2Ljk2NTgzIDYuMTY1IDcuODk3NDkgNS4yOTlDOC44MjkxNiA0LjQzMjk5IDEwLjI3MDYgNCAxMi4yMjE5IDRDMTMuNjkzNCA0IDE1LjEwMDkgNC4zMjgwOCAxNi40NDQ0IDQuOTg0MjZWNy4xMzU5MUMxNS4yNDQ4IDYuNDQ5MjEgMTMuOTI5MyA2LjEwNTg3IDEyLjQ5NzggNi4xMDU4N0MxMC4wMTg3IDYuMTA1ODcgOC43NzkxNyA2Ljg4NzkzIDguNzc5MTcgOC40NTIwN0M4Ljc3OTE3IDguODcxNzIgOC45OTcwOSA5LjIzNzk2IDkuNDMyOTMgOS41NTA3OUM5Ljg2ODc4IDkuODYzNjIgMTAuNDA2NiAxMC4xMTM1IDExLjA0NjMgMTAuMzAwNEMxMS42NjY1IDEwLjQ4MTYgMTIuMzQzMSAxMC43MTQ4IDEzLjA3NiAxMUgxMy4wNzZaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gUG8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTEzIDEwVjE0SDE5VjEwSDEzWk0xMSAxMEg1VjE0SDExVjEwWk0xMyAxOUgxOVYxNkgxM1YxOVpNMTEgMTlWMTZINVYxOUgxMVpNMTMgNVY4SDE5VjVIMTNaTTExIDVINVY4SDExVjVaTTQgM0gyMEMyMC41NTIzIDMgMjEgMy40NDc3MiAyMSA0VjIwQzIxIDIwLjU1MjMgMjAuNTUyMyAyMSAyMCAyMUg0QzMuNDQ3NzIgMjEgMyAyMC41NTIzIDMgMjBWNEMzIDMuNDQ3NzIgMy40NDc3MiAzIDQgM1pcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBHZShlKSB7XG4gIHJldHVybiBqKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNMTMgNlYyMUgxMVY2SDVWNEgxOVY2SDEzWlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIEZvKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk04IDNWMTJDOCAxNC4yMDkxIDkuNzkwODYgMTYgMTIgMTZDMTQuMjA5MSAxNiAxNiAxNC4yMDkxIDE2IDEyVjNIMThWMTJDMTggMTUuMzEzNyAxNS4zMTM3IDE4IDEyIDE4QzguNjg2MjkgMTggNiAxNS4zMTM3IDYgMTJWM0g4Wk00IDIwSDIwVjIySDRWMjBaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gTm8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTIgMy45OTM0QzIgMy40NDQ3NiAyLjQ1NTMxIDMgMi45OTE4IDNIMjEuMDA4MkMyMS41NTYgMyAyMiAzLjQ0NDk1IDIyIDMuOTkzNFYyMC4wMDY2QzIyIDIwLjU1NTIgMjEuNTQ0NyAyMSAyMS4wMDgyIDIxSDIuOTkxOEMyLjQ0NDA1IDIxIDIgMjAuNTU1MSAyIDIwLjAwNjZWMy45OTM0Wk04IDVWMTlIMTZWNUg4Wk00IDVWN0g2VjVINFpNMTggNVY3SDIwVjVIMThaTTQgOVYxMUg2VjlINFpNMTggOVYxMUgyMFY5SDE4Wk00IDEzVjE1SDZWMTNINFpNMTggMTNWMTVIMjBWMTNIMThaTTQgMTdWMTlINlYxN0g0Wk0xOCAxN1YxOUgyMFYxN0gxOFpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBlbihlKSB7XG4gIHJldHVybiBqKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNNSAxMS4xMDA1TDcgOS4xMDA1TDEyLjUgMTQuNjAwNUwxNiAxMS4xMDA1TDE5IDE0LjEwMDVWNUg1VjExLjEwMDVaTTQgM0gyMEMyMC41NTIzIDMgMjEgMy40NDc3MiAyMSA0VjIwQzIxIDIwLjU1MjMgMjAuNTUyMyAyMSAyMCAyMUg0QzMuNDQ3NzIgMjEgMyAyMC41NTIzIDMgMjBWNEMzIDMuNDQ3NzIgMy40NDc3MiAzIDQgM1pNMTUuNSAxMEMxNC42NzE2IDEwIDE0IDkuMzI4NDMgMTQgOC41QzE0IDcuNjcxNTcgMTQuNjcxNiA3IDE1LjUgN0MxNi4zMjg0IDcgMTcgNy42NzE1NyAxNyA4LjVDMTcgOS4zMjg0MyAxNi4zMjg0IDEwIDE1LjUgMTBaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gT28oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTIxIDE1VjE4SDI0VjIwSDIxVjIzSDE5VjIwSDE2VjE4SDE5VjE1SDIxWk0yMS4wMDgyIDNDMjEuNTU2IDMgMjIgMy40NDQ5NSAyMiAzLjk5MzRMMjIuMDAwNyAxMy4zNDE3QzIxLjM3NDkgMTMuMTIwNCAyMC43MDE1IDEzIDIwIDEzVjVINEw0LjAwMSAxOUwxMy4yOTI5IDkuNzA3MTVDMTMuNjUyOCA5LjM0NjA0IDE0LjIyIDkuMzE4MjMgMTQuNjEyMyA5LjYyMzIyTDE0LjcwNjUgOS43MDc3MkwxOC4yNTIxIDEzLjI1ODZDMTUuNzkxIDE0LjAwNjkgMTQgMTYuMjk0MyAxNCAxOUMxNCAxOS43MDE1IDE0LjEyMDQgMjAuMzc0OSAxNC4zNDE3IDIxLjAwMDdMMi45OTE4IDIxQzIuNDQ0MDUgMjEgMiAyMC41NTUxIDIgMjAuMDA2NlYzLjk5MzRDMiAzLjQ0NDc2IDIuNDU1MzEgMyAyLjk5MTggM0gyMS4wMDgyWk04IDdDOS4xMDQ1NyA3IDEwIDcuODk1NDMgMTAgOUMxMCAxMC4xMDQ2IDkuMTA0NTcgMTEgOCAxMUM2Ljg5NTQzIDExIDYgMTAuMTA0NiA2IDlDNiA3Ljg5NTQzIDYuODk1NDMgNyA4IDdaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gRG8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTIwIDNDMjAuNTUyMyAzIDIxIDMuNDQ3NzIgMjEgNFY1Ljc1N0wxOSA3Ljc1N1Y1SDVWMTMuMUw5IDkuMTAwNUwxMy4zMjggMTMuNDI5TDEyLjAwMTIgMTQuNzU2MkwxMS45OTUgMTguOTk1TDE2LjI0MTQgMTkuMDAxMkwxNy41NzEgMTcuNjcxTDE4Ljg5OTUgMTlIMTlWMTYuMjQyTDIxIDE0LjI0MlYyMEMyMSAyMC41NTIzIDIwLjU1MjMgMjEgMjAgMjFINEMzLjQ0NzcyIDIxIDMgMjAuNTUyMyAzIDIwVjRDMyAzLjQ0NzcyIDMuNDQ3NzIgMyA0IDNIMjBaTTIxLjc3ODIgNy44MDc2MUwyMy4xOTI0IDkuMjIxODNMMTUuNDE0MiAxN0wxMy45OTc5IDE2Ljk5NzlMMTQgMTUuNTg1OEwyMS43NzgyIDcuODA3NjFaTTE1LjUgN0MxNi4zMjg0IDcgMTcgNy42NzE1NyAxNyA4LjVDMTcgOS4zMjg0MyAxNi4zMjg0IDEwIDE1LjUgMTBDMTQuNjcxNiAxMCAxNCA5LjMyODQzIDE0IDguNUMxNCA3LjY3MTU3IDE0LjY3MTYgNyAxNS41IDdaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gSW8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTMgMy45OTM0QzMgMy40NDQ3NiAzLjQ0NDk1IDMgMy45OTM0IDNIMjAuMDA2NkMyMC41NTUyIDMgMjEgMy40NDQ5NSAyMSAzLjk5MzRWMjAuMDA2NkMyMSAyMC41NTUyIDIwLjU1NTEgMjEgMjAuMDA2NiAyMUgzLjk5MzRDMy40NDQ3NiAyMSAzIDIwLjU1NTEgMyAyMC4wMDY2VjMuOTkzNFpNMTAuNjIxOSA4LjQxNDU5QzEwLjU1NjIgOC4zNzA3OCAxMC40NzkgOC4zNDc0MSAxMC40IDguMzQ3NDFDMTAuMTc5MSA4LjM0NzQxIDEwIDguNTI2NDkgMTAgOC43NDc0MVYxNS4yNTI2QzEwIDE1LjMzMTYgMTAuMDIzNCAxNS40MDg4IDEwLjA2NzIgMTUuNDc0NUMxMC4xODk3IDE1LjY1ODMgMTAuNDM4MSAxNS43MDggMTAuNjIxOSAxNS41ODU0TDE1LjUwMDggMTIuMzMyOEMxNS41NDQ3IDEyLjMwMzUgMTUuNTgyNCAxMi4yNjU4IDE1LjYxMTcgMTIuMjIxOUMxNS43MzQzIDEyLjAzODEgMTUuNjg0NiAxMS43ODk3IDE1LjUwMDggMTEuNjY3MkwxMC42MjE5IDguNDE0NTlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gdG4oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTIgMTYuMDAwMUg1Ljg4ODg5TDExLjE4MzQgMjAuMzMxOUMxMS4yNzI3IDIwLjQwNSAxMS4zODQ2IDIwLjQ0NDkgMTEuNSAyMC40NDQ5QzExLjc3NjEgMjAuNDQ0OSAxMiAyMC4yMjExIDEyIDE5Ljk0NDlWNC4wNTUxOUMxMiAzLjkzOTc3IDExLjk2MDEgMy44Mjc5IDExLjg4NyAzLjczODU3QzExLjcxMjEgMy41MjQ4NSAxMS4zOTcxIDMuNDkzMzUgMTEuMTgzNCAzLjY2ODIxTDUuODg4ODkgOC4wMDAwN0gyQzEuNDQ3NzIgOC4wMDAwNyAxIDguNDQ3NzggMSA5LjAwMDA3VjE1LjAwMDFDMSAxNS41NTI0IDEuNDQ3NzIgMTYuMDAwMSAyIDE2LjAwMDFaTTIzIDEyQzIzIDE1LjI5MiAyMS41NTM5IDE4LjI0NjMgMTkuMjYyMiAyMC4yNjIyTDE3Ljg0NDUgMTguODQ0NEMxOS43NzU4IDE3LjE5MzcgMjEgMTQuNzM5OCAyMSAxMkMyMSA5LjI2MDE2IDE5Ljc3NTggNi44MDYyOSAxNy44NDQ1IDUuMTU1NTdMMTkuMjYyMiAzLjczNzc5QzIxLjU1MzkgNS43NTM2OCAyMyA4LjcwNzk1IDIzIDEyWk0xOCAxMkMxOCAxMC4wODgzIDE3LjEwNiA4LjM4NTQ4IDE1LjcxMzMgNy4yODY3M0wxNC4yODQyIDguNzE1ODRDMTUuMzIxMyA5LjQzODU1IDE2IDEwLjY0IDE2IDEyQzE2IDEzLjM2IDE1LjMyMTMgMTQuNTYxNCAxNC4yODQyIDE1LjI4NDFMMTUuNzEzMyAxNi43MTMyQzE3LjEwNiAxNS42MTQ1IDE4IDEzLjkxMTYgMTggMTJaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gQW8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTE3IDZIMjJWOEgyMFYyMUMyMCAyMS41NTIzIDE5LjU1MjMgMjIgMTkgMjJINUM0LjQ0NzcyIDIyIDQgMjEuNTUyMyA0IDIxVjhIMlY2SDdWM0M3IDIuNDQ3NzIgNy40NDc3MiAyIDggMkgxNkMxNi41NTIzIDIgMTcgMi40NDc3MiAxNyAzVjZaTTE4IDhINlYyMEgxOFY4Wk05IDRWNkgxNVY0SDlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gWm8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTQgMTlIMjBWMTJIMjJWMjBDMjIgMjAuNTUyMyAyMS41NTIzIDIxIDIxIDIxSDNDMi40NDc3MiAyMSAyIDIwLjU1MjMgMiAyMFYxMkg0VjE5Wk0xNCA5SDE5TDEyIDE2TDUgOUgxMFYzSDE0VjlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gem8oZSkge1xuICByZXR1cm4gaih7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTEwIDZWOEg1VjE5SDE2VjE0SDE4VjIwQzE4IDIwLjU1MjMgMTcuNTUyMyAyMSAxNyAyMUg0QzMuNDQ3NzIgMjEgMyAyMC41NTIzIDMgMjBWN0MzIDYuNDQ3NzIgMy40NDc3MiA2IDQgNkgxMFpNMjEgM1YxMkwxNy4yMDYgOC4yMDdMMTEuMjA3MSAxNC4yMDcxTDkuNzkyODkgMTIuNzkyOUwxNS43OTIgNi43OTNMMTIgM0gyMVpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBPKGUpIHtcbiAgY29uc3QgdCA9IFUoKTtcbiAgaWYgKGUgfHwgKGUgPSB0ID09IG51bGwgPyB2b2lkIDAgOiB0LmVkaXRvciksICFlKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiJ2VkaXRvcicgaXMgcmVxdWlyZWQsIGVpdGhlciBmcm9tIEJsb2NrTm90ZUNvbnRleHQgb3IgYXMgYSBmdW5jdGlvbiBhcmd1bWVudFwiXG4gICAgKTtcbiAgY29uc3QgbiA9IGUsIFtvLCBsXSA9IEMoKCkgPT4ge1xuICAgIHZhciBhO1xuICAgIHJldHVybiAoKGEgPSBuLmdldFNlbGVjdGlvbigpKSA9PSBudWxsID8gdm9pZCAwIDogYS5ibG9ja3MpIHx8IFtuLmdldFRleHRDdXJzb3JQb3NpdGlvbigpLmJsb2NrXTtcbiAgfSk7XG4gIHJldHVybiBXKFxuICAgICgpID0+IHtcbiAgICAgIHZhciBhO1xuICAgICAgcmV0dXJuIGwoXG4gICAgICAgICgoYSA9IG4uZ2V0U2VsZWN0aW9uKCkpID09IG51bGwgPyB2b2lkIDAgOiBhLmJsb2NrcykgfHwgW24uZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2tdXG4gICAgICApO1xuICAgIH0sXG4gICAgblxuICApLCBvO1xufVxuZnVuY3Rpb24gXygpIHtcbiAgcmV0dXJuIFUoKS5lZGl0b3IuZGljdGlvbmFyeTtcbn1cbmNvbnN0IFVvID0ge1xuICBib2xkOiBUbyxcbiAgaXRhbGljOiBCbyxcbiAgdW5kZXJsaW5lOiBGbyxcbiAgc3RyaWtlOiBMbyxcbiAgY29kZTogd29cbn07XG5mdW5jdGlvbiBXbyhlLCB0KSB7XG4gIHJldHVybiBlIGluIHQuc2NoZW1hLnN0eWxlU2NoZW1hICYmIHQuc2NoZW1hLnN0eWxlU2NoZW1hW2VdLnR5cGUgPT09IGUgJiYgdC5zY2hlbWEuc3R5bGVTY2hlbWFbZV0ucHJvcFNjaGVtYSA9PT0gXCJib29sZWFuXCI7XG59XG5jb25zdCBmZSA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBfKCksIG4gPSB2KCksIG8gPSBIKCksIGwgPSBXbyhcbiAgICBlLmJhc2ljVGV4dFN0eWxlLFxuICAgIG9cbiAgKSwgYSA9IE8obyksIFtjLCBzXSA9IEMoXG4gICAgZS5iYXNpY1RleHRTdHlsZSBpbiBvLmdldEFjdGl2ZVN0eWxlcygpXG4gICk7XG4gIFcoKCkgPT4ge1xuICAgIGwgJiYgcyhlLmJhc2ljVGV4dFN0eWxlIGluIG8uZ2V0QWN0aXZlU3R5bGVzKCkpO1xuICB9LCBvKTtcbiAgY29uc3QgdSA9IChiKSA9PiB7XG4gICAgaWYgKG8uZm9jdXMoKSwgISFsKSB7XG4gICAgICBpZiAoby5zY2hlbWEuc3R5bGVTY2hlbWFbYl0ucHJvcFNjaGVtYSAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbiBvbmx5IHRvZ2dsZSBib29sZWFuIHN0eWxlc1wiKTtcbiAgICAgIG8udG9nZ2xlU3R5bGVzKHsgW2JdOiAhMCB9KTtcbiAgICB9XG4gIH07XG4gIGlmICghVCgoKSA9PiBsID8gISFhLmZpbmQoKGIpID0+IGIuY29udGVudCAhPT0gdm9pZCAwKSA6ICExLCBbbCwgYV0pKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBtID0gVW9bZS5iYXNpY1RleHRTdHlsZV07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgbi5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgXCJkYXRhLXRlc3RcIjogZS5iYXNpY1RleHRTdHlsZSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHUoZS5iYXNpY1RleHRTdHlsZSksXG4gICAgICBpc1NlbGVjdGVkOiBjLFxuICAgICAgbGFiZWw6IHQuZm9ybWF0dGluZ190b29sYmFyW2UuYmFzaWNUZXh0U3R5bGVdLnRvb2x0aXAsXG4gICAgICBtYWluVG9vbHRpcDogdC5mb3JtYXR0aW5nX3Rvb2xiYXJbZS5iYXNpY1RleHRTdHlsZV0udG9vbHRpcCxcbiAgICAgIHNlY29uZGFyeVRvb2x0aXA6IHZlKFxuICAgICAgICB0LmZvcm1hdHRpbmdfdG9vbGJhcltlLmJhc2ljVGV4dFN0eWxlXS5zZWNvbmRhcnlfdG9vbHRpcCxcbiAgICAgICAgdC5nZW5lcmljLmN0cmxfc2hvcnRjdXRcbiAgICAgICksXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3gobSwge30pXG4gICAgfVxuICApO1xufSwgQWUgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gZS50ZXh0Q29sb3IgfHwgXCJkZWZhdWx0XCIsIG4gPSBlLmJhY2tncm91bmRDb2xvciB8fCBcImRlZmF1bHRcIiwgbyA9IGUuc2l6ZSB8fCAxNiwgbCA9IFQoXG4gICAgKCkgPT4gKHtcbiAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgICAgZm9udFNpemU6IChvICogMC43NSkudG9TdHJpbmcoKSArIFwicHhcIixcbiAgICAgIGhlaWdodDogby50b1N0cmluZygpICsgXCJweFwiLFxuICAgICAgbGluZUhlaWdodDogby50b1N0cmluZygpICsgXCJweFwiLFxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgd2lkdGg6IG8udG9TdHJpbmcoKSArIFwicHhcIlxuICAgIH0pLFxuICAgIFtvXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWNvbG9yLWljb25cIixcbiAgICAgIFwiZGF0YS1iYWNrZ3JvdW5kLWNvbG9yXCI6IG4sXG4gICAgICBcImRhdGEtdGV4dC1jb2xvclwiOiB0LFxuICAgICAgc3R5bGU6IGwsXG4gICAgICBjaGlsZHJlbjogXCJBXCJcbiAgICB9XG4gICk7XG59LCBfdCA9IFtcbiAgXCJkZWZhdWx0XCIsXG4gIFwiZ3JheVwiLFxuICBcImJyb3duXCIsXG4gIFwicmVkXCIsXG4gIFwib3JhbmdlXCIsXG4gIFwieWVsbG93XCIsXG4gIFwiZ3JlZW5cIixcbiAgXCJibHVlXCIsXG4gIFwicHVycGxlXCIsXG4gIFwicGlua1wiXG5dLCBubiA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCksIG4gPSBfKCksIG8gPSAoKSA9PiBlLnRleHQgPyAvKiBAX19QVVJFX18gKi8gci5qc3hzKHIuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLk1lbnUuTGFiZWwsIHsgY2hpbGRyZW46IG4uY29sb3JfcGlja2VyLnRleHRfdGl0bGUgfSksXG4gICAgX3QubWFwKChhKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuTWVudS5JdGVtLFxuICAgICAge1xuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgZS5vbkNsaWNrICYmIGUub25DbGljaygpLCBlLnRleHQuc2V0Q29sb3IoYSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGF0YS10ZXN0XCI6IFwidGV4dC1jb2xvci1cIiArIGEsXG4gICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChBZSwgeyB0ZXh0Q29sb3I6IGEsIHNpemU6IGUuaWNvblNpemUgfSksXG4gICAgICAgIGNoZWNrZWQ6IGUudGV4dC5jb2xvciA9PT0gYSxcbiAgICAgICAgY2hpbGRyZW46IG4uY29sb3JfcGlja2VyLmNvbG9yc1thXVxuICAgICAgfSxcbiAgICAgIFwidGV4dC1jb2xvci1cIiArIGFcbiAgICApKVxuICBdIH0pIDogbnVsbCwgbCA9ICgpID0+IGUuYmFja2dyb3VuZCA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoci5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuTWVudS5MYWJlbCwgeyBjaGlsZHJlbjogbi5jb2xvcl9waWNrZXIuYmFja2dyb3VuZF90aXRsZSB9KSxcbiAgICBfdC5tYXAoKGEpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5NZW51Lkl0ZW0sXG4gICAgICB7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBlLm9uQ2xpY2sgJiYgZS5vbkNsaWNrKCksIGUuYmFja2dyb3VuZC5zZXRDb2xvcihhKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJkYXRhLXRlc3RcIjogXCJiYWNrZ3JvdW5kLWNvbG9yLVwiICsgYSxcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KEFlLCB7IGJhY2tncm91bmRDb2xvcjogYSwgc2l6ZTogZS5pY29uU2l6ZSB9KSxcbiAgICAgICAgY2hlY2tlZDogZS5iYWNrZ3JvdW5kLmNvbG9yID09PSBhLFxuICAgICAgICBjaGlsZHJlbjogbi5jb2xvcl9waWNrZXIuY29sb3JzW2FdXG4gICAgICB9LFxuICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yLVwiICsgYVxuICAgICkpXG4gIF0gfSkgOiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KG8sIHt9KSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3gobCwge30pXG4gIF0gfSk7XG59O1xuZnVuY3Rpb24gU3QoZSwgdCkge1xuICByZXR1cm4gYCR7ZX1Db2xvcmAgaW4gdC5zY2hlbWEuc3R5bGVTY2hlbWEgJiYgdC5zY2hlbWEuc3R5bGVTY2hlbWFbYCR7ZX1Db2xvcmBdLnR5cGUgPT09IGAke2V9Q29sb3JgICYmIHQuc2NoZW1hLnN0eWxlU2NoZW1hW2Ake2V9Q29sb3JgXS5wcm9wU2NoZW1hID09PSBcInN0cmluZ1wiO1xufVxuY29uc3QgR28gPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSB2KCksIHQgPSBfKCksIG4gPSBIKCksIG8gPSBTdChcInRleHRcIiwgbiksIGwgPSBTdChcImJhY2tncm91bmRcIiwgbiksIGEgPSBPKG4pLCBbYywgc10gPSBDKFxuICAgIG8gJiYgbi5nZXRBY3RpdmVTdHlsZXMoKS50ZXh0Q29sb3IgfHwgXCJkZWZhdWx0XCJcbiAgKSwgW3UsIGZdID0gQyhcbiAgICBsICYmIG4uZ2V0QWN0aXZlU3R5bGVzKCkuYmFja2dyb3VuZENvbG9yIHx8IFwiZGVmYXVsdFwiXG4gICk7XG4gIFcoKCkgPT4ge1xuICAgIG8gJiYgcyhuLmdldEFjdGl2ZVN0eWxlcygpLnRleHRDb2xvciB8fCBcImRlZmF1bHRcIiksIGwgJiYgZihcbiAgICAgIG4uZ2V0QWN0aXZlU3R5bGVzKCkuYmFja2dyb3VuZENvbG9yIHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfSwgbik7XG4gIGNvbnN0IG0gPSBTKFxuICAgIChrKSA9PiB7XG4gICAgICBpZiAoIW8pXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiVHJpZWQgdG8gc2V0IHRleHQgY29sb3IsIGJ1dCBzdHlsZSBkb2VzIG5vdCBleGlzdCBpbiBlZGl0b3Igc2NoZW1hLlwiXG4gICAgICAgICk7XG4gICAgICBrID09PSBcImRlZmF1bHRcIiA/IG4ucmVtb3ZlU3R5bGVzKHsgdGV4dENvbG9yOiBrIH0pIDogbi5hZGRTdHlsZXMoeyB0ZXh0Q29sb3I6IGsgfSksIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBuLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtuLCBvXVxuICApLCBiID0gUyhcbiAgICAoaykgPT4ge1xuICAgICAgaWYgKCFsKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlRyaWVkIHRvIHNldCBiYWNrZ3JvdW5kIGNvbG9yLCBidXQgc3R5bGUgZG9lcyBub3QgZXhpc3QgaW4gZWRpdG9yIHNjaGVtYS5cIlxuICAgICAgICApO1xuICAgICAgayA9PT0gXCJkZWZhdWx0XCIgPyBuLnJlbW92ZVN0eWxlcyh7IGJhY2tncm91bmRDb2xvcjogayB9KSA6IG4uYWRkU3R5bGVzKHsgYmFja2dyb3VuZENvbG9yOiBrIH0pLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbi5mb2N1cygpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbbCwgbl1cbiAgKTtcbiAgcmV0dXJuIFQoKCkgPT4ge1xuICAgIGlmICghbyAmJiAhbClcbiAgICAgIHJldHVybiAhMTtcbiAgICBmb3IgKGNvbnN0IGsgb2YgYSlcbiAgICAgIGlmIChrLmNvbnRlbnQgIT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIHJldHVybiAhMTtcbiAgfSwgW2wsIGEsIG9dKSA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoZS5HZW5lcmljLk1lbnUuUm9vdCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChlLkdlbmVyaWMuTWVudS5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBlLkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICBcImRhdGEtdGVzdFwiOiBcImNvbG9yc1wiLFxuICAgICAgICBsYWJlbDogdC5mb3JtYXR0aW5nX3Rvb2xiYXIuY29sb3JzLnRvb2x0aXAsXG4gICAgICAgIG1haW5Ub29sdGlwOiB0LmZvcm1hdHRpbmdfdG9vbGJhci5jb2xvcnMudG9vbHRpcCxcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgIEFlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHRDb2xvcjogYyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdSxcbiAgICAgICAgICAgIHNpemU6IDIwXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBlLkdlbmVyaWMuTWVudS5Ecm9wZG93bixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLW1lbnUtZHJvcGRvd24gYm4tY29sb3ItcGlja2VyLWRyb3Bkb3duXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgbm4sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogbyA/IHtcbiAgICAgICAgICAgICAgY29sb3I6IGMsXG4gICAgICAgICAgICAgIHNldENvbG9yOiBtXG4gICAgICAgICAgICB9IDogdm9pZCAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogbCA/IHtcbiAgICAgICAgICAgICAgY29sb3I6IHUsXG4gICAgICAgICAgICAgIHNldENvbG9yOiBiXG4gICAgICAgICAgICB9IDogdm9pZCAwXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICBdIH0pIDogbnVsbDtcbn0sIG9uID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IF8oKSwgeyB1cmw6IG8sIHRleHQ6IGwsIGVkaXRMaW5rOiBhIH0gPSBlLCBbYywgc10gPSBDKG8pLCBbdSwgZl0gPSBDKGwpO1xuICBMKCgpID0+IHtcbiAgICBzKG8pLCBmKGwpO1xuICB9LCBbbCwgb10pO1xuICBjb25zdCBtID0gUyhcbiAgICAoVikgPT4ge1xuICAgICAgVi5rZXkgPT09IFwiRW50ZXJcIiAmJiAoVi5wcmV2ZW50RGVmYXVsdCgpLCBhKGMsIHUpKTtcbiAgICB9LFxuICAgIFthLCBjLCB1XVxuICApLCBiID0gUyhcbiAgICAoVikgPT4gcyhWLmN1cnJlbnRUYXJnZXQudmFsdWUpLFxuICAgIFtdXG4gICksIGcgPSBTKFxuICAgIChWKSA9PiBmKFYuY3VycmVudFRhcmdldC52YWx1ZSksXG4gICAgW11cbiAgKSwgayA9IFMoXG4gICAgKCkgPT4gYShjLCB1KSxcbiAgICBbYSwgYywgdV1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLkZvcm0uUm9vdCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5Gb3JtLlRleHRJbnB1dCxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLXRleHQtaW5wdXRcIixcbiAgICAgICAgbmFtZTogXCJ1cmxcIixcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KFh0LCB7fSksXG4gICAgICAgIGF1dG9Gb2N1czogITAsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBuLmxpbmtfdG9vbGJhci5mb3JtLnVybF9wbGFjZWhvbGRlcixcbiAgICAgICAgdmFsdWU6IGMsXG4gICAgICAgIG9uS2V5RG93bjogbSxcbiAgICAgICAgb25DaGFuZ2U6IGIsXG4gICAgICAgIG9uU3VibWl0OiBrXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuRm9ybS5UZXh0SW5wdXQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi10ZXh0LWlucHV0XCIsXG4gICAgICAgIG5hbWU6IFwidGl0bGVcIixcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KEdlLCB7fSksXG4gICAgICAgIHBsYWNlaG9sZGVyOiBuLmxpbmtfdG9vbGJhci5mb3JtLnRpdGxlX3BsYWNlaG9sZGVyLFxuICAgICAgICB2YWx1ZTogdSxcbiAgICAgICAgb25LZXlEb3duOiBtLFxuICAgICAgICBvbkNoYW5nZTogZyxcbiAgICAgICAgb25TdWJtaXQ6IGtcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59O1xuZnVuY3Rpb24gJG8oZSkge1xuICByZXR1cm4gXCJsaW5rXCIgaW4gZS5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSAmJiBlLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLmxpbmsgPT09IFwibGlua1wiO1xufVxuY29uc3QgcW8gPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBIKCksIHQgPSB2KCksIG4gPSBfKCksIG8gPSAkbyhlKSwgbCA9IE8oZSksIFthLCBjXSA9IEMoZS5nZXRTZWxlY3RlZExpbmtVcmwoKSB8fCBcIlwiKSwgW3MsIHVdID0gQyhlLmdldFNlbGVjdGVkVGV4dCgpKTtcbiAgVygoKSA9PiB7XG4gICAgdShlLmdldFNlbGVjdGVkVGV4dCgpIHx8IFwiXCIpLCBjKGUuZ2V0U2VsZWN0ZWRMaW5rVXJsKCkgfHwgXCJcIik7XG4gIH0sIGUpO1xuICBjb25zdCBmID0gUyhcbiAgICAoYiwgZykgPT4ge1xuICAgICAgZS5jcmVhdGVMaW5rKGIsIGcpLCBlLmZvY3VzKCk7XG4gICAgfSxcbiAgICBbZV1cbiAgKTtcbiAgcmV0dXJuICFUKCgpID0+IHtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm4gITE7XG4gICAgZm9yIChjb25zdCBiIG9mIGwpXG4gICAgICBpZiAoYi5jb250ZW50ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybiAhMTtcbiAgICByZXR1cm4gITA7XG4gIH0sIFtvLCBsXSkgfHwgIShcImxpbmtcIiBpbiBlLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hKSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHQuR2VuZXJpYy5Qb3BvdmVyLlJvb3QsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLlBvcG92ZXIuVHJpZ2dlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgICAgXCJkYXRhLXRlc3RcIjogXCJjcmVhdGVMaW5rXCIsXG4gICAgICAgIGxhYmVsOiBuLmZvcm1hdHRpbmdfdG9vbGJhci5saW5rLnRvb2x0aXAsXG4gICAgICAgIG1haW5Ub29sdGlwOiBuLmZvcm1hdHRpbmdfdG9vbGJhci5saW5rLnRvb2x0aXAsXG4gICAgICAgIHNlY29uZGFyeVRvb2x0aXA6IHZlKFxuICAgICAgICAgIG4uZm9ybWF0dGluZ190b29sYmFyLmxpbmsuc2Vjb25kYXJ5X3Rvb2x0aXAsXG4gICAgICAgICAgbi5nZW5lcmljLmN0cmxfc2hvcnRjdXRcbiAgICAgICAgKSxcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KFh0LCB7fSlcbiAgICAgIH1cbiAgICApIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5Qb3BvdmVyLkNvbnRlbnQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1wb3BvdmVyLWNvbnRlbnQgYm4tZm9ybS1wb3BvdmVyXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZm9ybS1wb3BvdmVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3gob24sIHsgdXJsOiBhLCB0ZXh0OiBzLCBlZGl0TGluazogZiB9KVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn0sIFlvID0gKCkgPT4ge1xuICBjb25zdCBlID0gXygpLCB0ID0gdigpLCBuID0gSCgpLCBbbywgbF0gPSBDKCksIGEgPSBPKG4pLCBjID0gVCgoKSA9PiB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSAxKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGYgPSBhWzBdO1xuICAgIGlmIChvZShmLCBuKSlcbiAgICAgIHJldHVybiBsKGYucHJvcHMuY2FwdGlvbiksIGY7XG4gIH0sIFtuLCBhXSksIHMgPSBTKFxuICAgIChmKSA9PiB7XG4gICAgICBjICYmIGYua2V5ID09PSBcIkVudGVyXCIgJiYgKGYucHJldmVudERlZmF1bHQoKSwgbi51cGRhdGVCbG9jayhjLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgY2FwdGlvbjogb1xuICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW28sIG4sIGNdXG4gICksIHUgPSBTKFxuICAgIChmKSA9PiBsKGYuY3VycmVudFRhcmdldC52YWx1ZSksXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuICFjIHx8IHJlKGMsIG4pID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLlBvcG92ZXIuUm9vdCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuUG9wb3Zlci5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICBsYWJlbDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9jYXB0aW9uLnRvb2x0aXAsXG4gICAgICAgIG1haW5Ub29sdGlwOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX2NhcHRpb24udG9vbHRpcCxcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KEh0LCB7fSksXG4gICAgICAgIGlzU2VsZWN0ZWQ6IGMucHJvcHMuY2FwdGlvbiAhPT0gXCJcIlxuICAgICAgfVxuICAgICkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5HZW5lcmljLlBvcG92ZXIuQ29udGVudCxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLXBvcG92ZXItY29udGVudCBibi1mb3JtLXBvcG92ZXJcIixcbiAgICAgICAgdmFyaWFudDogXCJmb3JtLXBvcG92ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuRm9ybS5Sb290LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgdC5HZW5lcmljLkZvcm0uVGV4dElucHV0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiZmlsZS1jYXB0aW9uXCIsXG4gICAgICAgICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goSHQsIHt9KSxcbiAgICAgICAgICAgIHZhbHVlOiBvIHx8IFwiXCIsXG4gICAgICAgICAgICBhdXRvRm9jdXM6ICEwLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfY2FwdGlvbi5pbnB1dF9wbGFjZWhvbGRlcixcbiAgICAgICAgICAgIG9uS2V5RG93bjogcyxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB1XG4gICAgICAgICAgfVxuICAgICAgICApIH0pXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufSwgS28gPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBfKCksIHQgPSB2KCksIG4gPSBIKCksIG8gPSBPKG4pLCBbbCwgYV0gPSBDKFxuICAgICgpID0+IG4uY2FuTmVzdEJsb2NrKClcbiAgKTtcbiAgVygoKSA9PiB7XG4gICAgYShuLmNhbk5lc3RCbG9jaygpKTtcbiAgfSwgbik7XG4gIGNvbnN0IGMgPSBTKCgpID0+IHtcbiAgICBuLmZvY3VzKCksIG4ubmVzdEJsb2NrKCk7XG4gIH0sIFtuXSk7XG4gIHJldHVybiBUKCgpID0+ICFvLmZpbmQoXG4gICAgKHUpID0+IG4uc2NoZW1hLmJsb2NrU2NoZW1hW3UudHlwZV0uY29udGVudCAhPT0gXCJpbmxpbmVcIlxuICApLCBbbi5zY2hlbWEuYmxvY2tTY2hlbWEsIG9dKSA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICBcImRhdGEtdGVzdFwiOiBcIm5lc3RCbG9ja1wiLFxuICAgICAgb25DbGljazogYyxcbiAgICAgIGlzRGlzYWJsZWQ6ICFsLFxuICAgICAgbGFiZWw6IGUuZm9ybWF0dGluZ190b29sYmFyLm5lc3QudG9vbHRpcCxcbiAgICAgIG1haW5Ub29sdGlwOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5uZXN0LnRvb2x0aXAsXG4gICAgICBzZWNvbmRhcnlUb29sdGlwOiB2ZShcbiAgICAgICAgZS5mb3JtYXR0aW5nX3Rvb2xiYXIubmVzdC5zZWNvbmRhcnlfdG9vbHRpcCxcbiAgICAgICAgZS5nZW5lcmljLmN0cmxfc2hvcnRjdXRcbiAgICAgICksXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goRW8sIHt9KVxuICAgIH1cbiAgKSA6IG51bGw7XG59LCBYbyA9ICgpID0+IHtcbiAgY29uc3QgZSA9IF8oKSwgdCA9IHYoKSwgbiA9IEgoKSwgbyA9IE8obiksIFtsLCBhXSA9IEMoXG4gICAgKCkgPT4gbi5jYW5Vbm5lc3RCbG9jaygpXG4gICk7XG4gIFcoKCkgPT4ge1xuICAgIGEobi5jYW5Vbm5lc3RCbG9jaygpKTtcbiAgfSwgbik7XG4gIGNvbnN0IGMgPSBTKCgpID0+IHtcbiAgICBuLmZvY3VzKCksIG4udW5uZXN0QmxvY2soKTtcbiAgfSwgW25dKTtcbiAgcmV0dXJuIFQoKCkgPT4gIW8uZmluZChcbiAgICAodSkgPT4gbi5zY2hlbWEuYmxvY2tTY2hlbWFbdS50eXBlXS5jb250ZW50ICE9PSBcImlubGluZVwiXG4gICksIFtuLnNjaGVtYS5ibG9ja1NjaGVtYSwgb10pID8gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuRm9ybWF0dGluZ1Rvb2xiYXIuQnV0dG9uLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgIFwiZGF0YS10ZXN0XCI6IFwidW5uZXN0QmxvY2tcIixcbiAgICAgIG9uQ2xpY2s6IGMsXG4gICAgICBpc0Rpc2FibGVkOiAhbCxcbiAgICAgIGxhYmVsOiBlLmZvcm1hdHRpbmdfdG9vbGJhci51bm5lc3QudG9vbHRpcCxcbiAgICAgIG1haW5Ub29sdGlwOiBlLmZvcm1hdHRpbmdfdG9vbGJhci51bm5lc3QudG9vbHRpcCxcbiAgICAgIHNlY29uZGFyeVRvb2x0aXA6IHZlKFxuICAgICAgICBlLmZvcm1hdHRpbmdfdG9vbGJhci51bm5lc3Quc2Vjb25kYXJ5X3Rvb2x0aXAsXG4gICAgICAgIGUuZ2VuZXJpYy5jdHJsX3Nob3J0Y3V0XG4gICAgICApLFxuICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KFZvLCB7fSlcbiAgICB9XG4gICkgOiBudWxsO1xufSwgSm8gPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gdigpLCBuID0gXygpLCB7IGJsb2NrOiBvIH0gPSBlLCBsID0gSCgpLCBbYSwgY10gPSBDKFwiXCIpLCBzID0gUyhcbiAgICAobSkgPT4ge1xuICAgICAgYyhtLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuICAgIH0sXG4gICAgW11cbiAgKSwgdSA9IFMoXG4gICAgKG0pID0+IHtcbiAgICAgIG0ua2V5ID09PSBcIkVudGVyXCIgJiYgKG0ucHJldmVudERlZmF1bHQoKSwgbC51cGRhdGVCbG9jayhvLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgbmFtZTogeHQoYSksXG4gICAgICAgICAgdXJsOiBhLFxuICAgICAgICAgIGZpbGVJZDogdm9pZCAwXG4gICAgICAgICAgLy8gVE9ETzogbWFrZSB0aGlzIHBsdWdnYWJsZSAvIG5vdCBoYXJkLWNvZGVkXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFtsLCBvLCBhXVxuICApLCBmID0gUygoKSA9PiB7XG4gICAgbC51cGRhdGVCbG9jayhvLCB7XG4gICAgICBwcm9wczoge1xuICAgICAgICBuYW1lOiB4dChhKSxcbiAgICAgICAgdXJsOiBhLFxuICAgICAgICBmaWxlSWQ6IHZvaWQgMFxuICAgICAgICAvLyBUT0RPOiBtYWtlIHRoaXMgcGx1Z2dhYmxlIC8gbm90IGhhcmQtY29kZWRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2wsIG8sIGFdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5GaWxlUGFuZWwuVGFiUGFuZWwsIHsgY2xhc3NOYW1lOiBcImJuLXRhYi1wYW5lbFwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuRmlsZVBhbmVsLlRleHRJbnB1dCxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLXRleHQtaW5wdXRcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IG4uZmlsZV9wYW5lbC5lbWJlZC51cmxfcGxhY2Vob2xkZXIsXG4gICAgICAgIHZhbHVlOiBhLFxuICAgICAgICBvbkNoYW5nZTogcyxcbiAgICAgICAgb25LZXlEb3duOiB1LFxuICAgICAgICBcImRhdGEtdGVzdFwiOiBcImVtYmVkLWlucHV0XCJcbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuRmlsZVBhbmVsLkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICBvbkNsaWNrOiBmLFxuICAgICAgICBcImRhdGEtdGVzdFwiOiBcImVtYmVkLWlucHV0LWJ1dHRvblwiLFxuICAgICAgICBjaGlsZHJlbjogbi5maWxlX3BhbmVsLmVtYmVkLmVtYmVkX2J1dHRvbltvLnR5cGVdXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufSwgUW8gPSAoZSkgPT4ge1xuICB2YXIgYjtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IF8oKSwgeyBibG9jazogbywgc2V0TG9hZGluZzogbCB9ID0gZSwgYSA9IEgoKSwgW2MsIHNdID0gQyghMSk7XG4gIEwoKCkgPT4ge1xuICAgIGMgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzKCExKTtcbiAgICB9LCAzZTMpO1xuICB9LCBbY10pO1xuICBjb25zdCB1ID0gUyhcbiAgICAoZykgPT4ge1xuICAgICAgaWYgKGcgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGFzeW5jIGZ1bmN0aW9uIGsoVikge1xuICAgICAgICBpZiAobCghMCksIGEudXBsb2FkRmlsZSAhPT0gdm9pZCAwKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgRiA9IGF3YWl0IGEudXBsb2FkRmlsZShWKTtcbiAgICAgICAgICAgIHR5cGVvZiBGID09IFwic3RyaW5nXCIgJiYgKEYgPSB7XG4gICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogVi5uYW1lLFxuICAgICAgICAgICAgICAgIHVybDogRlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgYS51cGRhdGVCbG9jayhvLCBGKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHMoITApO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBsKCExKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBrKGcpO1xuICAgIH0sXG4gICAgW28sIGEsIGxdXG4gICksIGYgPSBhLnNjaGVtYS5ibG9ja1NjaGVtYVtvLnR5cGVdLCBtID0gZi5pc0ZpbGVCbG9jayAmJiAoKGIgPSBmLmZpbGVCbG9ja0FjY2VwdE1pbWVUeXBlcykgIT0gbnVsbCAmJiBiLmxlbmd0aCkgPyBmLmZpbGVCbG9ja0FjY2VwdE1pbWVUeXBlcy5qb2luKFwiLFwiKSA6IFwiKi8qXCI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHQuRmlsZVBhbmVsLlRhYlBhbmVsLCB7IGNsYXNzTmFtZTogXCJibi10YWItcGFuZWxcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkZpbGVQYW5lbC5GaWxlSW5wdXQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1maWxlLWlucHV0XCIsXG4gICAgICAgIFwiZGF0YS10ZXN0XCI6IFwidXBsb2FkLWlucHV0XCIsXG4gICAgICAgIGFjY2VwdDogbSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IG4uZmlsZV9wYW5lbC51cGxvYWQuZmlsZV9wbGFjZWhvbGRlcltvLnR5cGVdLFxuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgb25DaGFuZ2U6IHVcbiAgICAgIH1cbiAgICApLFxuICAgIGMgJiYgLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWVycm9yLXRleHRcIiwgY2hpbGRyZW46IG4uZmlsZV9wYW5lbC51cGxvYWQudXBsb2FkX2Vycm9yIH0pXG4gIF0gfSk7XG59LCBybiA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCksIG4gPSBfKCksIG8gPSBIKCksIFtsLCBhXSA9IEMoITEpLCBjID0gZS50YWJzID8/IFtcbiAgICAuLi5vLnVwbG9hZEZpbGUgIT09IHZvaWQgMCA/IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogbi5maWxlX3BhbmVsLnVwbG9hZC50aXRsZSxcbiAgICAgICAgdGFiUGFuZWw6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChRbywgeyBibG9jazogZS5ibG9jaywgc2V0TG9hZGluZzogYSB9KVxuICAgICAgfVxuICAgIF0gOiBbXSxcbiAgICB7XG4gICAgICBuYW1lOiBuLmZpbGVfcGFuZWwuZW1iZWQudGl0bGUsXG4gICAgICB0YWJQYW5lbDogLyogQF9fUFVSRV9fICovIHIuanN4KEpvLCB7IGJsb2NrOiBlLmJsb2NrIH0pXG4gICAgfVxuICBdLCBbcywgdV0gPSBDKFxuICAgIGUuZGVmYXVsdE9wZW5UYWIgfHwgY1swXS5uYW1lXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5GaWxlUGFuZWwuUm9vdCxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tcGFuZWxcIixcbiAgICAgIGRlZmF1bHRPcGVuVGFiOiBzLFxuICAgICAgb3BlblRhYjogcyxcbiAgICAgIHNldE9wZW5UYWI6IHUsXG4gICAgICB0YWJzOiBjLFxuICAgICAgbG9hZGluZzogbFxuICAgIH1cbiAgKTtcbn0sIGVyID0gKCkgPT4ge1xuICBjb25zdCBlID0gXygpLCB0ID0gdigpLCBuID0gSCgpLCBvID0gTyhuKSwgW2wsIGFdID0gQyghMSk7XG4gIEwoKCkgPT4ge1xuICAgIGEoITEpO1xuICB9LCBbb10pO1xuICBjb25zdCBjID0gby5sZW5ndGggPT09IDEgPyBvWzBdIDogdm9pZCAwO1xuICByZXR1cm4gYyA9PT0gdm9pZCAwIHx8ICFvZShjLCBuKSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHQuR2VuZXJpYy5Qb3BvdmVyLlJvb3QsIHsgb3BlbmVkOiBsLCBwb3NpdGlvbjogXCJib3R0b21cIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLlBvcG92ZXIuVHJpZ2dlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgICAgb25DbGljazogKCkgPT4gYSghbCksXG4gICAgICAgIGlzU2VsZWN0ZWQ6IGwsXG4gICAgICAgIG1haW5Ub29sdGlwOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX3JlcGxhY2UudG9vbHRpcFtjLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVwbGFjZS50b29sdGlwLmZpbGUsXG4gICAgICAgIGxhYmVsOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX3JlcGxhY2UudG9vbHRpcFtjLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVwbGFjZS50b29sdGlwLmZpbGUsXG4gICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChEbywge30pXG4gICAgICB9XG4gICAgKSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuUG9wb3Zlci5Db250ZW50LFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tcG9wb3Zlci1jb250ZW50IGJuLXBhbmVsLXBvcG92ZXJcIixcbiAgICAgICAgdmFyaWFudDogXCJwYW5lbC1wb3BvdmVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3gocm4sIHsgYmxvY2s6IGMgfSlcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59LCB0ciA9IHtcbiAgbGVmdDogU28sXG4gIGNlbnRlcjogSG8sXG4gIHJpZ2h0OiBNbyxcbiAganVzdGlmeTogX29cbn0sIE5lID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IF8oKSwgbyA9IEgoKSwgbCA9IE8obyksIGEgPSBUKCgpID0+IHtcbiAgICBjb25zdCBmID0gbFswXTtcbiAgICBpZiAoRGUoXCJ0ZXh0QWxpZ25tZW50XCIsIGYsIG8pKVxuICAgICAgcmV0dXJuIGYucHJvcHMudGV4dEFsaWdubWVudDtcbiAgfSwgW28sIGxdKSwgYyA9IFMoXG4gICAgKGYpID0+IHtcbiAgICAgIG8uZm9jdXMoKTtcbiAgICAgIGZvciAoY29uc3QgbSBvZiBsKVxuICAgICAgICB0ZShcInRleHRBbGlnbm1lbnRcIiwgbS50eXBlLCBvKSAmJiBvLnVwZGF0ZUJsb2NrKG0sIHtcbiAgICAgICAgICBwcm9wczogeyB0ZXh0QWxpZ25tZW50OiBmIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBbbywgbF1cbiAgKTtcbiAgaWYgKCFUKCgpID0+ICEhbC5maW5kKChmKSA9PiBcInRleHRBbGlnbm1lbnRcIiBpbiBmLnByb3BzKSwgW2xdKSlcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgdSA9IHRyW2UudGV4dEFsaWdubWVudF07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgXCJkYXRhLXRlc3RcIjogYGFsaWduVGV4dCR7ZS50ZXh0QWxpZ25tZW50LnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBlLnRleHRBbGlnbm1lbnQuc2xpY2UoMSl9YCxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IGMoZS50ZXh0QWxpZ25tZW50KSxcbiAgICAgIGlzU2VsZWN0ZWQ6IGEgPT09IGUudGV4dEFsaWdubWVudCxcbiAgICAgIGxhYmVsOiBuLmZvcm1hdHRpbmdfdG9vbGJhcltgYWxpZ25fJHtlLnRleHRBbGlnbm1lbnR9YF0udG9vbHRpcCxcbiAgICAgIG1haW5Ub29sdGlwOiBuLmZvcm1hdHRpbmdfdG9vbGJhcltgYWxpZ25fJHtlLnRleHRBbGlnbm1lbnR9YF0udG9vbHRpcCxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh1LCB7fSlcbiAgICB9XG4gICk7XG59LCBuciA9IChlKSA9PiBbXG4gIHtcbiAgICBuYW1lOiBlLnNsYXNoX21lbnUucGFyYWdyYXBoLnRpdGxlLFxuICAgIHR5cGU6IFwicGFyYWdyYXBoXCIsXG4gICAgaWNvbjogR2UsXG4gICAgaXNTZWxlY3RlZDogKHQpID0+IHQudHlwZSA9PT0gXCJwYXJhZ3JhcGhcIlxuICB9LFxuICB7XG4gICAgbmFtZTogZS5zbGFzaF9tZW51LmhlYWRpbmcudGl0bGUsXG4gICAgdHlwZTogXCJoZWFkaW5nXCIsXG4gICAgcHJvcHM6IHsgbGV2ZWw6IDEgfSxcbiAgICBpY29uOiBxdCxcbiAgICBpc1NlbGVjdGVkOiAodCkgPT4gdC50eXBlID09PSBcImhlYWRpbmdcIiAmJiBcImxldmVsXCIgaW4gdC5wcm9wcyAmJiB0LnByb3BzLmxldmVsID09PSAxXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBlLnNsYXNoX21lbnUuaGVhZGluZ18yLnRpdGxlLFxuICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgIHByb3BzOiB7IGxldmVsOiAyIH0sXG4gICAgaWNvbjogWXQsXG4gICAgaXNTZWxlY3RlZDogKHQpID0+IHQudHlwZSA9PT0gXCJoZWFkaW5nXCIgJiYgXCJsZXZlbFwiIGluIHQucHJvcHMgJiYgdC5wcm9wcy5sZXZlbCA9PT0gMlxuICB9LFxuICB7XG4gICAgbmFtZTogZS5zbGFzaF9tZW51LmhlYWRpbmdfMy50aXRsZSxcbiAgICB0eXBlOiBcImhlYWRpbmdcIixcbiAgICBwcm9wczogeyBsZXZlbDogMyB9LFxuICAgIGljb246IEt0LFxuICAgIGlzU2VsZWN0ZWQ6ICh0KSA9PiB0LnR5cGUgPT09IFwiaGVhZGluZ1wiICYmIFwibGV2ZWxcIiBpbiB0LnByb3BzICYmIHQucHJvcHMubGV2ZWwgPT09IDNcbiAgfSxcbiAge1xuICAgIG5hbWU6IGUuc2xhc2hfbWVudS5idWxsZXRfbGlzdC50aXRsZSxcbiAgICB0eXBlOiBcImJ1bGxldExpc3RJdGVtXCIsXG4gICAgaWNvbjogUXQsXG4gICAgaXNTZWxlY3RlZDogKHQpID0+IHQudHlwZSA9PT0gXCJidWxsZXRMaXN0SXRlbVwiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBlLnNsYXNoX21lbnUubnVtYmVyZWRfbGlzdC50aXRsZSxcbiAgICB0eXBlOiBcIm51bWJlcmVkTGlzdEl0ZW1cIixcbiAgICBpY29uOiBKdCxcbiAgICBpc1NlbGVjdGVkOiAodCkgPT4gdC50eXBlID09PSBcIm51bWJlcmVkTGlzdEl0ZW1cIlxuICB9XG5dLCBvciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCksIG4gPSBfKCksIG8gPSBIKCksIGwgPSBPKG8pLCBbYSwgY10gPSBDKG8uZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2spLCBzID0gVCgoKSA9PiAoZS5pdGVtcyB8fCBucihuKSkuZmlsdGVyKFxuICAgIChtKSA9PiBtLnR5cGUgaW4gby5zY2hlbWEuYmxvY2tTY2hlbWFcbiAgKSwgW28sIG4sIGUuaXRlbXNdKSwgdSA9IFQoXG4gICAgKCkgPT4gcy5maW5kKChtKSA9PiBtLnR5cGUgPT09IGEudHlwZSkgIT09IHZvaWQgMCxcbiAgICBbYS50eXBlLCBzXVxuICApLCBmID0gVCgoKSA9PiB7XG4gICAgY29uc3QgbSA9IChiKSA9PiB7XG4gICAgICBvLmZvY3VzKCk7XG4gICAgICBmb3IgKGNvbnN0IGcgb2YgbClcbiAgICAgICAgby51cGRhdGVCbG9jayhnLCB7XG4gICAgICAgICAgdHlwZTogYi50eXBlLFxuICAgICAgICAgIHByb3BzOiBiLnByb3BzXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHMubWFwKChiKSA9PiB7XG4gICAgICBjb25zdCBnID0gYi5pY29uO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogYi5uYW1lLFxuICAgICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goZywgeyBzaXplOiAxNiB9KSxcbiAgICAgICAgb25DbGljazogKCkgPT4gbShiKSxcbiAgICAgICAgaXNTZWxlY3RlZDogYi5pc1NlbGVjdGVkKGEpXG4gICAgICB9O1xuICAgIH0pO1xuICB9LCBbYSwgcywgbywgbF0pO1xuICByZXR1cm4gVygoKSA9PiB7XG4gICAgYyhvLmdldFRleHRDdXJzb3JQb3NpdGlvbigpLmJsb2NrKTtcbiAgfSwgbyksIHUgPyAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5TZWxlY3QsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLXNlbGVjdFwiLFxuICAgICAgaXRlbXM6IGZcbiAgICB9XG4gICkgOiBudWxsO1xufSwgcnIgPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBfKCksIHQgPSB2KCksIG4gPSBIKCksIFtvLCBsXSA9IEMoKSwgYSA9IE8obiksIGMgPSBUKCgpID0+IHtcbiAgICBpZiAoYS5sZW5ndGggIT09IDEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZiA9IGFbMF07XG4gICAgaWYgKG9lKGYsIG4pKVxuICAgICAgcmV0dXJuIGwoZi5wcm9wcy5uYW1lKSwgZjtcbiAgfSwgW24sIGFdKSwgcyA9IFMoXG4gICAgKGYpID0+IHtcbiAgICAgIGMgJiYgZi5rZXkgPT09IFwiRW50ZXJcIiAmJiAoZi5wcmV2ZW50RGVmYXVsdCgpLCBuLnVwZGF0ZUJsb2NrKGMsIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBuYW1lOiBvXG4gICAgICAgICAgLy8gVE9ET1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbbywgbiwgY11cbiAgKSwgdSA9IFMoXG4gICAgKGYpID0+IGwoZi5jdXJyZW50VGFyZ2V0LnZhbHVlKSxcbiAgICBbXVxuICApO1xuICByZXR1cm4gIWMgfHwgcmUoYywgbikgPyBudWxsIDogLyogQF9fUFVSRV9fICovIHIuanN4cyh0LkdlbmVyaWMuUG9wb3Zlci5Sb290LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KHQuR2VuZXJpYy5Qb3BvdmVyLlRyaWdnZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuRm9ybWF0dGluZ1Rvb2xiYXIuQnV0dG9uLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICAgIGxhYmVsOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX3JlbmFtZS50b29sdGlwW2MudHlwZV0gfHwgZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9yZW5hbWUudG9vbHRpcC5maWxlLFxuICAgICAgICBtYWluVG9vbHRpcDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9yZW5hbWUudG9vbHRpcFtjLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVuYW1lLnRvb2x0aXAuZmlsZSxcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KHd0LCB7fSlcbiAgICAgIH1cbiAgICApIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5Qb3BvdmVyLkNvbnRlbnQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1wb3BvdmVyLWNvbnRlbnQgYm4tZm9ybS1wb3BvdmVyXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZm9ybS1wb3BvdmVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLkZvcm0uUm9vdCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgIHQuR2VuZXJpYy5Gb3JtLlRleHRJbnB1dCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcImZpbGUtbmFtZVwiLFxuICAgICAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KHd0LCB7fSksXG4gICAgICAgICAgICB2YWx1ZTogbyB8fCBcIlwiLFxuICAgICAgICAgICAgYXV0b0ZvY3VzOiAhMCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX3JlbmFtZS5pbnB1dF9wbGFjZWhvbGRlcltjLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVuYW1lLmlucHV0X3BsYWNlaG9sZGVyLmZpbGUsXG4gICAgICAgICAgICBvbktleURvd246IHMsXG4gICAgICAgICAgICBvbkNoYW5nZTogdVxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn0sIGlyID0gKCkgPT4ge1xuICBjb25zdCBlID0gXygpLCB0ID0gdigpLCBuID0gSCgpLCBvID0gTyhuKSwgbCA9IFQoKCkgPT4ge1xuICAgIGlmIChvLmxlbmd0aCAhPT0gMSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBjID0gb1swXTtcbiAgICBpZiAob2UoYywgbikpXG4gICAgICByZXR1cm4gYztcbiAgfSwgW24sIG9dKSwgYSA9IFMoKCkgPT4ge1xuICAgIGwgJiYgbC5wcm9wcy51cmwgJiYgKG4uZm9jdXMoKSwgd2luZG93Lm9wZW4obC5wcm9wcy51cmwpKTtcbiAgfSwgW24sIGxdKTtcbiAgcmV0dXJuICFsIHx8IHJlKGwsIG4pID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICBsYWJlbDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9kb3dubG9hZC50b29sdGlwW2wudHlwZV0gfHwgZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9kb3dubG9hZC50b29sdGlwLmZpbGUsXG4gICAgICBtYWluVG9vbHRpcDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9kb3dubG9hZC50b29sdGlwW2wudHlwZV0gfHwgZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9kb3dubG9hZC50b29sdGlwLmZpbGUsXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goWm8sIHt9KSxcbiAgICAgIG9uQ2xpY2s6IGFcbiAgICB9XG4gICk7XG59LCBsciA9ICgpID0+IHtcbiAgY29uc3QgZSA9IF8oKSwgdCA9IHYoKSwgbiA9IEgoKSwgbyA9IE8obiksIGwgPSBUKCgpID0+IHtcbiAgICBpZiAoby5sZW5ndGggIT09IDEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYyA9IG9bMF07XG4gICAgaWYgKERuKGMsIG4pKVxuICAgICAgcmV0dXJuIGM7XG4gIH0sIFtuLCBvXSksIGEgPSBTKCgpID0+IHtcbiAgICBsICYmIG4udXBkYXRlQmxvY2sobCwge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgc2hvd1ByZXZpZXc6ICFsLnByb3BzLnNob3dQcmV2aWV3XG4gICAgICAgIC8vIFRPRE9cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW24sIGxdKTtcbiAgcmV0dXJuICFsIHx8IHJlKGwsIG4pID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICBsYWJlbDogXCJUb2dnbGUgcHJldmlld1wiLFxuICAgICAgbWFpblRvb2x0aXA6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcHJldmlld190b2dnbGUudG9vbHRpcCxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChPbywge30pLFxuICAgICAgaXNTZWxlY3RlZDogbC5wcm9wcy5zaG93UHJldmlldyxcbiAgICAgIG9uQ2xpY2s6IGFcbiAgICB9XG4gICk7XG59LCBhciA9ICgpID0+IHtcbiAgY29uc3QgZSA9IF8oKSwgdCA9IHYoKSwgbiA9IEgoKSwgbyA9IE8obiksIGwgPSBUKCgpID0+IHtcbiAgICBpZiAoby5sZW5ndGggIT09IDEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYyA9IG9bMF07XG4gICAgaWYgKG9lKGMsIG4pKVxuICAgICAgcmV0dXJuIGM7XG4gIH0sIFtuLCBvXSksIGEgPSBTKCgpID0+IHtcbiAgICBuLmZvY3VzKCksIG4ucmVtb3ZlQmxvY2tzKFtsXSk7XG4gIH0sIFtuLCBsXSk7XG4gIHJldHVybiAhbCB8fCByZShsLCBuKSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgbGFiZWw6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfZGVsZXRlLnRvb2x0aXBbbC50eXBlXSB8fCBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX2RlbGV0ZS50b29sdGlwLmZpbGUsXG4gICAgICBtYWluVG9vbHRpcDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9kZWxldGUudG9vbHRpcFtsLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfZGVsZXRlLnRvb2x0aXAuZmlsZSxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChBbywge30pLFxuICAgICAgb25DbGljazogYVxuICAgIH1cbiAgKTtcbn0sIGNyID0gKGUpID0+IFtcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KG9yLCB7IGl0ZW1zOiBlIH0sIFwiYmxvY2tUeXBlU2VsZWN0XCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goWW8sIHt9LCBcImZpbGVDYXB0aW9uQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goZXIsIHt9LCBcInJlcGxhY2VGaWxlQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3gocnIsIHt9LCBcImZpbGVSZW5hbWVCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChhciwge30sIFwiZmlsZURlbGV0ZUJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KGlyLCB7fSwgXCJmaWxlRG93bmxvYWRCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChsciwge30sIFwiZmlsZVByZXZpZXdCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChmZSwgeyBiYXNpY1RleHRTdHlsZTogXCJib2xkXCIgfSwgXCJib2xkU3R5bGVCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChmZSwgeyBiYXNpY1RleHRTdHlsZTogXCJpdGFsaWNcIiB9LCBcIml0YWxpY1N0eWxlQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgZmUsXG4gICAge1xuICAgICAgYmFzaWNUZXh0U3R5bGU6IFwidW5kZXJsaW5lXCJcbiAgICB9LFxuICAgIFwidW5kZXJsaW5lU3R5bGVCdXR0b25cIlxuICApLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goZmUsIHsgYmFzaWNUZXh0U3R5bGU6IFwic3RyaWtlXCIgfSwgXCJzdHJpa2VTdHlsZUJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KE5lLCB7IHRleHRBbGlnbm1lbnQ6IFwibGVmdFwiIH0sIFwidGV4dEFsaWduTGVmdEJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KE5lLCB7IHRleHRBbGlnbm1lbnQ6IFwiY2VudGVyXCIgfSwgXCJ0ZXh0QWxpZ25DZW50ZXJCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChOZSwgeyB0ZXh0QWxpZ25tZW50OiBcInJpZ2h0XCIgfSwgXCJ0ZXh0QWxpZ25SaWdodEJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KEdvLCB7fSwgXCJjb2xvclN0eWxlQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goS28sIHt9LCBcIm5lc3RCbG9ja0J1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KFhvLCB7fSwgXCJ1bm5lc3RCbG9ja0J1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KHFvLCB7fSwgXCJjcmVhdGVMaW5rQnV0dG9uXCIpXG5dLCBzciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5Sb290LFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi10b29sYmFyIGJuLWZvcm1hdHRpbmctdG9vbGJhclwiLFxuICAgICAgY2hpbGRyZW46IGUuY2hpbGRyZW4gfHwgY3IoZS5ibG9ja1R5cGVTZWxlY3RJdGVtcylcbiAgICB9XG4gICk7XG59LCBNdCA9IChlKSA9PiB7XG4gIHN3aXRjaCAoZSkge1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICByZXR1cm4gXCJ0b3Atc3RhcnRcIjtcbiAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICByZXR1cm4gXCJ0b3BcIjtcbiAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgIHJldHVybiBcInRvcC1lbmRcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwidG9wLXN0YXJ0XCI7XG4gIH1cbn0sIHVyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGhlKG51bGwpLCBuID0gSCgpLCBbbywgbF0gPSBDKFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IGcgPSBuLmdldFRleHRDdXJzb3JQb3NpdGlvbigpLmJsb2NrO1xuICAgICAgcmV0dXJuIFwidGV4dEFsaWdubWVudFwiIGluIGcucHJvcHMgPyBNdChcbiAgICAgICAgZy5wcm9wcy50ZXh0QWxpZ25tZW50XG4gICAgICApIDogXCJ0b3Atc3RhcnRcIjtcbiAgICB9XG4gICk7XG4gIFcoKCkgPT4ge1xuICAgIGNvbnN0IGcgPSBuLmdldFRleHRDdXJzb3JQb3NpdGlvbigpLmJsb2NrO1xuICAgIFwidGV4dEFsaWdubWVudFwiIGluIGcucHJvcHMgPyBsKFxuICAgICAgTXQoXG4gICAgICAgIGcucHJvcHMudGV4dEFsaWdubWVudFxuICAgICAgKVxuICAgICkgOiBsKFwidG9wLXN0YXJ0XCIpO1xuICB9LCBuKTtcbiAgY29uc3QgYSA9IEsoXG4gICAgbi5mb3JtYXR0aW5nVG9vbGJhci5vblVwZGF0ZS5iaW5kKG4uZm9ybWF0dGluZ1Rvb2xiYXIpXG4gICksIHsgaXNNb3VudGVkOiBjLCByZWY6IHMsIHN0eWxlOiB1LCBnZXRGbG9hdGluZ1Byb3BzOiBmIH0gPSBpZShcbiAgICAoYSA9PSBudWxsID8gdm9pZCAwIDogYS5zaG93KSB8fCAhMSxcbiAgICAoYSA9PSBudWxsID8gdm9pZCAwIDogYS5yZWZlcmVuY2VQb3MpIHx8IG51bGwsXG4gICAgM2UzLFxuICAgIHtcbiAgICAgIHBsYWNlbWVudDogbyxcbiAgICAgIG1pZGRsZXdhcmU6IFtuZSgxMCksIHhlKCldLFxuICAgICAgb25PcGVuQ2hhbmdlOiAoZywgaykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNoYW5nZVwiLCBrKSwgZyB8fCAobi5mb3JtYXR0aW5nVG9vbGJhci5jbG9zZU1lbnUoKSwgbi5mb2N1cygpKTtcbiAgICAgIH1cbiAgICB9XG4gICksIG0gPSBUKCgpID0+IGJvKFt0LCBzXSksIFt0LCBzXSk7XG4gIGlmICghYyB8fCAhYSlcbiAgICByZXR1cm4gbnVsbDtcbiAgaWYgKCFhLnNob3cgJiYgdC5jdXJyZW50KVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICByZWY6IG0sXG4gICAgICAgIHN0eWxlOiB1LFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHQuY3VycmVudC5pbm5lckhUTUwgfVxuICAgICAgfVxuICAgICk7XG4gIGNvbnN0IGIgPSBlLmZvcm1hdHRpbmdUb29sYmFyIHx8IHNyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgcmVmOiBtLCBzdHlsZTogdSwgLi4uZigpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KGIsIHt9KSB9KTtcbn0sIGRyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IF8oKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkxpbmtUb29sYmFyLkJ1dHRvbixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICBsYWJlbDogbi5saW5rX3Rvb2xiYXIuZGVsZXRlLnRvb2x0aXAsXG4gICAgICBtYWluVG9vbHRpcDogbi5saW5rX3Rvb2xiYXIuZGVsZXRlLnRvb2x0aXAsXG4gICAgICBpc1NlbGVjdGVkOiAhMSxcbiAgICAgIG9uQ2xpY2s6IGUuZGVsZXRlTGluayxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChSbywge30pXG4gICAgfVxuICApO1xufSwgZnIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gdigpLCBuID0gXygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyh0LkdlbmVyaWMuUG9wb3Zlci5Sb290LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KHQuR2VuZXJpYy5Qb3BvdmVyLlRyaWdnZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuTGlua1Rvb2xiYXIuQnV0dG9uLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICAgIG1haW5Ub29sdGlwOiBuLmxpbmtfdG9vbGJhci5lZGl0LnRvb2x0aXAsXG4gICAgICAgIGlzU2VsZWN0ZWQ6ICExLFxuICAgICAgICBjaGlsZHJlbjogbi5saW5rX3Rvb2xiYXIuZWRpdC50ZXh0XG4gICAgICB9XG4gICAgKSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuUG9wb3Zlci5Db250ZW50LFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tcG9wb3Zlci1jb250ZW50IGJuLWZvcm0tcG9wb3ZlclwiLFxuICAgICAgICB2YXJpYW50OiBcImZvcm0tcG9wb3ZlclwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KG9uLCB7IC4uLmUgfSlcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59LCBtciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCksIG4gPSBfKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5MaW5rVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgbWFpblRvb2x0aXA6IG4ubGlua190b29sYmFyLm9wZW4udG9vbHRpcCxcbiAgICAgIGxhYmVsOiBuLmxpbmtfdG9vbGJhci5vcGVuLnRvb2x0aXAsXG4gICAgICBpc1NlbGVjdGVkOiAhMSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgd2luZG93Lm9wZW4oZS51cmwsIFwiX2JsYW5rXCIpO1xuICAgICAgfSxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh6bywge30pXG4gICAgfVxuICApO1xufSwgaHIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gdigpO1xuICByZXR1cm4gZS5jaGlsZHJlbiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkxpbmtUb29sYmFyLlJvb3QsIHsgY2xhc3NOYW1lOiBcImJuLXRvb2xiYXIgYm4tbGluay10b29sYmFyXCIsIGNoaWxkcmVuOiBlLmNoaWxkcmVuIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4cyhcbiAgICB0LkxpbmtUb29sYmFyLlJvb3QsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLXRvb2xiYXIgYm4tbGluay10b29sYmFyXCIsXG4gICAgICBvbk1vdXNlRW50ZXI6IGUuc3RvcEhpZGVUaW1lcixcbiAgICAgIG9uTW91c2VMZWF2ZTogZS5zdGFydEhpZGVUaW1lcixcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICBmcixcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1cmw6IGUudXJsLFxuICAgICAgICAgICAgdGV4dDogZS50ZXh0LFxuICAgICAgICAgICAgZWRpdExpbms6IGUuZWRpdExpbmtcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChtciwgeyB1cmw6IGUudXJsIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goZHIsIHsgZGVsZXRlTGluazogZS5kZWxldGVMaW5rIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSwgYnIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gSCgpLCBuID0ge1xuICAgIGRlbGV0ZUxpbms6IHQubGlua1Rvb2xiYXIuZGVsZXRlTGluayxcbiAgICBlZGl0TGluazogdC5saW5rVG9vbGJhci5lZGl0TGluayxcbiAgICBzdGFydEhpZGVUaW1lcjogdC5saW5rVG9vbGJhci5zdGFydEhpZGVUaW1lcixcbiAgICBzdG9wSGlkZVRpbWVyOiB0LmxpbmtUb29sYmFyLnN0b3BIaWRlVGltZXJcbiAgfSwgbyA9IEsoXG4gICAgdC5saW5rVG9vbGJhci5vblVwZGF0ZS5iaW5kKHQubGlua1Rvb2xiYXIpXG4gICksIHsgaXNNb3VudGVkOiBsLCByZWY6IGEsIHN0eWxlOiBjLCBnZXRGbG9hdGluZ1Byb3BzOiBzIH0gPSBpZShcbiAgICAobyA9PSBudWxsID8gdm9pZCAwIDogby5zaG93KSB8fCAhMSxcbiAgICAobyA9PSBudWxsID8gdm9pZCAwIDogby5yZWZlcmVuY2VQb3MpIHx8IG51bGwsXG4gICAgNGUzLFxuICAgIHtcbiAgICAgIHBsYWNlbWVudDogXCJ0b3Atc3RhcnRcIixcbiAgICAgIG1pZGRsZXdhcmU6IFtuZSgxMCksIHhlKCldLFxuICAgICAgb25PcGVuQ2hhbmdlOiAoZykgPT4ge1xuICAgICAgICBnIHx8ICh0LmxpbmtUb29sYmFyLmNsb3NlTWVudSgpLCB0LmZvY3VzKCkpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgaWYgKCFsIHx8ICFvKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCB7IHNob3c6IHUsIHJlZmVyZW5jZVBvczogZiwgLi4ubSB9ID0gbywgYiA9IGUubGlua1Rvb2xiYXIgfHwgaHI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyByZWY6IGEsIHN0eWxlOiBjLCAuLi5zKCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goYiwgeyAuLi5tLCAuLi5uIH0pIH0pO1xufSwgZ3IgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gSCgpO1xuICBpZiAoIXQuZmlsZVBhbmVsKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiRmlsZVRvb2xiYXJDb250cm9sbGVyIGNhbiBvbmx5IGJlIHVzZWQgd2hlbiBCbG9ja05vdGUgZWRpdG9yIHNjaGVtYSBjb250YWlucyBmaWxlIGJsb2NrXCJcbiAgICApO1xuICBjb25zdCBuID0gSyhcbiAgICB0LmZpbGVQYW5lbC5vblVwZGF0ZS5iaW5kKHQuZmlsZVBhbmVsKVxuICApLCB7IGlzTW91bnRlZDogbywgcmVmOiBsLCBzdHlsZTogYSwgZ2V0RmxvYXRpbmdQcm9wczogYyB9ID0gaWUoXG4gICAgKG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uc2hvdykgfHwgITEsXG4gICAgKG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4ucmVmZXJlbmNlUG9zKSB8fCBudWxsLFxuICAgIDVlMyxcbiAgICB7XG4gICAgICBwbGFjZW1lbnQ6IFwiYm90dG9tXCIsXG4gICAgICBtaWRkbGV3YXJlOiBbbmUoMTApLCB4ZSgpXSxcbiAgICAgIG9uT3BlbkNoYW5nZTogKGIpID0+IHtcbiAgICAgICAgYiB8fCAodC5maWxlUGFuZWwuY2xvc2VNZW51KCksIHQuZm9jdXMoKSk7XG4gICAgICB9XG4gICAgfVxuICApO1xuICBpZiAoIW8gfHwgIW4pXG4gICAgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHsgc2hvdzogcywgcmVmZXJlbmNlUG9zOiB1LCAuLi5mIH0gPSBuLCBtID0gZS5maWxlUGFuZWwgfHwgcm47XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyByZWY6IGwsIHN0eWxlOiBhLCAuLi5jKCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3gobSwgeyAuLi5mIH0pIH0pO1xufTtcbmZ1bmN0aW9uIHByKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMTAyNCAxMDI0XCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNNDgyIDE1Mmg2MHE4IDAgOCA4djcwNHEwIDgtOCA4aC02MHEtOCAwLTgtOFYxNjBxMC04IDgtOFpcIiB9LCBjaGlsZDogW10gfSwgeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTE5MiA0NzRoNjcycTggMCA4IDh2NjBxMCA4LTggOEgxNjBxLTggMC04LTh2LTYwcTAtOCA4LThaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuY29uc3QgeHIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gdigpLCBuID0gXygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuU2lkZU1lbnUuQnV0dG9uLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgIGxhYmVsOiBuLnNpZGVfbWVudS5hZGRfYmxvY2tfbGFiZWwsXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgIHByLFxuICAgICAgICB7XG4gICAgICAgICAgc2l6ZTogMjQsXG4gICAgICAgICAgb25DbGljazogZS5hZGRCbG9jayxcbiAgICAgICAgICBcImRhdGEtdGVzdFwiOiBcImRyYWdIYW5kbGVBZGRcIlxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcbmZ1bmN0aW9uIGxuKGUpIHtcbiAgcmV0dXJuIGooeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBmaWxsOiBcIm5vbmVcIiwgZDogXCJNMCAwaDI0djI0SDBWMHpcIiB9LCBjaGlsZDogW10gfSwgeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTExIDE4YzAgMS4xLS45IDItMiAycy0yLS45LTItMiAuOS0yIDItMiAyIC45IDIgMnptLTItOGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTAtNmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIgLjkgMiAyIDJ6bTAgMmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTAgNmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6XCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuY29uc3QgdnIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gdigpLCBuID0gSCgpO1xuICByZXR1cm4gIXRlKFwidGV4dENvbG9yXCIsIGUuYmxvY2sudHlwZSwgbikgJiYgIXRlKFwiYmFja2dyb3VuZENvbG9yXCIsIGUuYmxvY2sudHlwZSwgbikgPyBudWxsIDogLyogQF9fUFVSRV9fICovIHIuanN4cyh0LkdlbmVyaWMuTWVudS5Sb290LCB7IHBvc2l0aW9uOiBcInJpZ2h0XCIsIHN1YjogITAsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KHQuR2VuZXJpYy5NZW51LlRyaWdnZXIsIHsgc3ViOiAhMCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5NZW51Lkl0ZW0sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1tZW51LWl0ZW1cIixcbiAgICAgICAgc3ViVHJpZ2dlcjogITAsXG4gICAgICAgIGNoaWxkcmVuOiBlLmNoaWxkcmVuXG4gICAgICB9XG4gICAgKSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuTWVudS5Ecm9wZG93bixcbiAgICAgIHtcbiAgICAgICAgc3ViOiAhMCxcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLW1lbnUtZHJvcGRvd24gYm4tY29sb3ItcGlja2VyLWRyb3Bkb3duXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgbm4sXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWNvblNpemU6IDE4LFxuICAgICAgICAgICAgdGV4dDogdGUoXG4gICAgICAgICAgICAgIFwidGV4dENvbG9yXCIsXG4gICAgICAgICAgICAgIGUuYmxvY2sudHlwZSxcbiAgICAgICAgICAgICAgblxuICAgICAgICAgICAgKSAmJiBEZShcInRleHRDb2xvclwiLCBlLmJsb2NrLCBuKSA/IHtcbiAgICAgICAgICAgICAgY29sb3I6IGUuYmxvY2sucHJvcHMudGV4dENvbG9yLFxuICAgICAgICAgICAgICBzZXRDb2xvcjogKG8pID0+IG4udXBkYXRlQmxvY2soZS5ibG9jaywge1xuICAgICAgICAgICAgICAgIHR5cGU6IGUuYmxvY2sudHlwZSxcbiAgICAgICAgICAgICAgICBwcm9wczogeyB0ZXh0Q29sb3I6IG8gfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSA6IHZvaWQgMCxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRlKFxuICAgICAgICAgICAgICBcImJhY2tncm91bmRDb2xvclwiLFxuICAgICAgICAgICAgICBlLmJsb2NrLnR5cGUsXG4gICAgICAgICAgICAgIG5cbiAgICAgICAgICAgICkgJiYgRGUoXCJiYWNrZ3JvdW5kQ29sb3JcIiwgZS5ibG9jaywgbikgPyB7XG4gICAgICAgICAgICAgIGNvbG9yOiBlLmJsb2NrLnByb3BzLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgc2V0Q29sb3I6IChvKSA9PiBuLnVwZGF0ZUJsb2NrKGUuYmxvY2ssIHtcbiAgICAgICAgICAgICAgICBwcm9wczogeyBiYWNrZ3JvdW5kQ29sb3I6IG8gfVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSA6IHZvaWQgMFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn0sIENyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IEgoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkdlbmVyaWMuTWVudS5JdGVtLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi1tZW51LWl0ZW1cIixcbiAgICAgIG9uQ2xpY2s6ICgpID0+IG4ucmVtb3ZlQmxvY2tzKFtlLmJsb2NrXSksXG4gICAgICBjaGlsZHJlbjogZS5jaGlsZHJlblxuICAgIH1cbiAgKTtcbn0sIGtyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IF8oKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkdlbmVyaWMuTWVudS5Ecm9wZG93bixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tbWVudS1kcm9wZG93biBibi1kcmFnLWhhbmRsZS1tZW51XCIsXG4gICAgICBjaGlsZHJlbjogZS5jaGlsZHJlbiB8fCAvKiBAX19QVVJFX18gKi8gci5qc3hzKHIuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KENyLCB7IC4uLmUsIGNoaWxkcmVuOiBuLmRyYWdfaGFuZGxlLmRlbGV0ZV9tZW51aXRlbSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KHZyLCB7IC4uLmUsIGNoaWxkcmVuOiBuLmRyYWdfaGFuZGxlLmNvbG9yc19tZW51aXRlbSB9KVxuICAgICAgXSB9KVxuICAgIH1cbiAgKTtcbn0sIHlyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IF8oKSwgbyA9IGUuZHJhZ0hhbmRsZU1lbnUgfHwga3I7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3hzKFxuICAgIHQuR2VuZXJpYy5NZW51LlJvb3QsXG4gICAge1xuICAgICAgb25PcGVuQ2hhbmdlOiAobCkgPT4ge1xuICAgICAgICBsID8gZS5mcmVlemVNZW51KCkgOiAoZS51bmZyZWV6ZU1lbnUoKSwgZS5lZGl0b3IuZm9jdXMoKSk7XG4gICAgICB9LFxuICAgICAgcG9zaXRpb246IFwibGVmdFwiLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KHQuR2VuZXJpYy5NZW51LlRyaWdnZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICB0LlNpZGVNZW51LkJ1dHRvbixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogbi5zaWRlX21lbnUuZHJhZ19oYW5kbGVfbGFiZWwsXG4gICAgICAgICAgICBkcmFnZ2FibGU6ICEwLFxuICAgICAgICAgICAgb25EcmFnU3RhcnQ6IGUuYmxvY2tEcmFnU3RhcnQsXG4gICAgICAgICAgICBvbkRyYWdFbmQ6IGUuYmxvY2tEcmFnRW5kLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KGxuLCB7IHNpemU6IDI0LCBcImRhdGEtdGVzdFwiOiBcImRyYWdIYW5kbGVcIiB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KG8sIHsgYmxvY2s6IGUuYmxvY2sgfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59LCBqciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCksIHsgYWRkQmxvY2s6IG4sIC4uLm8gfSA9IGU7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3godC5TaWRlTWVudS5Sb290LCB7IGNsYXNzTmFtZTogXCJibi1zaWRlLW1lbnVcIiwgY2hpbGRyZW46IGUuY2hpbGRyZW4gfHwgLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KHhyLCB7IGFkZEJsb2NrOiBuIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh5ciwgeyAuLi5vIH0pXG4gIF0gfSkgfSk7XG59LCB3ciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBIKCksIG4gPSB7XG4gICAgYWRkQmxvY2s6IHQuc2lkZU1lbnUuYWRkQmxvY2ssXG4gICAgYmxvY2tEcmFnU3RhcnQ6IHQuc2lkZU1lbnUuYmxvY2tEcmFnU3RhcnQsXG4gICAgYmxvY2tEcmFnRW5kOiB0LnNpZGVNZW51LmJsb2NrRHJhZ0VuZCxcbiAgICBmcmVlemVNZW51OiB0LnNpZGVNZW51LmZyZWV6ZU1lbnUsXG4gICAgdW5mcmVlemVNZW51OiB0LnNpZGVNZW51LnVuZnJlZXplTWVudVxuICB9LCBvID0gSyhcbiAgICB0LnNpZGVNZW51Lm9uVXBkYXRlLmJpbmQodC5zaWRlTWVudSlcbiAgKSwgeyBpc01vdW50ZWQ6IGwsIHJlZjogYSwgc3R5bGU6IGMsIGdldEZsb2F0aW5nUHJvcHM6IHMgfSA9IGllKFxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnNob3cpIHx8ICExLFxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnJlZmVyZW5jZVBvcykgfHwgbnVsbCxcbiAgICAxZTMsXG4gICAge1xuICAgICAgcGxhY2VtZW50OiBcImxlZnRcIlxuICAgIH1cbiAgKTtcbiAgaWYgKCFsIHx8ICFvKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCB7IHNob3c6IHUsIHJlZmVyZW5jZVBvczogZiwgLi4ubSB9ID0gbywgYiA9IGUuc2lkZU1lbnUgfHwganI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyByZWY6IGEsIHN0eWxlOiBjLCAuLi5zKCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goYiwgeyAuLi5tLCAuLi5uLCBlZGl0b3I6IHQgfSkgfSk7XG59O1xuZnVuY3Rpb24gSHIoZSkge1xuICBjb25zdCB0ID0gdigpLCBuID0gXygpLCB7IGl0ZW1zOiBvLCBsb2FkaW5nU3RhdGU6IGwsIHNlbGVjdGVkSW5kZXg6IGEsIG9uSXRlbUNsaWNrOiBjIH0gPSBlLCBzID0gbCA9PT0gXCJsb2FkaW5nLWluaXRpYWxcIiB8fCBsID09PSBcImxvYWRpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LlN1Z2dlc3Rpb25NZW51LkxvYWRlciwgeyBjbGFzc05hbWU6IFwiYm4tc3VnZ2VzdGlvbi1tZW51LWxvYWRlclwiLCBjaGlsZHJlbjogbi5zdWdnZXN0aW9uX21lbnUubG9hZGluZyB9KSA6IG51bGwsIHUgPSBUKCgpID0+IHtcbiAgICBsZXQgZjtcbiAgICBjb25zdCBtID0gW107XG4gICAgZm9yIChsZXQgYiA9IDA7IGIgPCBvLmxlbmd0aDsgYisrKSB7XG4gICAgICBjb25zdCBnID0gb1tiXTtcbiAgICAgIGcuZ3JvdXAgIT09IGYgJiYgKGYgPSBnLmdyb3VwLCBtLnB1c2goXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICB0LlN1Z2dlc3Rpb25NZW51LkxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJibi1zdWdnZXN0aW9uLW1lbnUtbGFiZWxcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBmXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmXG4gICAgICAgIClcbiAgICAgICkpLCBtLnB1c2goXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICB0LlN1Z2dlc3Rpb25NZW51Lkl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJuLXN1Z2dlc3Rpb24tbWVudS1pdGVtXCIsXG4gICAgICAgICAgICBpdGVtOiBnLFxuICAgICAgICAgICAgaWQ6IGBibi1zdWdnZXN0aW9uLW1lbnUtaXRlbS0ke2J9YCxcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IGIgPT09IGEsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBjID09IG51bGwgPyB2b2lkIDAgOiBjKGcpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnLnRpdGxlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBtO1xuICB9LCBbdCwgbywgYywgYV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcbiAgICB0LlN1Z2dlc3Rpb25NZW51LlJvb3QsXG4gICAge1xuICAgICAgaWQ6IFwiYm4tc3VnZ2VzdGlvbi1tZW51XCIsXG4gICAgICBjbGFzc05hbWU6IFwiYm4tc3VnZ2VzdGlvbi1tZW51XCIsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB1LFxuICAgICAgICB1Lmxlbmd0aCA9PT0gMCAmJiAoZS5sb2FkaW5nU3RhdGUgPT09IFwibG9hZGluZ1wiIHx8IGUubG9hZGluZ1N0YXRlID09PSBcImxvYWRlZFwiKSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgdC5TdWdnZXN0aW9uTWVudS5FbXB0eUl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJuLXN1Z2dlc3Rpb24tbWVudS1pdGVtXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogbi5zdWdnZXN0aW9uX21lbnUubm9faXRlbXNfdGl0bGVcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIHNcbiAgICAgIF1cbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBfcihlLCB0LCBuLCBvID0gMykge1xuICBjb25zdCBsID0gaGUoMCk7XG4gIEwoKCkgPT4ge1xuICAgIHQgIT09IHZvaWQgMCAmJiAoZS5sZW5ndGggPiAwID8gbC5jdXJyZW50ID0gdC5sZW5ndGggOiB0Lmxlbmd0aCAtIGwuY3VycmVudCA+IG8gJiYgbigpKTtcbiAgfSwgW24sIG8sIGUubGVuZ3RoLCB0XSk7XG59XG5mdW5jdGlvbiBTcihlLCB0KSB7XG4gIGNvbnN0IFtuLCBvXSA9IEMoW10pLCBbbCwgYV0gPSBDKCExKSwgYyA9IGhlKCksIHMgPSBoZSgpO1xuICByZXR1cm4gTCgoKSA9PiB7XG4gICAgY29uc3QgdSA9IGU7XG4gICAgYy5jdXJyZW50ID0gZSwgYSghMCksIHQoZSkudGhlbigoZikgPT4ge1xuICAgICAgYy5jdXJyZW50ID09PSB1ICYmIChvKGYpLCBhKCExKSwgcy5jdXJyZW50ID0gdSk7XG4gICAgfSk7XG4gIH0sIFtlLCB0XSksIHtcbiAgICBpdGVtczogbiB8fCBbXSxcbiAgICAvLyBUaGUgcXVlcnkgdGhhdCB3YXMgdXNlZCB0byByZXRyaWV2ZSB0aGUgbGFzdCBzZXQgb2YgaXRlbXMgbWF5IG5vdCBiZSB0aGVcbiAgICAvLyBzYW1lIGFzIHRoZSBjdXJyZW50IHF1ZXJ5IGFzIHRoZSBpdGVtcyBmcm9tIHRoZSBjdXJyZW50IHF1ZXJ5IG1heSBub3RcbiAgICAvLyBoYXZlIGJlZW4gcmV0cmlldmVkIHlldC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB1c2luZyB0aGUgcmV0dXJucyBvZiB0aGlzXG4gICAgLy8gaG9vayBpbiBvdGhlciBob29rcy5cbiAgICB1c2VkUXVlcnk6IHMuY3VycmVudCxcbiAgICBsb2FkaW5nU3RhdGU6IHMuY3VycmVudCA9PT0gdm9pZCAwID8gXCJsb2FkaW5nLWluaXRpYWxcIiA6IGwgPyBcImxvYWRpbmdcIiA6IFwibG9hZGVkXCJcbiAgfTtcbn1cbmZ1bmN0aW9uIE1yKGUsIHQsIG4sIG8pIHtcbiAgY29uc3QgW2wsIGFdID0gQygwKTtcbiAgcmV0dXJuIEwoKCkgPT4ge1xuICAgIGNvbnN0IGMgPSAocykgPT4gcy5rZXkgPT09IFwiQXJyb3dVcFwiID8gKHMucHJldmVudERlZmF1bHQoKSwgbi5sZW5ndGggJiYgYSgobCAtIDEgKyBuLmxlbmd0aCkgJSBuLmxlbmd0aCksICEwKSA6IHMua2V5ID09PSBcIkFycm93RG93blwiID8gKHMucHJldmVudERlZmF1bHQoKSwgbi5sZW5ndGggJiYgYSgobCArIDEpICUgbi5sZW5ndGgpLCAhMCkgOiBzLmtleSA9PT0gXCJFbnRlclwiID8gKHMucHJldmVudERlZmF1bHQoKSwgbi5sZW5ndGggJiYgKG8gPT0gbnVsbCB8fCBvKG5bbF0pKSwgITApIDogITE7XG4gICAgcmV0dXJuIGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJrZXlkb3duXCIsXG4gICAgICBjLFxuICAgICAgITBcbiAgICApLCAoKSA9PiB7XG4gICAgICBlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJrZXlkb3duXCIsXG4gICAgICAgIGMsXG4gICAgICAgICEwXG4gICAgICApO1xuICAgIH07XG4gIH0sIFtlLmRvbUVsZW1lbnQsIG4sIGwsIG9dKSwgTCgoKSA9PiB7XG4gICAgYSgwKTtcbiAgfSwgW3RdKSwge1xuICAgIHNlbGVjdGVkSW5kZXg6IG4ubGVuZ3RoID09PSAwID8gdm9pZCAwIDogbFxuICB9O1xufVxuZnVuY3Rpb24gVHIoZSkge1xuICBjb25zdCBuID0gVSgpLnNldENvbnRlbnRFZGl0YWJsZVByb3BzLCBvID0gSCgpLCB7XG4gICAgZ2V0SXRlbXM6IGwsXG4gICAgc3VnZ2VzdGlvbk1lbnVDb21wb25lbnQ6IGEsXG4gICAgcXVlcnk6IGMsXG4gICAgY2xlYXJRdWVyeTogcyxcbiAgICBjbG9zZU1lbnU6IHUsXG4gICAgb25JdGVtQ2xpY2s6IGZcbiAgfSA9IGUsIG0gPSBTKFxuICAgIChOKSA9PiB7XG4gICAgICB1KCksIHMoKSwgZiA9PSBudWxsIHx8IGYoTik7XG4gICAgfSxcbiAgICBbZiwgdSwgc11cbiAgKSwgeyBpdGVtczogYiwgdXNlZFF1ZXJ5OiBnLCBsb2FkaW5nU3RhdGU6IGsgfSA9IFNyKFxuICAgIGMsXG4gICAgbFxuICApO1xuICBfcihiLCBnLCB1KTtcbiAgY29uc3QgeyBzZWxlY3RlZEluZGV4OiBWIH0gPSBNcihcbiAgICBvLFxuICAgIGMsXG4gICAgYixcbiAgICBtXG4gICk7XG4gIEwoKCkgPT4gKG4oKE4pID0+ICh7XG4gICAgLi4uTixcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogITAsXG4gICAgXCJhcmlhLWNvbnRyb2xzXCI6IFwiYm4tc3VnZ2VzdGlvbi1tZW51XCJcbiAgfSkpLCAoKSA9PiB7XG4gICAgbigoTikgPT4gKHtcbiAgICAgIC4uLk4sXG4gICAgICBcImFyaWEtZXhwYW5kZWRcIjogITEsXG4gICAgICBcImFyaWEtY29udHJvbHNcIjogdm9pZCAwXG4gICAgfSkpO1xuICB9KSwgW25dKSwgTCgoKSA9PiAobigoTikgPT4gKHtcbiAgICAuLi5OLFxuICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IFYgPyBcImJuLXN1Z2dlc3Rpb24tbWVudS1pdGVtLVwiICsgViA6IHZvaWQgMFxuICB9KSksICgpID0+IHtcbiAgICBuKChOKSA9PiAoe1xuICAgICAgLi4uTixcbiAgICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IHZvaWQgMFxuICAgIH0pKTtcbiAgfSksIFtuLCBWXSk7XG4gIGNvbnN0IEYgPSBhO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIEYsXG4gICAge1xuICAgICAgaXRlbXM6IGIsXG4gICAgICBvbkl0ZW1DbGljazogbSxcbiAgICAgIGxvYWRpbmdTdGF0ZTogayxcbiAgICAgIHNlbGVjdGVkSW5kZXg6IFZcbiAgICB9XG4gICk7XG59XG5jb25zdCBWciA9IHtcbiAgaGVhZGluZzogcXQsXG4gIGhlYWRpbmdfMjogWXQsXG4gIGhlYWRpbmdfMzogS3QsXG4gIG51bWJlcmVkX2xpc3Q6IEp0LFxuICBidWxsZXRfbGlzdDogUXQsXG4gIHBhcmFncmFwaDogR2UsXG4gIHRhYmxlOiBQbyxcbiAgaW1hZ2U6IGVuLFxuICB2aWRlbzogTm8sXG4gIGF1ZGlvOiB0bixcbiAgZmlsZTogQ2Vcbn07XG5mdW5jdGlvbiBFcihlKSB7XG4gIHJldHVybiBJbihlKS5tYXAoKHQpID0+IHtcbiAgICBjb25zdCBuID0gVnJbdC5rZXldO1xuICAgIHJldHVybiB7XG4gICAgICAuLi50LFxuICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KG4sIHsgc2l6ZTogMTggfSlcbiAgICB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIEJyKGUpIHtcbiAgY29uc3QgdCA9IEgoKSwgeyB0cmlnZ2VyQ2hhcmFjdGVyOiBuLCBzdWdnZXN0aW9uTWVudUNvbXBvbmVudDogbyB9ID0gZTtcbiAgbGV0IHsgb25JdGVtQ2xpY2s6IGwsIGdldEl0ZW1zOiBhIH0gPSBlO1xuICBsIHx8IChsID0gKGcpID0+IHtcbiAgICBnLm9uSXRlbUNsaWNrKHQpO1xuICB9KTtcbiAgY29uc3QgYyA9IHtcbiAgICBjbG9zZU1lbnU6IHQuc3VnZ2VzdGlvbk1lbnVzLmNsb3NlTWVudSxcbiAgICBjbGVhclF1ZXJ5OiB0LnN1Z2dlc3Rpb25NZW51cy5jbGVhclF1ZXJ5XG4gIH0sIHMgPSBLKFxuICAgIChnKSA9PiB0LnN1Z2dlc3Rpb25NZW51cy5vblVwZGF0ZS5iaW5kKHQuc3VnZ2VzdGlvbk1lbnVzKShcbiAgICAgIG4sXG4gICAgICBnXG4gICAgKVxuICApLCB7IGlzTW91bnRlZDogdSwgcmVmOiBmLCBzdHlsZTogbSwgZ2V0RmxvYXRpbmdQcm9wczogYiB9ID0gaWUoXG4gICAgKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMuc2hvdykgfHwgITEsXG4gICAgKHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMucmVmZXJlbmNlUG9zKSB8fCBudWxsLFxuICAgIDJlMyxcbiAgICB7XG4gICAgICBwbGFjZW1lbnQ6IFwiYm90dG9tLXN0YXJ0XCIsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIG5lKDEwKSxcbiAgICAgICAgLy8gRmxpcHMgdGhlIG1lbnUgcGxhY2VtZW50IHRvIG1heGltaXplIHRoZSBzcGFjZSBhdmFpbGFibGUsIGFuZCBwcmV2ZW50c1xuICAgICAgICAvLyB0aGUgbWVudSBmcm9tIGJlaW5nIGN1dCBvZmYgYnkgdGhlIGNvbmZpbmVzIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgIHhlKCksXG4gICAgICAgIE9uKHtcbiAgICAgICAgICBhcHBseSh7IGF2YWlsYWJsZUhlaWdodDogZywgZWxlbWVudHM6IGsgfSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihrLmZsb2F0aW5nLnN0eWxlLCB7XG4gICAgICAgICAgICAgIG1heEhlaWdodDogYCR7ZyAtIDEwfXB4YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgXSxcbiAgICAgIG9uT3BlbkNoYW5nZShnKSB7XG4gICAgICAgIGcgfHwgdC5zdWdnZXN0aW9uTWVudXMuY2xvc2VNZW51KCk7XG4gICAgICB9XG4gICAgfVxuICApO1xuICByZXR1cm4gIXUgfHwgIXMgPyBudWxsIDogKGEgfHwgKGEgPSBhc3luYyAoZykgPT4gQW4oXG4gICAgRXIodCksXG4gICAgZ1xuICApKSwgLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgcmVmOiBmLCBzdHlsZTogbSwgLi4uYigpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIFRyLFxuICAgIHtcbiAgICAgIHF1ZXJ5OiBzLnF1ZXJ5LFxuICAgICAgY2xvc2VNZW51OiBjLmNsb3NlTWVudSxcbiAgICAgIGNsZWFyUXVlcnk6IGMuY2xlYXJRdWVyeSxcbiAgICAgIGdldEl0ZW1zOiBhLFxuICAgICAgc3VnZ2VzdGlvbk1lbnVDb21wb25lbnQ6IG8gfHwgSHIsXG4gICAgICBvbkl0ZW1DbGljazogbFxuICAgIH1cbiAgKSB9KSk7XG59XG5jb25zdCBSciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCksIG4gPSBfKCksIG8gPSBIKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5HZW5lcmljLk1lbnUuSXRlbSxcbiAgICB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGwgPSBlLmJsb2NrLmNvbnRlbnQucm93c1tlLmluZGV4XS5jZWxscy5tYXAoXG4gICAgICAgICAgKCkgPT4gW11cbiAgICAgICAgKSwgYSA9IFsuLi5lLmJsb2NrLmNvbnRlbnQucm93c107XG4gICAgICAgIGEuc3BsaWNlKGUuaW5kZXggKyAoZS5zaWRlID09PSBcImJlbG93XCIgPyAxIDogMCksIDAsIHtcbiAgICAgICAgICBjZWxsczogbFxuICAgICAgICB9KSwgby51cGRhdGVCbG9jayhlLmJsb2NrLCB7XG4gICAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFwidGFibGVDb250ZW50XCIsXG4gICAgICAgICAgICByb3dzOiBhXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogbi50YWJsZV9oYW5kbGVbYGFkZF8ke2Uuc2lkZX1fbWVudWl0ZW1gXVxuICAgIH1cbiAgKTtcbn0sIExyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgbiA9IF8oKSwgbyA9IEgoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkdlbmVyaWMuTWVudS5JdGVtLFxuICAgIHtcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3QgbCA9IHtcbiAgICAgICAgICB0eXBlOiBcInRhYmxlQ29udGVudFwiLFxuICAgICAgICAgIHJvd3M6IGUuYmxvY2suY29udGVudC5yb3dzLm1hcCgoYSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYyA9IFsuLi5hLmNlbGxzXTtcbiAgICAgICAgICAgIHJldHVybiBjLnNwbGljZShlLmluZGV4ICsgKGUuc2lkZSA9PT0gXCJyaWdodFwiID8gMSA6IDApLCAwLCBbXSksIHsgY2VsbHM6IGMgfTtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBvLnVwZGF0ZUJsb2NrKGUuYmxvY2ssIHtcbiAgICAgICAgICB0eXBlOiBcInRhYmxlXCIsXG4gICAgICAgICAgY29udGVudDogbFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogbi50YWJsZV9oYW5kbGVbYGFkZF8ke2Uuc2lkZX1fbWVudWl0ZW1gXVxuICAgIH1cbiAgKTtcbn0sIFR0ID0gKGUpID0+IGUub3JpZW50YXRpb24gPT09IFwicm93XCIgPyAvKiBAX19QVVJFX18gKi8gci5qc3goUnIsIHsgLi4uZSwgc2lkZTogZS5zaWRlIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KExyLCB7IC4uLmUsIHNpZGU6IGUuc2lkZSB9KSwgUHIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gdigpLCBuID0gXygpLCBvID0gSCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuR2VuZXJpYy5NZW51Lkl0ZW0sXG4gICAge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBsID0ge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVDb250ZW50XCIsXG4gICAgICAgICAgcm93czogZS5ibG9jay5jb250ZW50LnJvd3MuZmlsdGVyKFxuICAgICAgICAgICAgKGEsIGMpID0+IGMgIT09IGUuaW5kZXhcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICAgIG8udXBkYXRlQmxvY2soZS5ibG9jaywge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVcIixcbiAgICAgICAgICBjb250ZW50OiBsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBuLnRhYmxlX2hhbmRsZS5kZWxldGVfcm93X21lbnVpdGVtXG4gICAgfVxuICApO1xufSwgRnIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gdigpLCBuID0gXygpLCBvID0gSCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuR2VuZXJpYy5NZW51Lkl0ZW0sXG4gICAge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBsID0ge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVDb250ZW50XCIsXG4gICAgICAgICAgcm93czogZS5ibG9jay5jb250ZW50LnJvd3MubWFwKChhKSA9PiAoe1xuICAgICAgICAgICAgY2VsbHM6IGEuY2VsbHMuZmlsdGVyKChjLCBzKSA9PiBzICE9PSBlLmluZGV4KVxuICAgICAgICAgIH0pKVxuICAgICAgICB9O1xuICAgICAgICBvLnVwZGF0ZUJsb2NrKGUuYmxvY2ssIHtcbiAgICAgICAgICB0eXBlOiBcInRhYmxlXCIsXG4gICAgICAgICAgY29udGVudDogbFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogbi50YWJsZV9oYW5kbGUuZGVsZXRlX2NvbHVtbl9tZW51aXRlbVxuICAgIH1cbiAgKTtcbn0sIE5yID0gKGUpID0+IGUub3JpZW50YXRpb24gPT09IFwicm93XCIgPyAvKiBAX19QVVJFX18gKi8gci5qc3goUHIsIHsgLi4uZSB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChGciwgeyAuLi5lIH0pLCBPciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSB2KCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLk1lbnUuRHJvcGRvd24sIHsgY2xhc3NOYW1lOiBcImJuLXRhYmxlLWhhbmRsZS1tZW51XCIsIGNoaWxkcmVuOiBlLmNoaWxkcmVuIHx8IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoci5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIE5yLFxuICAgICAge1xuICAgICAgICBvcmllbnRhdGlvbjogZS5vcmllbnRhdGlvbixcbiAgICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICAgIGluZGV4OiBlLmluZGV4XG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBUdCxcbiAgICAgIHtcbiAgICAgICAgb3JpZW50YXRpb246IGUub3JpZW50YXRpb24sXG4gICAgICAgIGJsb2NrOiBlLmJsb2NrLFxuICAgICAgICBpbmRleDogZS5pbmRleCxcbiAgICAgICAgc2lkZTogZS5vcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IFwiYWJvdmVcIiA6IFwibGVmdFwiXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBUdCxcbiAgICAgIHtcbiAgICAgICAgb3JpZW50YXRpb246IGUub3JpZW50YXRpb24sXG4gICAgICAgIGJsb2NrOiBlLmJsb2NrLFxuICAgICAgICBpbmRleDogZS5pbmRleCxcbiAgICAgICAgc2lkZTogZS5vcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IFwiYmVsb3dcIiA6IFwicmlnaHRcIlxuICAgICAgfVxuICAgIClcbiAgXSB9KSB9KTtcbn0sIERyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IHYoKSwgW24sIG9dID0gQyghMSksIGwgPSBlLnRhYmxlSGFuZGxlTWVudSB8fCBPcjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoXG4gICAgdC5HZW5lcmljLk1lbnUuUm9vdCxcbiAgICB7XG4gICAgICBvbk9wZW5DaGFuZ2U6IChhKSA9PiB7XG4gICAgICAgIGEgPyAoZS5mcmVlemVIYW5kbGVzKCksIGUuaGlkZU90aGVyU2lkZSgpKSA6IChlLnVuZnJlZXplSGFuZGxlcygpLCBlLnNob3dPdGhlclNpZGUoKSwgZS5lZGl0b3IuZm9jdXMoKSk7XG4gICAgICB9LFxuICAgICAgcG9zaXRpb246IFwicmlnaHRcIixcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuTWVudS5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgdC5UYWJsZUhhbmRsZS5Sb290LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogemUoXG4gICAgICAgICAgICAgIFwiYm4tdGFibGUtaGFuZGxlXCIsXG4gICAgICAgICAgICAgIG4gPyBcImJuLXRhYmxlLWhhbmRsZS1kcmFnZ2luZ1wiIDogXCJcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGRyYWdnYWJsZTogITAsXG4gICAgICAgICAgICBvbkRyYWdTdGFydDogKGEpID0+IHtcbiAgICAgICAgICAgICAgbyghMCksIGUuZHJhZ1N0YXJ0KGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZ0VuZDogKCkgPT4ge1xuICAgICAgICAgICAgICBlLmRyYWdFbmQoKSwgbyghMSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3R5bGU6IGUub3JpZW50YXRpb24gPT09IFwiY29sdW1uXCIgPyB7IHRyYW5zZm9ybTogXCJyb3RhdGUoMC4yNXR1cm4pXCIgfSA6IHZvaWQgMCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBlLmNoaWxkcmVuIHx8IC8qIEBfX1BVUkVfXyAqLyByLmpzeChsbiwgeyBzaXplOiAyNCwgXCJkYXRhLXRlc3RcIjogXCJ0YWJsZUhhbmRsZVwiIH0pXG4gICAgICAgICAgfVxuICAgICAgICApIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgbCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvcmllbnRhdGlvbjogZS5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIGJsb2NrOiBlLmJsb2NrLFxuICAgICAgICAgICAgaW5kZXg6IGUuaW5kZXhcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59O1xuZnVuY3Rpb24gSXIoZSwgdCwgbikge1xuICByZXR1cm4gbiAmJiBuLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIgPyBuZXcgRE9NUmVjdChcbiAgICB0LngsXG4gICAgbi5tb3VzZVBvcyxcbiAgICB0LndpZHRoLFxuICAgIDBcbiAgKSA6IG5ldyBET01SZWN0KFxuICAgIHQueCxcbiAgICBlLnksXG4gICAgdC53aWR0aCxcbiAgICBlLmhlaWdodFxuICApO1xufVxuZnVuY3Rpb24gQXIoZSwgdCwgbikge1xuICByZXR1cm4gbiAmJiBuLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwiY29sXCIgPyBuZXcgRE9NUmVjdChcbiAgICBuLm1vdXNlUG9zLFxuICAgIHQueSxcbiAgICAwLFxuICAgIHQuaGVpZ2h0XG4gICkgOiBuZXcgRE9NUmVjdChcbiAgICBlLngsXG4gICAgdC55LFxuICAgIGUud2lkdGgsXG4gICAgdC5oZWlnaHRcbiAgKTtcbn1cbmZ1bmN0aW9uIFZ0KGUsIHQsIG4sIG8sIGwpIHtcbiAgY29uc3QgeyByZWZzOiBhLCB1cGRhdGU6IGMsIGNvbnRleHQ6IHMsIGZsb2F0aW5nU3R5bGVzOiB1IH0gPSBQdCh7XG4gICAgb3BlbjogdCxcbiAgICBwbGFjZW1lbnQ6IGUgPT09IFwicm93XCIgPyBcImxlZnRcIiA6IFwidG9wXCIsXG4gICAgbWlkZGxld2FyZTogW25lKGUgPT09IFwicm93XCIgPyAtMTAgOiAtMTIpXVxuICB9KSwgeyBpc01vdW50ZWQ6IGYsIHN0eWxlczogbSB9ID0gRnQocyk7XG4gIHJldHVybiBMKCgpID0+IHtcbiAgICBjKCk7XG4gIH0sIFtuLCBvLCBjXSksIEwoKCkgPT4ge1xuICAgIG4gPT09IG51bGwgfHwgbyA9PT0gbnVsbCB8fCBhLnNldFJlZmVyZW5jZSh7XG4gICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ICgpID0+IChlID09PSBcInJvd1wiID8gSXIgOiBBcikobiwgbywgbClcbiAgICB9KTtcbiAgfSwgW2wsIGUsIG4sIG8sIGFdKSwgVChcbiAgICAoKSA9PiAoe1xuICAgICAgaXNNb3VudGVkOiBmLFxuICAgICAgcmVmOiBhLnNldEZsb2F0aW5nLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIC4uLm0sXG4gICAgICAgIC4uLnUsXG4gICAgICAgIHpJbmRleDogMWU0XG4gICAgICB9XG4gICAgfSksXG4gICAgW3UsIGYsIGEuc2V0RmxvYXRpbmcsIG1dXG4gICk7XG59XG5mdW5jdGlvbiBacihlLCB0LCBuLCBvKSB7XG4gIGNvbnN0IGwgPSBWdChcbiAgICBcInJvd1wiLFxuICAgIGUsXG4gICAgdCxcbiAgICBuLFxuICAgIG9cbiAgKSwgYSA9IFZ0KFxuICAgIFwiY29sXCIsXG4gICAgZSxcbiAgICB0LFxuICAgIG4sXG4gICAgb1xuICApO1xuICByZXR1cm4gVChcbiAgICAoKSA9PiAoe1xuICAgICAgcm93SGFuZGxlOiBsLFxuICAgICAgY29sSGFuZGxlOiBhXG4gICAgfSksXG4gICAgW2EsIGxdXG4gICk7XG59XG5jb25zdCB6ciA9IChlKSA9PiB7XG4gIHZhciBnLCBrO1xuICBjb25zdCB0ID0gSCgpO1xuICBpZiAoIXQudGFibGVIYW5kbGVzKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGFibGVIYW5kbGVzQ29udHJvbGxlciBjYW4gb25seSBiZSB1c2VkIHdoZW4gQmxvY2tOb3RlIGVkaXRvciBzY2hlbWEgY29udGFpbnMgdGFibGUgYmxvY2tcIlxuICAgICk7XG4gIGNvbnN0IG4gPSB7XG4gICAgcm93RHJhZ1N0YXJ0OiB0LnRhYmxlSGFuZGxlcy5yb3dEcmFnU3RhcnQsXG4gICAgY29sRHJhZ1N0YXJ0OiB0LnRhYmxlSGFuZGxlcy5jb2xEcmFnU3RhcnQsXG4gICAgZHJhZ0VuZDogdC50YWJsZUhhbmRsZXMuZHJhZ0VuZCxcbiAgICBmcmVlemVIYW5kbGVzOiB0LnRhYmxlSGFuZGxlcy5mcmVlemVIYW5kbGVzLFxuICAgIHVuZnJlZXplSGFuZGxlczogdC50YWJsZUhhbmRsZXMudW5mcmVlemVIYW5kbGVzXG4gIH0sIG8gPSBLKFxuICAgIHQudGFibGVIYW5kbGVzLm9uVXBkYXRlLmJpbmQodC50YWJsZUhhbmRsZXMpXG4gICksIGwgPSBUKCgpID0+IHtcbiAgICB2YXIgViwgRjtcbiAgICByZXR1cm4gbyAhPSBudWxsICYmIG8uZHJhZ2dpbmdTdGF0ZSA/IHtcbiAgICAgIGRyYWdnZWRDZWxsT3JpZW50YXRpb246IChWID0gbyA9PSBudWxsID8gdm9pZCAwIDogby5kcmFnZ2luZ1N0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogVi5kcmFnZ2VkQ2VsbE9yaWVudGF0aW9uLFxuICAgICAgbW91c2VQb3M6IChGID0gbyA9PSBudWxsID8gdm9pZCAwIDogby5kcmFnZ2luZ1N0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogRi5tb3VzZVBvc1xuICAgIH0gOiB2b2lkIDA7XG4gIH0sIFtcbiAgICBvID09IG51bGwgPyB2b2lkIDAgOiBvLmRyYWdnaW5nU3RhdGUsXG4gICAgKGcgPSBvID09IG51bGwgPyB2b2lkIDAgOiBvLmRyYWdnaW5nU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBnLmRyYWdnZWRDZWxsT3JpZW50YXRpb24sXG4gICAgKGsgPSBvID09IG51bGwgPyB2b2lkIDAgOiBvLmRyYWdnaW5nU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBrLm1vdXNlUG9zXG4gIF0pLCB7IHJvd0hhbmRsZTogYSwgY29sSGFuZGxlOiBjIH0gPSBacihcbiAgICAobyA9PSBudWxsID8gdm9pZCAwIDogby5zaG93KSB8fCAhMSxcbiAgICAobyA9PSBudWxsID8gdm9pZCAwIDogby5yZWZlcmVuY2VQb3NDZWxsKSB8fCBudWxsLFxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnJlZmVyZW5jZVBvc1RhYmxlKSB8fCBudWxsLFxuICAgIGxcbiAgKSwgW3MsIHVdID0gQyghMSksIFtmLCBtXSA9IEMoITEpO1xuICBpZiAoIWEuaXNNb3VudGVkIHx8ICFjLmlzTW91bnRlZCB8fCAhbylcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgYiA9IGUudGFibGVIYW5kbGUgfHwgRHI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHIuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAhcyAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyByZWY6IGEucmVmLCBzdHlsZTogYS5zdHlsZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIGIsXG4gICAgICB7XG4gICAgICAgIGVkaXRvcjogdCxcbiAgICAgICAgb3JpZW50YXRpb246IFwicm93XCIsXG4gICAgICAgIHNob3dPdGhlclNpZGU6ICgpID0+IG0oITEpLFxuICAgICAgICBoaWRlT3RoZXJTaWRlOiAoKSA9PiBtKCEwKSxcbiAgICAgICAgaW5kZXg6IG8ucm93SW5kZXgsXG4gICAgICAgIGJsb2NrOiBvLmJsb2NrLFxuICAgICAgICBkcmFnU3RhcnQ6IG4ucm93RHJhZ1N0YXJ0LFxuICAgICAgICBkcmFnRW5kOiBuLmRyYWdFbmQsXG4gICAgICAgIGZyZWV6ZUhhbmRsZXM6IG4uZnJlZXplSGFuZGxlcyxcbiAgICAgICAgdW5mcmVlemVIYW5kbGVzOiBuLnVuZnJlZXplSGFuZGxlc1xuICAgICAgfVxuICAgICkgfSksXG4gICAgIWYgJiYgLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgcmVmOiBjLnJlZiwgc3R5bGU6IGMuc3R5bGUsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBiLFxuICAgICAge1xuICAgICAgICBlZGl0b3I6IHQsXG4gICAgICAgIG9yaWVudGF0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBzaG93T3RoZXJTaWRlOiAoKSA9PiB1KCExKSxcbiAgICAgICAgaGlkZU90aGVyU2lkZTogKCkgPT4gdSghMCksXG4gICAgICAgIGluZGV4OiBvLmNvbEluZGV4LFxuICAgICAgICBibG9jazogby5ibG9jayxcbiAgICAgICAgZHJhZ1N0YXJ0OiBuLmNvbERyYWdTdGFydCxcbiAgICAgICAgZHJhZ0VuZDogbi5kcmFnRW5kLFxuICAgICAgICBmcmVlemVIYW5kbGVzOiBuLmZyZWV6ZUhhbmRsZXMsXG4gICAgICAgIHVuZnJlZXplSGFuZGxlczogbi51bmZyZWV6ZUhhbmRsZXNcbiAgICAgIH1cbiAgICApIH0pXG4gIF0gfSk7XG59O1xuZnVuY3Rpb24gVXIoZSkge1xuICBjb25zdCB0ID0gSCgpO1xuICBpZiAoIXQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJCbG9ja05vdGVEZWZhdWx0VUkgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEJsb2NrTm90ZUNvbnRleHQuUHJvdmlkZXJcIlxuICAgICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHIuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICBlLmZvcm1hdHRpbmdUb29sYmFyICE9PSAhMSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3godXIsIHt9KSxcbiAgICBlLmxpbmtUb29sYmFyICE9PSAhMSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goYnIsIHt9KSxcbiAgICBlLnNsYXNoTWVudSAhPT0gITEgJiYgLyogQF9fUFVSRV9fICovIHIuanN4KEJyLCB7IHRyaWdnZXJDaGFyYWN0ZXI6IFwiL1wiIH0pLFxuICAgIGUuc2lkZU1lbnUgIT09ICExICYmIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh3ciwge30pLFxuICAgIHQuZmlsZVBhbmVsICYmIGUuZmlsZVBhbmVsICE9PSAhMSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goZ3IsIHt9KSxcbiAgICB0LnRhYmxlSGFuZGxlcyAmJiBlLnRhYmxlSGFuZGxlcyAhPT0gITEgJiYgLyogQF9fUFVSRV9fICovIHIuanN4KHpyLCB7fSlcbiAgXSB9KTtcbn1cbmNvbnN0IFdyID0gKHtcbiAgcmVuZGVyZXJzOiBlXG59KSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3goci5GcmFnbWVudCwgeyBjaGlsZHJlbjogT2JqZWN0LmVudHJpZXMoZSkubWFwKChbdCwgbl0pID0+IEF0KG4ucmVhY3RFbGVtZW50LCBuLmVsZW1lbnQsIHQpKSB9KTtcbmZ1bmN0aW9uIEdyKGUpIHtcbiAgY29uc3QgW3QsIG5dID0gQyh7fSksIFtvLCBsXSA9IEMoKTtcbiAgcmV0dXJuIEwoKCkgPT4gKGUuZWRpdG9yLl90aXB0YXBFZGl0b3IuY29udGVudENvbXBvbmVudCA9IHtcbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IFRpcFRhcFxuICAgICAqL1xuICAgIHNldFJlbmRlcmVyKGEsIGMpIHtcbiAgICAgIG4oKHMpID0+ICh7IC4uLnMsIFthXTogYyB9KSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IFRpcFRhcFxuICAgICAqL1xuICAgIHJlbW92ZVJlbmRlcmVyKGEpIHtcbiAgICAgIG4oKGMpID0+IHtcbiAgICAgICAgY29uc3QgcyA9IHsgLi4uYyB9O1xuICAgICAgICByZXR1cm4gZGVsZXRlIHNbYV0sIHM7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIHNpbmdsZSBub2RlIHRvIGEgY29udGFpbmVyIHdpdGhpbiB0aGUgUmVhY3QgY29udGV4dCAodXNlZCBieSBCbG9ja05vdGUgcmVuZGVyVG9ET01TcGVjKVxuICAgICAqL1xuICAgIHJlbmRlclRvRWxlbWVudChhLCBjKSB7XG4gICAgICBJdCgoKSA9PiB7XG4gICAgICAgIGwoeyBub2RlOiBhLCBjb250YWluZXI6IGMgfSk7XG4gICAgICB9KSwgbCh2b2lkIDApO1xuICAgIH1cbiAgfSwgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGUuZWRpdG9yLl90aXB0YXBFZGl0b3IuY3JlYXRlTm9kZVZpZXdzKCk7XG4gIH0pLCAoKSA9PiB7XG4gICAgZS5lZGl0b3IuX3RpcHRhcEVkaXRvci5jb250ZW50Q29tcG9uZW50ID0gbnVsbDtcbiAgfSksIFtlLmVkaXRvci5fdGlwdGFwRWRpdG9yXSksIC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoci5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChXciwgeyByZW5kZXJlcnM6IHQgfSksXG4gICAgbyAmJiBBdChvLm5vZGUsIG8uY29udGFpbmVyKSxcbiAgICBlLmNoaWxkcmVuXG4gIF0gfSk7XG59XG5jb25zdCBFdCA9ICgpID0+IHtcbn07XG5mdW5jdGlvbiAkcihlLCB0KSB7XG4gIGNvbnN0IHtcbiAgICBlZGl0b3I6IG4sXG4gICAgY2xhc3NOYW1lOiBvLFxuICAgIHRoZW1lOiBsLFxuICAgIGNoaWxkcmVuOiBhLFxuICAgIGVkaXRhYmxlOiBjLFxuICAgIG9uU2VsZWN0aW9uQ2hhbmdlOiBzLFxuICAgIG9uQ2hhbmdlOiB1LFxuICAgIGZvcm1hdHRpbmdUb29sYmFyOiBmLFxuICAgIGxpbmtUb29sYmFyOiBtLFxuICAgIHNsYXNoTWVudTogYixcbiAgICBzaWRlTWVudTogZyxcbiAgICBmaWxlUGFuZWw6IGssXG4gICAgdGFibGVIYW5kbGVzOiBWLFxuICAgIC4uLkZcbiAgfSA9IGUsIFtOLCB6XSA9IEMoKSwgRSA9IFUoKSwgSGUgPSBzbygpLCBfZSA9IChFID09IG51bGwgPyB2b2lkIDAgOiBFLmNvbG9yU2NoZW1lUHJlZmVyZW5jZSkgfHwgSGUsIGxlID0gbCB8fCAoX2UgPT09IFwiZGFya1wiID8gXCJkYXJrXCIgOiBcImxpZ2h0XCIpO1xuICBVZSh1IHx8IEV0LCBuKSwgV2UocyB8fCBFdCwgbiksIEwoKCkgPT4ge1xuICAgIG4uaXNFZGl0YWJsZSA9IGMgIT09ICExO1xuICB9LCBbYywgbl0pO1xuICBjb25zdCBTZSA9IFQoKCkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgYSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBVcixcbiAgICAgIHtcbiAgICAgICAgZm9ybWF0dGluZ1Rvb2xiYXI6IGYsXG4gICAgICAgIGxpbmtUb29sYmFyOiBtLFxuICAgICAgICBzbGFzaE1lbnU6IGIsXG4gICAgICAgIHNpZGVNZW51OiBnLFxuICAgICAgICBmaWxlUGFuZWw6IGssXG4gICAgICAgIHRhYmxlSGFuZGxlczogVlxuICAgICAgfVxuICAgIClcbiAgXSB9KSwgW1xuICAgIGEsXG4gICAgZixcbiAgICBtLFxuICAgIGssXG4gICAgZyxcbiAgICBiLFxuICAgIFZcbiAgXSksIE1lID0gVCgoKSA9PiAoe1xuICAgIC4uLkUsXG4gICAgZWRpdG9yOiBuLFxuICAgIHNldENvbnRlbnRFZGl0YWJsZVByb3BzOiB6XG4gIH0pLCBbRSwgbl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFd0LlByb3ZpZGVyLCB7IHZhbHVlOiBNZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChHciwgeyBlZGl0b3I6IG4sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3hzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiB6ZShcbiAgICAgICAgXCJibi1jb250YWluZXJcIixcbiAgICAgICAgbGUgfHwgXCJcIixcbiAgICAgICAgbyB8fCBcIlwiXG4gICAgICApLFxuICAgICAgXCJkYXRhLWNvbG9yLXNjaGVtZVwiOiBsZSxcbiAgICAgIC4uLkYsXG4gICAgICByZWY6IHQsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFwibGlzdFwiLFxuICAgICAgICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibGlzdGJveFwiLFxuICAgICAgICAgICAgcmVmOiBuLl90aXB0YXBFZGl0b3IubW91bnQsXG4gICAgICAgICAgICAuLi5OXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICBTZVxuICAgICAgXVxuICAgIH1cbiAgKSB9KSB9KTtcbn1cbmNvbnN0IHVpID0gSS5mb3J3YXJkUmVmKCRyKTtcbnZhciBaZSwgbWUgPSB1bztcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIpXG4gIFplID0gbWUuY3JlYXRlUm9vdCwgbWUuaHlkcmF0ZVJvb3Q7XG5lbHNlIHtcbiAgdmFyIEJ0ID0gbWUuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gIFplID0gZnVuY3Rpb24oZSwgdCkge1xuICAgIEJ0LnVzaW5nQ2xpZW50RW50cnlQb2ludCA9ICEwO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbWUuY3JlYXRlUm9vdChlLCB0KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgQnQudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gITE7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gcGUoZSwgdCkge1xuICBsZXQgbjtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGxldCBsO1xuICBpZiAodCA/IHQuX3RpcHRhcEVkaXRvci5jb250ZW50Q29tcG9uZW50LnJlbmRlclRvRWxlbWVudChcbiAgICBlKCh1KSA9PiBuID0gdSB8fCB2b2lkIDApLFxuICAgIG9cbiAgKSA6IChsID0gWmUobyksIEl0KCgpID0+IHtcbiAgICBsLnJlbmRlcihlKCh1KSA9PiBuID0gdSB8fCB2b2lkIDApKTtcbiAgfSkpLCAhby5jaGlsZEVsZW1lbnRDb3VudClcbiAgICByZXR1cm4gY29uc29sZS53YXJuKFwiUmVhY3RJbmxpbmVDb250ZW50U3BlYzogcmVuZGVySFRNTCgpIGZhaWxlZFwiKSwge1xuICAgICAgZG9tOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxuICAgIH07XG4gIG4gPT0gbnVsbCB8fCBuLnNldEF0dHJpYnV0ZShcImRhdGEtdG1wLWZpbmRcIiwgXCJ0cnVlXCIpO1xuICBjb25zdCBhID0gby5jbG9uZU5vZGUoITApLCBjID0gYS5maXJzdEVsZW1lbnRDaGlsZCwgcyA9IGEucXVlcnlTZWxlY3RvcihcbiAgICBcIltkYXRhLXRtcC1maW5kXVwiXG4gICk7XG4gIHJldHVybiBzID09IG51bGwgfHwgcy5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXRtcC1maW5kXCIpLCBsID09IG51bGwgfHwgbC51bm1vdW50KCksIHtcbiAgICBkb206IGMsXG4gICAgY29udGVudERPTTogcyB8fCB2b2lkIDBcbiAgfTtcbn1cbmZ1bmN0aW9uIE9lKGUpIHtcbiAgdmFyIHQ7XG4gIHJldHVybiAoXG4gICAgLy8gQ3JlYXRlcyBgYmxvY2tDb250ZW50YCBlbGVtZW50XG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgWnQsXG4gICAgICB7XG4gICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhlLmRvbUF0dHJpYnV0ZXMgfHwge30pLmZpbHRlcihcbiAgICAgICAgICAgIChbbl0pID0+IG4gIT09IFwiY2xhc3NcIlxuICAgICAgICAgIClcbiAgICAgICAgKSxcbiAgICAgICAgY2xhc3NOYW1lOiB6ZShcbiAgICAgICAgICBcImJuLWJsb2NrLWNvbnRlbnRcIixcbiAgICAgICAgICAoKHQgPSBlLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiB0LmNsYXNzKSB8fCBcIlwiXG4gICAgICAgICksXG4gICAgICAgIFwiZGF0YS1jb250ZW50LXR5cGVcIjogZS5ibG9ja1R5cGUsXG4gICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhlLmJsb2NrUHJvcHMpLmZpbHRlcihcbiAgICAgICAgICAgIChbbiwgb10pID0+ICFabi5pbmNsdWRlcyhuKSAmJiBvICE9PSBlLnByb3BTY2hlbWFbbl0uZGVmYXVsdFxuICAgICAgICAgICkubWFwKChbbiwgb10pID0+IFtOdChuKSwgb10pXG4gICAgICAgICksXG4gICAgICAgIFwiZGF0YS1maWxlLWJsb2NrXCI6IGUuaXNGaWxlQmxvY2sgPT09ICEwIHx8IHZvaWQgMCxcbiAgICAgICAgY2hpbGRyZW46IGUuY2hpbGRyZW5cbiAgICAgIH1cbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBrZShlLCB0KSB7XG4gIGNvbnN0IG4gPSBPdCh7XG4gICAgbmFtZTogZS50eXBlLFxuICAgIGNvbnRlbnQ6IGUuY29udGVudCA9PT0gXCJpbmxpbmVcIiA/IFwiaW5saW5lKlwiIDogXCJcIixcbiAgICBncm91cDogXCJibG9ja0NvbnRlbnRcIixcbiAgICBzZWxlY3RhYmxlOiAhMCxcbiAgICBhZGRBdHRyaWJ1dGVzKCkge1xuICAgICAgcmV0dXJuIER0KGUucHJvcFNjaGVtYSk7XG4gICAgfSxcbiAgICBwYXJzZUhUTUwoKSB7XG4gICAgICByZXR1cm4gem4oZSwgdC5wYXJzZSk7XG4gICAgfSxcbiAgICByZW5kZXJIVE1MKCkge1xuICAgICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICByZXR1cm4gby5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRtcC1wbGFjZWhvbGRlclwiLCBcInRydWVcIiksIHtcbiAgICAgICAgZG9tOiBvXG4gICAgICB9O1xuICAgIH0sXG4gICAgYWRkTm9kZVZpZXcoKSB7XG4gICAgICByZXR1cm4gKG8pID0+IHp0KFxuICAgICAgICAobCkgPT4ge1xuICAgICAgICAgIHZhciBtO1xuICAgICAgICAgIGNvbnN0IGEgPSB0aGlzLm9wdGlvbnMuZWRpdG9yLCBjID0gVW4oXG4gICAgICAgICAgICBsLmdldFBvcyxcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICB0aGlzLmVkaXRvcixcbiAgICAgICAgICAgIGUudHlwZVxuICAgICAgICAgICksIHMgPSAoKG0gPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG0uYmxvY2tDb250ZW50KSB8fCB7fSwgdSA9IFV0KHt9KS5yZWYsIGYgPSB0LnJlbmRlcjtcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgICAgT2UsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGJsb2NrVHlwZTogYy50eXBlLFxuICAgICAgICAgICAgICBibG9ja1Byb3BzOiBjLnByb3BzLFxuICAgICAgICAgICAgICBwcm9wU2NoZW1hOiBlLnByb3BTY2hlbWEsXG4gICAgICAgICAgICAgIGlzRmlsZUJsb2NrOiBlLmlzRmlsZUJsb2NrLFxuICAgICAgICAgICAgICBkb21BdHRyaWJ1dGVzOiBzLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgICAgICAgIGYsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgYmxvY2s6IGMsXG4gICAgICAgICAgICAgICAgICBlZGl0b3I6IGEsXG4gICAgICAgICAgICAgICAgICBjb250ZW50UmVmOiB1XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJibi1yZWFjdC1ub2RlLXZpZXctcmVuZGVyZXJcIlxuICAgICAgICB9XG4gICAgICApKG8pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBXbihlLCB7XG4gICAgbm9kZTogbixcbiAgICB0b0ludGVybmFsSFRNTDogKG8sIGwpID0+IHtcbiAgICAgIHZhciB1LCBmO1xuICAgICAgY29uc3QgYSA9ICgodSA9IG4ub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogdS5ibG9ja0NvbnRlbnQpIHx8IHt9LCBjID0gdC5yZW5kZXIsIHMgPSBwZShcbiAgICAgICAgKG0pID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICBPZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBibG9ja1R5cGU6IG8udHlwZSxcbiAgICAgICAgICAgIGJsb2NrUHJvcHM6IG8ucHJvcHMsXG4gICAgICAgICAgICBwcm9wU2NoZW1hOiBlLnByb3BTY2hlbWEsXG4gICAgICAgICAgICBkb21BdHRyaWJ1dGVzOiBhLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICAgICAgYyxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJsb2NrOiBvLFxuICAgICAgICAgICAgICAgIGVkaXRvcjogbCxcbiAgICAgICAgICAgICAgICBjb250ZW50UmVmOiBtXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIGxcbiAgICAgICk7XG4gICAgICByZXR1cm4gKGYgPSBzLmNvbnRlbnRET00pID09IG51bGwgfHwgZi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRhYmxlXCIsIFwiXCIpLCBzO1xuICAgIH0sXG4gICAgdG9FeHRlcm5hbEhUTUw6IChvLCBsKSA9PiB7XG4gICAgICB2YXIgdSwgZjtcbiAgICAgIGNvbnN0IGEgPSAoKHUgPSBuLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHUuYmxvY2tDb250ZW50KSB8fCB7fSwgYyA9IHQudG9FeHRlcm5hbEhUTUwgfHwgdC5yZW5kZXIsIHMgPSBwZSgobSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICBPZSxcbiAgICAgICAge1xuICAgICAgICAgIGJsb2NrVHlwZTogby50eXBlLFxuICAgICAgICAgIGJsb2NrUHJvcHM6IG8ucHJvcHMsXG4gICAgICAgICAgcHJvcFNjaGVtYTogZS5wcm9wU2NoZW1hLFxuICAgICAgICAgIGRvbUF0dHJpYnV0ZXM6IGEsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICAgIGMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGJsb2NrOiBvLFxuICAgICAgICAgICAgICBlZGl0b3I6IGwsXG4gICAgICAgICAgICAgIGNvbnRlbnRSZWY6IG1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICksIGwpO1xuICAgICAgcmV0dXJuIChmID0gcy5jb250ZW50RE9NKSA9PSBudWxsIHx8IGYuc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0YWJsZVwiLCBcIlwiKSwgcztcbiAgICB9XG4gIH0pO1xufVxuY29uc3QgeWUgPSAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcbiAgXCJkaXZcIixcbiAge1xuICAgIGNsYXNzTmFtZTogXCJibi1maWxlLWRlZmF1bHQtcHJldmlld1wiLFxuICAgIGNvbnRlbnRFZGl0YWJsZTogITEsXG4gICAgZHJhZ2dhYmxlOiAhMSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWZpbGUtZGVmYXVsdC1wcmV2aWV3LWljb25cIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChDZSwgeyBzaXplOiAyNCB9KSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwiYm4tZmlsZS1kZWZhdWx0LXByZXZpZXctbmFtZVwiLCBjaGlsZHJlbjogZS5ibG9jay5wcm9wcy5uYW1lIH0pXG4gICAgXVxuICB9XG4pLCAkID0gKGUpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm4tZmlsZS1hbmQtY2FwdGlvbi13cmFwcGVyXCIsIGNoaWxkcmVuOiBbXG4gIGUuY2hpbGRyZW4sXG4gIGUuYmxvY2sucHJvcHMuY2FwdGlvbiAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcImJuLWZpbGUtY2FwdGlvblwiLCBjaGlsZHJlbjogZS5ibG9jay5wcm9wcy5jYXB0aW9uIH0pXG5dIH0pLCBqZSA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBTKFxuICAgIChvKSA9PiB7XG4gICAgICBvLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSxcbiAgICBbXVxuICApLCBuID0gUygoKSA9PiB7XG4gICAgZS5lZGl0b3IuX3RpcHRhcEVkaXRvci52aWV3LmRpc3BhdGNoKFxuICAgICAgZS5lZGl0b3IuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKFxuICAgICAgICBlLmVkaXRvci5maWxlUGFuZWwucGx1Z2luLFxuICAgICAgICB7XG4gICAgICAgICAgYmxvY2s6IGUuYmxvY2tcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0sIFtcbiAgICBlLmJsb2NrLFxuICAgIGUuZWRpdG9yLl90aXB0YXBFZGl0b3Iuc3RhdGUudHIsXG4gICAgZS5lZGl0b3IuX3RpcHRhcEVkaXRvci52aWV3LFxuICAgIGUuZWRpdG9yLmZpbGVQYW5lbFxuICBdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYWRkLWZpbGUtYnV0dG9uXCIsXG4gICAgICBvbk1vdXNlRG93bjogdCxcbiAgICAgIG9uQ2xpY2s6IG4sXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm4tYWRkLWZpbGUtYnV0dG9uLWljb25cIiwgY2hpbGRyZW46IGUuYnV0dG9uSWNvbiB8fCAvKiBAX19QVVJFX18gKi8gci5qc3goQ2UsIHsgc2l6ZTogMjQgfSkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJibi1hZGQtZmlsZS1idXR0b24tdGV4dFwiLCBjaGlsZHJlbjogZS5idXR0b25UZXh0IH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSwgd2UgPSAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbXG4gIGUuY2hpbGRyZW4sXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcInBcIiwgeyBjaGlsZHJlbjogZS5jYXB0aW9uIH0pXG5dIH0pLCAkZSA9IChlKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3hzKFwiZmlndXJlXCIsIHsgY2hpbGRyZW46IFtcbiAgZS5jaGlsZHJlbixcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KFwiZmlnY2FwdGlvblwiLCB7IGNoaWxkcmVuOiBlLmNhcHRpb24gfSlcbl0gfSksIGFuID0gKGUpID0+IHtcbiAgY29uc3QgW3QsIG5dID0gQyghMSksIFtvLCBsXSA9IEModm9pZCAwKTtcbiAgTCgoKSA9PiB7XG4gICAgY29uc3QgZiA9IChiKSA9PiB7XG4gICAgICBsZXQgZztcbiAgICAgIGUuYmxvY2sucHJvcHMudGV4dEFsaWdubWVudCA9PT0gXCJjZW50ZXJcIiA/IG8uaGFuZGxlVXNlZCA9PT0gXCJsZWZ0XCIgPyBnID0gby5pbml0aWFsV2lkdGggKyAoby5pbml0aWFsQ2xpZW50WCAtIGIuY2xpZW50WCkgKiAyIDogZyA9IG8uaW5pdGlhbFdpZHRoICsgKGIuY2xpZW50WCAtIG8uaW5pdGlhbENsaWVudFgpICogMiA6IG8uaGFuZGxlVXNlZCA9PT0gXCJsZWZ0XCIgPyBnID0gby5pbml0aWFsV2lkdGggKyBvLmluaXRpYWxDbGllbnRYIC0gYi5jbGllbnRYIDogZyA9IG8uaW5pdGlhbFdpZHRoICsgYi5jbGllbnRYIC0gby5pbml0aWFsQ2xpZW50WDtcbiAgICAgIGNvbnN0IGsgPSA2NDtcbiAgICAgIGcgPCBrID8gZS5zZXRXaWR0aChrKSA6IGcgPiBlLmVkaXRvci5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoID8gZS5zZXRXaWR0aChlLmVkaXRvci5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoKSA6IGUuc2V0V2lkdGgoZyk7XG4gICAgfSwgbSA9ICgpID0+IHtcbiAgICAgIGwodm9pZCAwKSwgZS5lZGl0b3IudXBkYXRlQmxvY2soZS5ibG9jaywge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIHByZXZpZXdXaWR0aDogZS53aWR0aFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBvICYmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBmKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG0pKSwgKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZiksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtKTtcbiAgICB9O1xuICB9LCBbZSwgb10pO1xuICBjb25zdCBhID0gUygoKSA9PiB7XG4gICAgZS5lZGl0b3IuaXNFZGl0YWJsZSAmJiBuKCEwKTtcbiAgfSwgW2UuZWRpdG9yLmlzRWRpdGFibGVdKSwgYyA9IFMoKCkgPT4ge1xuICAgIG4oITEpO1xuICB9LCBbXSksIHMgPSBTKFxuICAgIChmKSA9PiB7XG4gICAgICBmLnByZXZlbnREZWZhdWx0KCksIGwoe1xuICAgICAgICBoYW5kbGVVc2VkOiBcImxlZnRcIixcbiAgICAgICAgaW5pdGlhbFdpZHRoOiBlLndpZHRoLFxuICAgICAgICBpbml0aWFsQ2xpZW50WDogZi5jbGllbnRYXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtlLndpZHRoXVxuICApLCB1ID0gUyhcbiAgICAoZikgPT4ge1xuICAgICAgZi5wcmV2ZW50RGVmYXVsdCgpLCBsKHtcbiAgICAgICAgaGFuZGxlVXNlZDogXCJyaWdodFwiLFxuICAgICAgICBpbml0aWFsV2lkdGg6IGUud2lkdGgsXG4gICAgICAgIGluaXRpYWxDbGllbnRYOiBmLmNsaWVudFhcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2Uud2lkdGhdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3hzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLXZpc3VhbC1tZWRpYS13cmFwcGVyXCIsXG4gICAgICBvbk1vdXNlRW50ZXI6IGEsXG4gICAgICBvbk1vdXNlTGVhdmU6IGMsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICBlLmNoaWxkcmVuLFxuICAgICAgICAodCB8fCBvKSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHIuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYm4tdmlzdWFsLW1lZGlhLXJlc2l6ZS1oYW5kbGVcIixcbiAgICAgICAgICAgICAgc3R5bGU6IHsgbGVmdDogXCI0cHhcIiB9LFxuICAgICAgICAgICAgICBvbk1vdXNlRG93bjogc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJuLXZpc3VhbC1tZWRpYS1yZXNpemUtaGFuZGxlXCIsXG4gICAgICAgICAgICAgIHN0eWxlOiB7IHJpZ2h0OiBcIjRweFwiIH0sXG4gICAgICAgICAgICAgIG9uTW91c2VEb3duOiB1XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSwgcXIgPSAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICBcImF1ZGlvXCIsXG4gIHtcbiAgICBjbGFzc05hbWU6IFwiYm4tYXVkaW9cIixcbiAgICBzcmM6IGUuYmxvY2sucHJvcHMudXJsLFxuICAgIGNvbnRyb2xzOiAhMCxcbiAgICBjb250ZW50RWRpdGFibGU6ICExLFxuICAgIGRyYWdnYWJsZTogITFcbiAgfVxuKSwgWXIgPSAoZSkgPT4ge1xuICBpZiAoIWUuYmxvY2sucHJvcHMudXJsKVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJwXCIsIHsgY2hpbGRyZW46IFwiQWRkIGF1ZGlvXCIgfSk7XG4gIGNvbnN0IHQgPSBlLmJsb2NrLnByb3BzLnNob3dQcmV2aWV3ID8gLyogQF9fUFVSRV9fICovIHIuanN4KFwiYXVkaW9cIiwgeyBzcmM6IGUuYmxvY2sucHJvcHMudXJsIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KFwiYVwiLCB7IGhyZWY6IGUuYmxvY2sucHJvcHMudXJsLCBjaGlsZHJlbjogZS5ibG9jay5wcm9wcy5uYW1lIHx8IGUuYmxvY2sucHJvcHMudXJsIH0pO1xuICByZXR1cm4gZS5ibG9jay5wcm9wcy5jYXB0aW9uID8gZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeCgkZSwgeyBjYXB0aW9uOiBlLmJsb2NrLnByb3BzLmNhcHRpb24sIGNoaWxkcmVuOiB0IH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KHdlLCB7IGNhcHRpb246IGUuYmxvY2sucHJvcHMuY2FwdGlvbiwgY2hpbGRyZW46IHQgfSkgOiB0O1xufSwgZGkgPSBrZSgkbiwge1xuICByZW5kZXI6IChlKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm4tZmlsZS1ibG9jay1jb250ZW50LXdyYXBwZXJcIiwgY2hpbGRyZW46IGUuYmxvY2sucHJvcHMudXJsID09PSBcIlwiID8gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIGplLFxuICAgIHtcbiAgICAgIC4uLmUsXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yLFxuICAgICAgYnV0dG9uVGV4dDogZS5lZGl0b3IuZGljdGlvbmFyeS5maWxlX2Jsb2Nrcy5hdWRpby5hZGRfYnV0dG9uX3RleHQsXG4gICAgICBidXR0b25JY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3godG4sIHsgc2l6ZTogMjQgfSlcbiAgICB9XG4gICkgOiBlLmJsb2NrLnByb3BzLnNob3dQcmV2aWV3ID8gLyogQF9fUFVSRV9fICovIHIuanN4KCQsIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3gocXIsIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IgfSkgfSkgOiAvKiBAX19QVVJFX18gKi8gci5qc3goJCwgeyBibG9jazogZS5ibG9jaywgZWRpdG9yOiBlLmVkaXRvciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB5ZSxcbiAgICB7XG4gICAgICBibG9jazogZS5ibG9jayxcbiAgICAgIGVkaXRvcjogZS5lZGl0b3JcbiAgICB9XG4gICkgfSkgfSksXG4gIHBhcnNlOiBHbixcbiAgdG9FeHRlcm5hbEhUTUw6IChlKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3goWXIsIHsgLi4uZSB9KVxufSksIEtyID0gKGUpID0+IHtcbiAgaWYgKCFlLmJsb2NrLnByb3BzLnVybClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkFkZCBmaWxlXCIgfSk7XG4gIGNvbnN0IHQgPSAvKiBAX19QVVJFX18gKi8gci5qc3goXCJhXCIsIHsgaHJlZjogZS5ibG9jay5wcm9wcy51cmwsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLm5hbWUgfHwgZS5ibG9jay5wcm9wcy51cmwgfSk7XG4gIHJldHVybiBlLmJsb2NrLnByb3BzLmNhcHRpb24gPyAvKiBAX19QVVJFX18gKi8gci5qc3god2UsIHsgY2FwdGlvbjogZS5ibG9jay5wcm9wcy5jYXB0aW9uLCBjaGlsZHJlbjogdCB9KSA6IHQ7XG59LCBmaSA9IGtlKFluLCB7XG4gIHJlbmRlcjogKGUpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJibi1maWxlLWJsb2NrLWNvbnRlbnQtd3JhcHBlclwiLCBjaGlsZHJlbjogZS5ibG9jay5wcm9wcy51cmwgPT09IFwiXCIgPyAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgamUsXG4gICAge1xuICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yLFxuICAgICAgYnV0dG9uSWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KENlLCB7IHNpemU6IDI0IH0pLFxuICAgICAgYnV0dG9uVGV4dDogZS5lZGl0b3IuZGljdGlvbmFyeS5maWxlX2Jsb2Nrcy5maWxlLmFkZF9idXR0b25fdGV4dFxuICAgIH1cbiAgKSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeCgkLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHllLFxuICAgIHtcbiAgICAgIGJsb2NrOiBlLmJsb2NrLFxuICAgICAgZWRpdG9yOiBlLmVkaXRvclxuICAgIH1cbiAgKSB9KSB9KSxcbiAgcGFyc2U6IHFuLFxuICB0b0V4dGVybmFsSFRNTDogKGUpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChLciwgeyAuLi5lIH0pXG59KSwgWHIgPSAoZSkgPT4ge1xuICBjb25zdCBbdCwgbl0gPSBDKFxuICAgIE1hdGgubWluKFxuICAgICAgZS5ibG9jay5wcm9wcy5wcmV2aWV3V2lkdGgsXG4gICAgICBlLmVkaXRvci5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoXG4gICAgKVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KGFuLCB7IC4uLmUsIHdpZHRoOiB0LCBzZXRXaWR0aDogbiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBcImltZ1wiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi12aXN1YWwtbWVkaWFcIixcbiAgICAgIHNyYzogZS5ibG9jay5wcm9wcy51cmwsXG4gICAgICBhbHQ6IGUuYmxvY2sucHJvcHMuY2FwdGlvbiB8fCBcIkJsb2NrTm90ZSBpbWFnZVwiLFxuICAgICAgY29udGVudEVkaXRhYmxlOiAhMSxcbiAgICAgIGRyYWdnYWJsZTogITEsXG4gICAgICB3aWR0aDogdFxuICAgIH1cbiAgKSB9KTtcbn0sIEpyID0gKGUpID0+IHtcbiAgaWYgKCFlLmJsb2NrLnByb3BzLnVybClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkFkZCBpbWFnZVwiIH0pO1xuICBjb25zdCB0ID0gZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBcImltZ1wiLFxuICAgIHtcbiAgICAgIHNyYzogZS5ibG9jay5wcm9wcy51cmwsXG4gICAgICBhbHQ6IGUuYmxvY2sucHJvcHMubmFtZSB8fCBlLmJsb2NrLnByb3BzLmNhcHRpb24gfHwgXCJCbG9ja05vdGUgaW1hZ2VcIixcbiAgICAgIHdpZHRoOiBlLmJsb2NrLnByb3BzLnByZXZpZXdXaWR0aFxuICAgIH1cbiAgKSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImFcIiwgeyBocmVmOiBlLmJsb2NrLnByb3BzLnVybCwgY2hpbGRyZW46IGUuYmxvY2sucHJvcHMubmFtZSB8fCBlLmJsb2NrLnByb3BzLnVybCB9KTtcbiAgcmV0dXJuIGUuYmxvY2sucHJvcHMuY2FwdGlvbiA/IGUuYmxvY2sucHJvcHMuc2hvd1ByZXZpZXcgPyAvKiBAX19QVVJFX18gKi8gci5qc3goJGUsIHsgY2FwdGlvbjogZS5ibG9jay5wcm9wcy5jYXB0aW9uLCBjaGlsZHJlbjogdCB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh3ZSwgeyBjYXB0aW9uOiBlLmJsb2NrLnByb3BzLmNhcHRpb24sIGNoaWxkcmVuOiB0IH0pIDogdDtcbn0sIG1pID0ga2UoWG4sIHtcbiAgcmVuZGVyOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWZpbGUtYmxvY2stY29udGVudC13cmFwcGVyXCIsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLnVybCA9PT0gXCJcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBqZSxcbiAgICB7XG4gICAgICAuLi5lLFxuICAgICAgZWRpdG9yOiBlLmVkaXRvcixcbiAgICAgIGJ1dHRvblRleHQ6IGUuZWRpdG9yLmRpY3Rpb25hcnkuZmlsZV9ibG9ja3MuaW1hZ2UuYWRkX2J1dHRvbl90ZXh0LFxuICAgICAgYnV0dG9uSWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KGVuLCB7IHNpemU6IDI0IH0pXG4gICAgfVxuICApIDogZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeCgkLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFhyLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yIH0pIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KCQsIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgeWUsXG4gICAge1xuICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yXG4gICAgfVxuICApIH0pIH0pLFxuICBwYXJzZTogS24sXG4gIHRvRXh0ZXJuYWxIVE1MOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KEpyLCB7IC4uLmUgfSlcbn0pLCBRciA9IChlKSA9PiB7XG4gIGNvbnN0IFt0LCBuXSA9IEMoXG4gICAgTWF0aC5taW4oXG4gICAgICBlLmJsb2NrLnByb3BzLnByZXZpZXdXaWR0aCxcbiAgICAgIGUuZWRpdG9yLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50V2lkdGhcbiAgICApXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goYW4sIHsgLi4uZSwgd2lkdGg6IHQsIHNldFdpZHRoOiBuLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIFwidmlkZW9cIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tdmlzdWFsLW1lZGlhXCIsXG4gICAgICBzcmM6IGUuYmxvY2sucHJvcHMudXJsLFxuICAgICAgY29udHJvbHM6ICEwLFxuICAgICAgY29udGVudEVkaXRhYmxlOiAhMSxcbiAgICAgIGRyYWdnYWJsZTogITEsXG4gICAgICB3aWR0aDogdFxuICAgIH1cbiAgKSB9KTtcbn0sIGVpID0gKGUpID0+IHtcbiAgaWYgKCFlLmJsb2NrLnByb3BzLnVybClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkFkZCB2aWRlb1wiIH0pO1xuICBjb25zdCB0ID0gZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcInZpZGVvXCIsIHsgc3JjOiBlLmJsb2NrLnByb3BzLnVybCB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImFcIiwgeyBocmVmOiBlLmJsb2NrLnByb3BzLnVybCwgY2hpbGRyZW46IGUuYmxvY2sucHJvcHMubmFtZSB8fCBlLmJsb2NrLnByb3BzLnVybCB9KTtcbiAgcmV0dXJuIGUuYmxvY2sucHJvcHMuY2FwdGlvbiA/IGUuYmxvY2sucHJvcHMuc2hvd1ByZXZpZXcgPyAvKiBAX19QVVJFX18gKi8gci5qc3goJGUsIHsgY2FwdGlvbjogZS5ibG9jay5wcm9wcy5jYXB0aW9uLCBjaGlsZHJlbjogdCB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh3ZSwgeyBjYXB0aW9uOiBlLmJsb2NrLnByb3BzLmNhcHRpb24sIGNoaWxkcmVuOiB0IH0pIDogdDtcbn0sIGhpID0ga2UoUW4sIHtcbiAgcmVuZGVyOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWZpbGUtYmxvY2stY29udGVudC13cmFwcGVyXCIsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLnVybCA9PT0gXCJcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBqZSxcbiAgICB7XG4gICAgICAuLi5lLFxuICAgICAgZWRpdG9yOiBlLmVkaXRvcixcbiAgICAgIGJ1dHRvblRleHQ6IGUuZWRpdG9yLmRpY3Rpb25hcnkuZmlsZV9ibG9ja3MudmlkZW8uYWRkX2J1dHRvbl90ZXh0LFxuICAgICAgYnV0dG9uSWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KElvLCB7IHNpemU6IDI0IH0pXG4gICAgfVxuICApIDogZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeCgkLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFFyLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yIH0pIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KCQsIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgeWUsXG4gICAge1xuICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yXG4gICAgfVxuICApIH0pIH0pLFxuICBwYXJzZTogSm4sXG4gIHRvRXh0ZXJuYWxIVE1MOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KGVpLCB7IC4uLmUgfSlcbn0pO1xuZnVuY3Rpb24gYmkoZSkge1xuICBjb25zdCB0ID0gVSgpO1xuICBpZiAoZSB8fCAoZSA9IHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZWRpdG9yKSwgIWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCInZWRpdG9yJyBpcyByZXF1aXJlZCwgZWl0aGVyIGZyb20gQmxvY2tOb3RlQ29udGV4dCBvciBhcyBhIGZ1bmN0aW9uIGFyZ3VtZW50XCJcbiAgICApO1xuICBjb25zdCBuID0gZSwgW28sIGxdID0gQygoKSA9PiBuLmdldEFjdGl2ZVN0eWxlcygpKTtcbiAgcmV0dXJuIFVlKCgpID0+IHtcbiAgICBsKG4uZ2V0QWN0aXZlU3R5bGVzKCkpO1xuICB9LCBuKSwgV2UoKCkgPT4ge1xuICAgIGwobi5nZXRBY3RpdmVTdHlsZXMoKSk7XG4gIH0sIG4pLCBvO1xufVxuY29uc3QgdGkgPSAoZSA9IHt9LCB0ID0gW10pID0+IFQoKCkgPT4ge1xuICBjb25zdCBuID0gZW8uY3JlYXRlKGUpO1xuICByZXR1cm4gd2luZG93ICYmICh3aW5kb3cuUHJvc2VNaXJyb3IgPSBuLl90aXB0YXBFZGl0b3IpLCBuO1xufSwgdCksIGdpID0gdGk7XG5mdW5jdGlvbiBuaSgpIHtcbiAgY29uc3QgWywgZV0gPSBDKDApO1xuICByZXR1cm4gKCkgPT4gZSgodCkgPT4gdCArIDEpO1xufVxuY29uc3QgcGkgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gbmkoKTtcbiAgTCgoKSA9PiB7XG4gICAgY29uc3QgbiA9ICgpID0+IHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGUub24oXCJ0cmFuc2FjdGlvblwiLCBuKSwgKCkgPT4ge1xuICAgICAgZS5vZmYoXCJ0cmFuc2FjdGlvblwiLCBuKTtcbiAgICB9O1xuICB9LCBbZV0pO1xufTtcbmZ1bmN0aW9uIG9pKGUpIHtcbiAgcmV0dXJuIChcbiAgICAvLyBDcmVhdGVzIGlubGluZSBjb250ZW50IHNlY3Rpb24gZWxlbWVudFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIFp0LFxuICAgICAge1xuICAgICAgICBhczogXCJzcGFuXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1pbmxpbmUtY29udGVudC1zZWN0aW9uXCIsXG4gICAgICAgIFwiZGF0YS1pbmxpbmUtY29udGVudC10eXBlXCI6IGUuaW5saW5lQ29udGVudFR5cGUsXG4gICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhlLmlubGluZUNvbnRlbnRQcm9wcykuZmlsdGVyKChbdCwgbl0pID0+IG4gIT09IGUucHJvcFNjaGVtYVt0XS5kZWZhdWx0KS5tYXAoKFt0LCBuXSkgPT4gW050KHQpLCBuXSlcbiAgICAgICAgKSxcbiAgICAgICAgY2hpbGRyZW46IGUuY2hpbGRyZW5cbiAgICAgIH1cbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiB4aShlLCB0KSB7XG4gIGNvbnN0IG4gPSBPdCh7XG4gICAgbmFtZTogZS50eXBlLFxuICAgIGlubGluZTogITAsXG4gICAgZ3JvdXA6IFwiaW5saW5lXCIsXG4gICAgc2VsZWN0YWJsZTogZS5jb250ZW50ID09PSBcInN0eWxlZFwiLFxuICAgIGF0b206IGUuY29udGVudCA9PT0gXCJub25lXCIsXG4gICAgY29udGVudDogZS5jb250ZW50ID09PSBcInN0eWxlZFwiID8gXCJpbmxpbmUqXCIgOiBcIlwiLFxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgICByZXR1cm4gRHQoZS5wcm9wU2NoZW1hKTtcbiAgICB9LFxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgICAgcmV0dXJuIHRvKGUpO1xuICAgIH0sXG4gICAgcGFyc2VIVE1MKCkge1xuICAgICAgcmV0dXJuIG5vKGUpO1xuICAgIH0sXG4gICAgcmVuZGVySFRNTCh7IG5vZGU6IG8gfSkge1xuICAgICAgY29uc3QgbCA9IHRoaXMub3B0aW9ucy5lZGl0b3IsIGEgPSB2dChcbiAgICAgICAgbyxcbiAgICAgICAgbC5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgbC5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICksIGMgPSB0LnJlbmRlciwgcyA9IHBlKFxuICAgICAgICAodSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KGMsIHsgaW5saW5lQ29udGVudDogYSwgY29udGVudFJlZjogdSB9KSxcbiAgICAgICAgbFxuICAgICAgKTtcbiAgICAgIHJldHVybiBvbyhcbiAgICAgICAgcyxcbiAgICAgICAgZS50eXBlLFxuICAgICAgICBvLmF0dHJzLFxuICAgICAgICBlLnByb3BTY2hlbWFcbiAgICAgICk7XG4gICAgfSxcbiAgICAvLyBUT0RPOiBuZWVkZWQ/XG4gICAgYWRkTm9kZVZpZXcoKSB7XG4gICAgICBjb25zdCBvID0gdGhpcy5vcHRpb25zLmVkaXRvcjtcbiAgICAgIHJldHVybiAobCkgPT4genQoXG4gICAgICAgIChhKSA9PiB7XG4gICAgICAgICAgY29uc3QgYyA9IFV0KHt9KS5yZWYsIHMgPSB0LnJlbmRlcjtcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgICAgb2ksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlubGluZUNvbnRlbnRQcm9wczogYS5ub2RlLmF0dHJzLFxuICAgICAgICAgICAgICBpbmxpbmVDb250ZW50VHlwZTogZS50eXBlLFxuICAgICAgICAgICAgICBwcm9wU2NoZW1hOiBlLnByb3BTY2hlbWEsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgICAgICAgcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50UmVmOiBjLFxuICAgICAgICAgICAgICAgICAgaW5saW5lQ29udGVudDogdnQoXG4gICAgICAgICAgICAgICAgICAgIGEubm9kZSxcbiAgICAgICAgICAgICAgICAgICAgby5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgby5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImJuLWljLXJlYWN0LW5vZGUtdmlldy1yZW5kZXJlclwiLFxuICAgICAgICAgIGFzOiBcInNwYW5cIlxuICAgICAgICAgIC8vIGNvbnRlbnRET01FbGVtZW50VGFnOiBcInNwYW5cIiwgKHJlcXVpcmVzIHR0IHVwZ3JhZGUpXG4gICAgICAgIH1cbiAgICAgICkobCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJvKGUsIHtcbiAgICBub2RlOiBuXG4gIH0pO1xufVxuZnVuY3Rpb24gdmkoZSwgdCkge1xuICBjb25zdCBuID0gZm8uY3JlYXRlKHtcbiAgICBuYW1lOiBlLnR5cGUsXG4gICAgYWRkQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBpbyhlLnByb3BTY2hlbWEpO1xuICAgIH0sXG4gICAgcGFyc2VIVE1MKCkge1xuICAgICAgcmV0dXJuIGxvKGUpO1xuICAgIH0sXG4gICAgcmVuZGVySFRNTCh7IG1hcms6IG8gfSkge1xuICAgICAgY29uc3QgbCA9IHt9O1xuICAgICAgZS5wcm9wU2NoZW1hID09PSBcInN0cmluZ1wiICYmIChsLnZhbHVlID0gby5hdHRycy5zdHJpbmdWYWx1ZSk7XG4gICAgICBjb25zdCBhID0gdC5yZW5kZXIsIGMgPSBwZShcbiAgICAgICAgKHMpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChhLCB7IC4uLmwsIGNvbnRlbnRSZWY6IHMgfSksXG4gICAgICAgIHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHJldHVybiBhbyhcbiAgICAgICAgYyxcbiAgICAgICAgZS50eXBlLFxuICAgICAgICBvLmF0dHJzLnN0cmluZ1ZhbHVlLFxuICAgICAgICBlLnByb3BTY2hlbWFcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNvKGUsIHtcbiAgICBtYXJrOiBuXG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgeHIgYXMgQWRkQmxvY2tCdXR0b24sXG4gIFR0IGFzIEFkZEJ1dHRvbixcbiAgTHIgYXMgQWRkQ29sdW1uQnV0dG9uLFxuICBqZSBhcyBBZGRGaWxlQnV0dG9uLFxuICBSciBhcyBBZGRSb3dCdXR0b24sXG4gIHFyIGFzIEF1ZGlvUHJldmlldyxcbiAgWXIgYXMgQXVkaW9Ub0V4dGVybmFsSFRNTCxcbiAgZmUgYXMgQmFzaWNUZXh0U3R5bGVCdXR0b24sXG4gIHZyIGFzIEJsb2NrQ29sb3JzSXRlbSxcbiAgT2UgYXMgQmxvY2tDb250ZW50V3JhcHBlcixcbiAgV3QgYXMgQmxvY2tOb3RlQ29udGV4dCxcbiAgVXIgYXMgQmxvY2tOb3RlRGVmYXVsdFVJLFxuICB1aSBhcyBCbG9ja05vdGVWaWV3UmF3LFxuICBvciBhcyBCbG9ja1R5cGVTZWxlY3QsXG4gIEdvIGFzIENvbG9yU3R5bGVCdXR0b24sXG4gIGdvIGFzIENvbXBvbmVudHNDb250ZXh0LFxuICBxbyBhcyBDcmVhdGVMaW5rQnV0dG9uLFxuICB5ZSBhcyBEZWZhdWx0RmlsZVByZXZpZXcsXG4gIE5yIGFzIERlbGV0ZUJ1dHRvbixcbiAgRnIgYXMgRGVsZXRlQ29sdW1uQnV0dG9uLFxuICBkciBhcyBEZWxldGVMaW5rQnV0dG9uLFxuICBQciBhcyBEZWxldGVSb3dCdXR0b24sXG4gIHlyIGFzIERyYWdIYW5kbGVCdXR0b24sXG4gIGtyIGFzIERyYWdIYW5kbGVNZW51LFxuICBmciBhcyBFZGl0TGlua0J1dHRvbixcbiAgb24gYXMgRWRpdExpbmtNZW51SXRlbXMsXG4gIEpvIGFzIEVtYmVkVGFiLFxuICAkZSBhcyBGaWd1cmVXaXRoQ2FwdGlvbixcbiAgJCBhcyBGaWxlQW5kQ2FwdGlvbldyYXBwZXIsXG4gIFlvIGFzIEZpbGVDYXB0aW9uQnV0dG9uLFxuICBybiBhcyBGaWxlUGFuZWwsXG4gIGdyIGFzIEZpbGVQYW5lbENvbnRyb2xsZXIsXG4gIGVyIGFzIEZpbGVSZXBsYWNlQnV0dG9uLFxuICBLciBhcyBGaWxlVG9FeHRlcm5hbEhUTUwsXG4gIHNyIGFzIEZvcm1hdHRpbmdUb29sYmFyLFxuICB1ciBhcyBGb3JtYXR0aW5nVG9vbGJhckNvbnRyb2xsZXIsXG4gIFhyIGFzIEltYWdlUHJldmlldyxcbiAgSnIgYXMgSW1hZ2VUb0V4dGVybmFsSFRNTCxcbiAgb2kgYXMgSW5saW5lQ29udGVudFdyYXBwZXIsXG4gIGhyIGFzIExpbmtUb29sYmFyLFxuICBiciBhcyBMaW5rVG9vbGJhckNvbnRyb2xsZXIsXG4gIHdlIGFzIExpbmtXaXRoQ2FwdGlvbixcbiAgS28gYXMgTmVzdEJsb2NrQnV0dG9uLFxuICBtciBhcyBPcGVuTGlua0J1dHRvbixcbiAgZGkgYXMgUmVhY3RBdWRpb0Jsb2NrLFxuICBmaSBhcyBSZWFjdEZpbGVCbG9jayxcbiAgbWkgYXMgUmVhY3RJbWFnZUJsb2NrLFxuICBoaSBhcyBSZWFjdFZpZGVvQmxvY2ssXG4gIENyIGFzIFJlbW92ZUJsb2NrSXRlbSxcbiAgYW4gYXMgUmVzaXplSGFuZGxlc1dyYXBwZXIsXG4gIGpyIGFzIFNpZGVNZW51LFxuICB3ciBhcyBTaWRlTWVudUNvbnRyb2xsZXIsXG4gIEJyIGFzIFN1Z2dlc3Rpb25NZW51Q29udHJvbGxlcixcbiAgVHIgYXMgU3VnZ2VzdGlvbk1lbnVXcmFwcGVyLFxuICBEciBhcyBUYWJsZUhhbmRsZSxcbiAgT3IgYXMgVGFibGVIYW5kbGVNZW51LFxuICB6ciBhcyBUYWJsZUhhbmRsZXNDb250cm9sbGVyLFxuICBOZSBhcyBUZXh0QWxpZ25CdXR0b24sXG4gIFhvIGFzIFVubmVzdEJsb2NrQnV0dG9uLFxuICBRbyBhcyBVcGxvYWRUYWIsXG4gIFFyIGFzIFZpZGVvUHJldmlldyxcbiAgZWkgYXMgVmlkZW9Ub0V4dGVybmFsSFRNTCxcbiAgbnIgYXMgYmxvY2tUeXBlU2VsZWN0SXRlbXMsXG4gIGtlIGFzIGNyZWF0ZVJlYWN0QmxvY2tTcGVjLFxuICB4aSBhcyBjcmVhdGVSZWFjdElubGluZUNvbnRlbnRTcGVjLFxuICB2aSBhcyBjcmVhdGVSZWFjdFN0eWxlU3BlYyxcbiAgRXIgYXMgZ2V0RGVmYXVsdFJlYWN0U2xhc2hNZW51SXRlbXMsXG4gIGNyIGFzIGdldEZvcm1hdHRpbmdUb29sYmFySXRlbXMsXG4gIGJpIGFzIHVzZUFjdGl2ZVN0eWxlcyxcbiAgZ2kgYXMgdXNlQmxvY2tOb3RlLFxuICBVIGFzIHVzZUJsb2NrTm90ZUNvbnRleHQsXG4gIEggYXMgdXNlQmxvY2tOb3RlRWRpdG9yLFxuICBfciBhcyB1c2VDbG9zZVN1Z2dlc3Rpb25NZW51Tm9JdGVtcyxcbiAgdiBhcyB1c2VDb21wb25lbnRzQ29udGV4dCxcbiAgdGkgYXMgdXNlQ3JlYXRlQmxvY2tOb3RlLFxuICBfIGFzIHVzZURpY3Rpb25hcnksXG4gIFVlIGFzIHVzZUVkaXRvckNoYW5nZSxcbiAgVyBhcyB1c2VFZGl0b3JDb250ZW50T3JTZWxlY3Rpb25DaGFuZ2UsXG4gIHBpIGFzIHVzZUVkaXRvckZvcmNlVXBkYXRlLFxuICBXZSBhcyB1c2VFZGl0b3JTZWxlY3Rpb25DaGFuZ2UsXG4gIFNyIGFzIHVzZUxvYWRTdWdnZXN0aW9uTWVudUl0ZW1zLFxuICBPIGFzIHVzZVNlbGVjdGVkQmxvY2tzLFxuICBNciBhcyB1c2VTdWdnZXN0aW9uTWVudUtleWJvYXJkTmF2aWdhdGlvbixcbiAgWnIgYXMgdXNlVGFibGVIYW5kbGVzUG9zaXRpb25pbmdcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibG9ja25vdGUtcmVhY3QuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@blocknote/react/dist/blocknote-react.js\n");

/***/ })

};
;